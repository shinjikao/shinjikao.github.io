{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///TweenTime.Editor.min.js","webpack:///webpack/bootstrap 224351058837809bafff?46b2","webpack:///./Editor.js","webpack:///./core/Utils.js?8d2f","webpack:///external {\"root\":\"signals\",\"commonjs\":\"signals\",\"commonjs2\":\"signals\",\"amd\":\"signals\"}?9038","webpack:///external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}?55d0","webpack:///./graph/Timeline.js","webpack:///./graph/Header.js","webpack:///external \"d3\"","webpack:///./graph/TimeIndicator.js","webpack:///./graph/Items.js","webpack:///./graph/KeysPreview.js","webpack:///./graph/Properties.js","webpack:///./graph/Keys.js","webpack:///./graph/Errors.js","webpack:///./graph/Selection.js","webpack:///./editor/PropertiesEditor.js","webpack:///external {\"root\":\"$\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\"}","webpack:///./editor/Property.js","webpack:///./editor/PropertyNumber.js","webpack:///./editor/PropertyBase.js","webpack:///external {\"root\":\"DraggableNumber\",\"commonjs\":\"draggable-number.js\",\"commonjs2\":\"draggable-number.js\",\"amd\":\"DraggableNumber\"}","webpack:///./templates/propertyNumber.tpl.html","webpack:////Users/jackalkao/Bear080808/~/hogan.js/lib/hogan.js","webpack:////Users/jackalkao/Bear080808/~/hogan.js/lib/compiler.js","webpack:////Users/jackalkao/Bear080808/~/hogan.js/lib/template.js","webpack:///./editor/PropertyColor.js","webpack:///external {\"root\":\"spectrum\",\"commonjs\":\"spectrum-colorpicker\",\"commonjs2\":\"spectrum-colorpicker\",\"amd\":\"spectrum\"}","webpack:///./templates/propertyColor.tpl.html","webpack:///./editor/PropertyTween.js","webpack:///./templates/propertyTween.tpl.html","webpack:///./editor/PropertyMotionBody.js","webpack:///./templates/propertyMotionBody.tpl.html","webpack:///./templates/propertiesEditor.tpl.html","webpack:///./editor/EditorMenu.js","webpack:///external {\"root\":\"saveAs\",\"commonjs\":\"file-saver\",\"commonjs2\":\"file-saver\",\"amd\":\"file-saver\"}","webpack:///./editor/EditorControls.js","webpack:///./editor/SelectionManager.js","webpack:///./editor/Exporter.js","webpack:///./editor/UndoManager.js","webpack:///./templates/timeline.tpl.html"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_9__","__WEBPACK_EXTERNAL_MODULE_18__","__WEBPACK_EXTERNAL_MODULE_22__","__WEBPACK_EXTERNAL_MODULE_28__","__WEBPACK_EXTERNAL_MODULE_36__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","_Timeline","_Timeline2","_PropertiesEditor","_PropertiesEditor2","_EditorMenu","_EditorMenu2","_EditorControls","_EditorControls2","_SelectionManager","_SelectionManager2","_Exporter","_Exporter2","_UndoManager","_UndoManager2","tpl_timeline","Signals","Editor","tweenTime","_this","options","arguments","undefined","timer","lastTime","onKeyAdded","bind","onKeyRemoved","el","$","$timeline","append","addClass","selectionManager","exporter","timeline","propertiesEditor","keyAdded","add","keyRemoved","menu","onMenuCreated","find","controls","undoManager","onSelect","Signal","self","selection","addToSelection","dispatch","window","editorEnabled","dispatchEvent","Event","requestAnimationFrame","update","value","item","select","getSelection","addState","render","removeItem","_id","triggerSelect","time","time_changed","force","time2","_isDirty","_this2","Utils","d","seconds","hours","Math","floor","minutes","output","data","objectId","property_name","tolerance","timer_time","getCurrentTime","abs","start","end","j","properties","prop","keys","name","k","prevKey","compare","a","b","sort","s4","random","toString","substring","_Utils","_Utils2","_Header","_Header2","_TimeIndicator","_TimeIndicator2","_Items","_Items2","_KeysPreview","_KeysPreview2","_Properties","_Properties2","_Keys","_Keys2","_Errors","_Errors2","_Selection","_Selection2","console","log","d3","Timeline","editor","currentTime","onUpdate","initialDomain","domainStart","domainEnd","totalDuration","margin","top","right","bottom","left","width","innerWidth","height","lineHeight","label_position_x","x","scale","domain","range","xAxis","svg","axis","orient","tickSize","tickFormat","formatMinutes","get","attr","svgContainer","svgContainerTime","linesContainer","header","timeIndicator","items","keysPreview","newKey","keyContainer","selectNewGroup","errors","onKeyUpdated","xAxisGrid","ticks","dy","xGrid","xAxisElement","onBrush","extent","onresize","INNER_WIDTH","width2","selectAll","resize","domainLength","margin_ms","setDomain","bar","max","updateHeight","Header","xDisplayed","createBrushHandle","createTimeHandle","durationChanged","onDurationChanged","ms","new_domain","min","brush","adaptDomainToDuration","extent0","getTime","on","gBrush","timeSelection","dragTimeMove","event","sourceEvent","stopPropagation","event_x","clientX","dx","invert","timeMatch","shiftKey","getClosestTime","seek","dragTime","behavior","drag","origin","enter","mouse","timeGrp","TimeIndicator","container","_","Items","selectBar","datum","dragmove","diff","prop_key","dragmoveLeft","dragmoveRight","dragLeft","t","y","dragRight","bar_border","barEnter","barContainerRight","guid","collapsed","numProperties","visibleProperties","filter","barWithStartAndEnd","text","label","exit","remove","KeysPreview","propVal","propKey","setItemStyle","parentNode","bar_data","keyValue","keyKey","parseInt","Properties","subGrp","core","group","sub_height","lineObject","lineValue","def","getPreviousKey","val","_line","_property","defaultEase","ease","push","sortKeys","Keys","classed","_dom","propertyObject","propertyData","lineData","key_data","currentDomainStart","old_time","selection_first_time","selection_last_time","isEqual","time_offset","updateKeyItem","property","key_scale","is_first","altKey","propValue","selectKey","type","dragend","key_grp","cls","split","grp_linear","grp_in","grp_out","grp_inout","Errors","propertiesWithError","insert","errorsValue","errorTime","Selection","onMouseUp","init","css","user-select","class","reset","s","empty","move","key_width","timeStart","timeEnd","containerBounding","getBoundingClientRect","each","state_data","item_data","itemBounding","_Property","_Property2","tpl_propertiesEditor","PropertiesEditor","addProperty","$el","$container","parentElement","keypress","e","forEach","Array","removeClass","_PropertyNumber","_PropertyNumber2","_PropertyColor","_PropertyColor2","_PropertyTween","_PropertyTween2","_PropertyMotionBody","_PropertyMotionBody2","Property","numberProp","tweenProp","key_val","property_group","getContainer","$tween_container","hasOwnProperty","instance_prop","$grp_container","getGroupContainer","addTweenProperty","addNumberProperty","$existing","$grp","grp_class","createGroupContainer","group_name","replace","toLowerCase","title","dispose","PropClass","tween","click","preventDefault","index","indexOf","splice","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_get","object","receiver","Function","desc","getOwnPropertyDescriptor","parent","getPrototypeOf","getter","_PropertyBase2","_PropertyBase3","DraggableNumber","tpl_property","PropertyNumber","_PropertyBase","instance_property","onInputChange","$input","parseFloat","getCurrentVal","getCurrentX","getCurrentY","video","getCurrentVideo","audio","getCurrentAudio","led","getCurrentLed","view","onKeyClick","onChangeEnd","draggableOptions","changeCallback","endCallback","draggable","change","destroy","set","toFixed","PropertyBase","$key","currentValue","addKey","prop_name","values","x_time","y_time","current_value","getInputVal","current_key","getCurrentKey","toggleClass","H","T","Template","code","v","f","fl","partials","subs","apply","Hogan","template","cleanTripleStache","token","n","substr","trim","tagChange","tag","charAt","l","buildTree","tokens","kind","stack","customTags","instructions","opener","tail","shift","allowedInSuper","Error","tags","isOpener","nodes","pop","isCloser","last","o","close","open","stringifySubstitutions","esc","join","stringifyPartials","codeObj","rSlash","rQuot","rNewline","rCr","rLineSep","rParagraphSep","chooseMethod","createPartial","node","context","prefix","sym","serialNo","indent","tripleStache","write","rIsWhitespace","#","^","<","/","!",">","=","_v","{","&","_t","scan","delimiters","addBuf","buf","String","lineIsWhitespace","isAllWhitespace","lineStart","match","filterLine","haveSeenTag","noNewLine","next","seenTag","changeDelimiters","ctag","closeIndex","otag","len","IN_TEXT","IN_TAG_TYPE","IN_TAG","state","tagType","\n","stringify","wrapMain","generate","tree","walk","asString","makeTemplate","makePartials","codegen","ctx","inPartial","nodelist","func","parse","sectionTags","cache","cacheKey","disableLambda","modelGet","compile","findInScope","scope","doModelGet","createSpecializedPartial","stackSubs","stackPartials","stackText","PartialTemplate","Substitutions","partial","subsText","coerceToString","hoganEscape","str","hChars","test","rAmp","rLt","rGt","rApos","compiler","r","ri","ep","symbol","base","activeSub","rp","rs","section","isArray","inverted","pass","returnFound","found","names","cx","mv","ls","oldTags","ct","textSource","result","sub","PropertyColor","spectrum","allowEmpty","showAlpha","clickoutFiresChange","preferredFormat","color","_a","toHexString","toRgbString","PropertyTween","onChange","$time","selected","tweens","charCode","blur","updateKeyTime","document","execCommand","isNaN","html","PropertyMotionBody","getCurrentXTime","getCurrentYTime","saveAs","EditorMenu","initExport","initToggle","timelineClosed","$toggleLink","$toggleLinkSide","propertiesClosed","hasClass","getJSON","blob","Blob","EditorControls","$time_end","initControls","getDuration","playPause","$play_pause","toggle","is_playing","$bt_first","$bt_last","total","getTotalDuration","setDuration","SelectionManager","addDataRelations","removeDuplicates","highlightItems","sortSelection","item2","itemObj","lineIndex","line","propIndex","keyIndex","d3item","Exporter","domain_start","domain_end","settings","duration","json_replacer","getData","JSON","UndoManager","history_max","history","current_index","keydown","keyCode","metaKey","ctrlKey","redo","undo","setState","item_key","key_key"],"mappings":"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","file":"TweenTime.Editor.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"signals\"), require(\"lodash\"), require(\"d3\"), require(\"jquery\"), require(\"draggable-number.js\"), require(\"spectrum-colorpicker\"), require(\"file-saver\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"signals\", \"lodash\", \"d3\", \"jquery\", \"DraggableNumber\", \"spectrum\", \"file-saver\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Editor\"] = factory(require(\"signals\"), require(\"lodash\"), require(\"d3\"), require(\"jquery\"), require(\"draggable-number.js\"), require(\"spectrum-colorpicker\"), require(\"file-saver\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Editor\"] = factory(root[\"signals\"], root[\"_\"], root[\"d3\"], root[\"$\"], root[\"DraggableNumber\"], root[\"spectrum\"], root[\"saveAs\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_22__, __WEBPACK_EXTERNAL_MODULE_28__, __WEBPACK_EXTERNAL_MODULE_36__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"signals\"), require(\"lodash\"), require(\"d3\"), require(\"jquery\"), require(\"draggable-number.js\"), require(\"spectrum-colorpicker\"), require(\"file-saver\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"signals\", \"lodash\", \"d3\", \"jquery\", \"DraggableNumber\", \"spectrum\", \"file-saver\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Editor\"] = factory(require(\"signals\"), require(\"lodash\"), require(\"d3\"), require(\"jquery\"), require(\"draggable-number.js\"), require(\"spectrum-colorpicker\"), require(\"file-saver\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Editor\"] = factory(root[\"signals\"], root[\"_\"], root[\"d3\"], root[\"$\"], root[\"DraggableNumber\"], root[\"spectrum\"], root[\"saveAs\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_18__, __WEBPACK_EXTERNAL_MODULE_22__, __WEBPACK_EXTERNAL_MODULE_28__, __WEBPACK_EXTERNAL_MODULE_36__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Timeline = __webpack_require__(7);\n\t\n\tvar _Timeline2 = _interopRequireDefault(_Timeline);\n\t\n\tvar _PropertiesEditor = __webpack_require__(17);\n\t\n\tvar _PropertiesEditor2 = _interopRequireDefault(_PropertiesEditor);\n\t\n\tvar _EditorMenu = __webpack_require__(35);\n\t\n\tvar _EditorMenu2 = _interopRequireDefault(_EditorMenu);\n\t\n\tvar _EditorControls = __webpack_require__(37);\n\t\n\tvar _EditorControls2 = _interopRequireDefault(_EditorControls);\n\t\n\tvar _SelectionManager = __webpack_require__(38);\n\t\n\tvar _SelectionManager2 = _interopRequireDefault(_SelectionManager);\n\t\n\tvar _Exporter = __webpack_require__(39);\n\t\n\tvar _Exporter2 = _interopRequireDefault(_Exporter);\n\t\n\tvar _UndoManager = __webpack_require__(40);\n\t\n\tvar _UndoManager2 = _interopRequireDefault(_UndoManager);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar tpl_timeline = __webpack_require__(41);\n\t\n\tvar Signals = __webpack_require__(3);\n\t\n\tvar Editor = function () {\n\t  function Editor(tweenTime) {\n\t    var _this = this;\n\t\n\t    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    _classCallCheck(this, Editor);\n\t\n\t    this.tweenTime = tweenTime;\n\t    this.options = options;\n\t    this.timer = this.tweenTime.timer;\n\t    this.lastTime = -1;\n\t\n\t    this.onKeyAdded = this.onKeyAdded.bind(this);\n\t    this.onKeyRemoved = this.onKeyRemoved.bind(this);\n\t\n\t    var el = options.el || $('body');\n\t    this.el = el;\n\t    this.$timeline = $(tpl_timeline());\n\t    el.append(this.$timeline);\n\t    el.addClass('has-editor');\n\t\n\t    this.selectionManager = new _SelectionManager2.default(this.tweenTime);\n\t    this.exporter = new _Exporter2.default(this);\n\t    this.timeline = new _Timeline2.default(this, options);\n\t\n\t    this.propertiesEditor = new _PropertiesEditor2.default(this, this.selectionManager);\n\t    this.propertiesEditor.keyAdded.add(this.onKeyAdded);\n\t    this.propertiesEditor.keyRemoved.add(this.onKeyRemoved);\n\t\n\t    this.menu = new _EditorMenu2.default(this.tweenTime, this.$timeline, this);\n\t    if (this.options.onMenuCreated !== undefined) {\n\t      this.options.onMenuCreated(this.$timeline.find('.timeline__menu'), this);\n\t    }\n\t\n\t    this.controls = new _EditorControls2.default(this.tweenTime, this.$timeline);\n\t    this.undoManager = new _UndoManager2.default(this);\n\t\n\t    // Public events.\n\t    this.onSelect = new Signals.Signal();\n\t    var self = this;\n\t    this.selectionManager.onSelect.add(function (selection, addToSelection) {\n\t      // Propagate the event.\n\t      self.onSelect.dispatch(selection, addToSelection);\n\t    });\n\t\n\t    // Will help resize the canvas to correct size (minus sidebar and timeline)\n\t    window.editorEnabled = true;\n\t    window.dispatchEvent(new Event('resize'));\n\t    window.requestAnimationFrame(function () {\n\t      return _this.update();\n\t    });\n\t  }\n\t\n\t  _createClass(Editor, [{\n\t    key: 'select',\n\t    value: function select(item) {\n\t      var addToSelection = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t      this.selectionManager.select(item, addToSelection);\n\t    }\n\t  }, {\n\t    key: 'getSelection',\n\t    value: function getSelection() {\n\t      return this.selectionManager.getSelection();\n\t    }\n\t  }, {\n\t    key: 'onKeyAdded',\n\t    value: function onKeyAdded() {\n\t      this.undoManager.addState();\n\t      this.render(false, false, true);\n\t    }\n\t  }, {\n\t    key: 'onKeyRemoved',\n\t    value: function onKeyRemoved(item) {\n\t      this.selectionManager.removeItem(item._id);\n\t      this.undoManager.addState();\n\t      if (this.selectionManager.selection.length) {\n\t        this.selectionManager.triggerSelect();\n\t      }\n\t      this.render(false, false, true);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var time = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\t      var time_changed = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t      var force = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\t\n\t      var time2 = time;\n\t      if (time2 === false) {\n\t        time2 = this.timer.time[0];\n\t      }\n\t      if (force) {\n\t        this.timeline._isDirty = true;\n\t      }\n\t      this.timeline.render(time2, time_changed);\n\t      this.controls.render(time2, time_changed);\n\t      this.propertiesEditor.render(time2, time_changed);\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      var _this2 = this;\n\t\n\t      var time = this.timer.time[0];\n\t      var time_changed = this.lastTime === time ? false : true;\n\t\n\t      this.render(time, time_changed);\n\t      this.lastTime = this.timer.time[0];\n\t      window.requestAnimationFrame(function () {\n\t        return _this2.update();\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return Editor;\n\t}();\n\t\n\tmodule.exports = Editor;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Utils = function () {\n\t  function Utils() {\n\t    _classCallCheck(this, Utils);\n\t  }\n\t\n\t  _createClass(Utils, null, [{\n\t    key: 'formatMinutes',\n\t    value: function formatMinutes(d) {\n\t      // convert milliseconds to seconds\n\t      var seconds = d / 1000;\n\t      var hours = Math.floor(seconds / 3600);\n\t      var minutes = Math.floor((seconds - hours * 3600) / 60);\n\t      seconds = seconds - minutes * 60;\n\t      var output = seconds + 's';\n\t      if (minutes) {\n\t        output = minutes + 'm ' + output;\n\t      }\n\t      if (hours) {\n\t        output = hours + 'h ' + output;\n\t      }\n\t      return output;\n\t    }\n\t  }, {\n\t    key: 'getClosestTime',\n\t    value: function getClosestTime(data, time) {\n\t      var objectId = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\t      var property_name = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t      var timer = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\t      var tolerance = arguments.length <= 5 || arguments[5] === undefined ? 0.1 : arguments[5];\n\t\n\t      if (timer) {\n\t        var timer_time = timer.getCurrentTime() / 1000;\n\t        if (Math.abs(timer_time - time) <= tolerance) {\n\t          return timer_time;\n\t        }\n\t      }\n\t\n\t      if (objectId || property_name) {\n\t        for (var i = 0; i < data.length; i++) {\n\t          var item = data[i];\n\t          // Don't match item with itself, but allow property to match item start/end.\n\t          if (item.id !== objectId || property_name) {\n\t            // First check start & end.\n\t            if (Math.abs(item.start - time) <= tolerance) {\n\t              return item.start;\n\t            }\n\t\n\t            if (Math.abs(item.end - time) <= tolerance) {\n\t              return item.end;\n\t            }\n\t          }\n\t\n\t          // Test properties keys\n\t          for (var j = 0; j < item.properties.length; j++) {\n\t            var prop = item.properties[j];\n\t\n\t            // Don't match property with itself.\n\t            if (prop.keys && (item.id !== objectId || prop.name !== property_name)) {\n\t              for (var k = 0; k < prop.keys.length; k++) {\n\t                var key = prop.keys[k];\n\t                if (Math.abs(key.time - time) <= tolerance) {\n\t                  return key.time;\n\t                }\n\t              }\n\t            }\n\t          }\n\t        }\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'getPreviousKey',\n\t    value: function getPreviousKey(keys, time) {\n\t      var prevKey = false;\n\t      for (var i = 0; i < keys.length; i++) {\n\t        var key = keys[i];\n\t        if (key.time < time) {\n\t          prevKey = key;\n\t        } else {\n\t          return prevKey;\n\t        }\n\t      }\n\t      return prevKey;\n\t    }\n\t  }, {\n\t    key: 'sortKeys',\n\t    value: function sortKeys(keys) {\n\t      var compare = function compare(a, b) {\n\t        if (a.time < b.time) {\n\t          return -1;\n\t        }\n\t        if (a.time > b.time) {\n\t          return 1;\n\t        }\n\t        return 0;\n\t      };\n\t      return keys.sort(compare);\n\t    }\n\t  }, {\n\t    key: 'guid',\n\t    value: function guid() {\n\t      var s4 = function s4() {\n\t        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t      };\n\t      return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n\t    }\n\t  }]);\n\t\n\t  return Utils;\n\t}();\n\t\n\texports.default = Utils;\n\n/***/ },\n/* 2 */,\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */,\n/* 5 */,\n/* 6 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tvar _Header = __webpack_require__(8);\n\t\n\tvar _Header2 = _interopRequireDefault(_Header);\n\t\n\tvar _TimeIndicator = __webpack_require__(10);\n\t\n\tvar _TimeIndicator2 = _interopRequireDefault(_TimeIndicator);\n\t\n\tvar _Items = __webpack_require__(11);\n\t\n\tvar _Items2 = _interopRequireDefault(_Items);\n\t\n\tvar _KeysPreview = __webpack_require__(12);\n\t\n\tvar _KeysPreview2 = _interopRequireDefault(_KeysPreview);\n\t\n\tvar _Properties = __webpack_require__(13);\n\t\n\tvar _Properties2 = _interopRequireDefault(_Properties);\n\t\n\tvar _Keys = __webpack_require__(14);\n\t\n\tvar _Keys2 = _interopRequireDefault(_Keys);\n\t\n\tvar _Errors = __webpack_require__(15);\n\t\n\tvar _Errors2 = _interopRequireDefault(_Errors);\n\t\n\tvar _Selection = __webpack_require__(16);\n\t\n\tvar _Selection2 = _interopRequireDefault(_Selection);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"graph/Timeline.js\");\n\tvar d3 = __webpack_require__(9);\n\t\n\tvar Timeline = function () {\n\t  function Timeline(editor, options) {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, Timeline);\n\t\n\t    this.editor = editor;\n\t    this.tweenTime = this.editor.tweenTime;\n\t    this.timer = this.tweenTime.timer;\n\t    this.selectionManager = this.editor.selectionManager;\n\t\n\t    this._isDirty = true;\n\t    this.timer = this.tweenTime.timer;\n\t    this.currentTime = this.timer.time; // used in timeindicator.\n\t\n\t    this.onUpdate = this.onUpdate.bind(this);\n\t\n\t    // Make the domain cover 20% of the totalDuation by default.\n\t    this.initialDomain = [];\n\t    this.initialDomain[0] = options.domainStart || 0;\n\t    this.initialDomain[1] = options.domainEnd || this.timer.totalDuration * 0.2;\n\t\n\t    // Adapt time to be greater or equal to domainStart.\n\t    if (this.initialDomain[0] > this.timer.getCurrentTime()) {\n\t      this.timer.time[0] = this.initialDomain[0];\n\t    }\n\t\n\t    var margin = { top: 6, right: 20, bottom: 0, left: 265 };\n\t    this.margin = margin;\n\t\n\t    var width = window.innerWidth - margin.left - margin.right;\n\t    var height = 270 - margin.top - margin.bottom - 40;\n\t    this.lineHeight = 20;\n\t    this.label_position_x = -margin.left + 20;\n\t\n\t    this.x = d3.time.scale().domain(this.initialDomain).range([0, width]);\n\t\n\t    this.xAxis = d3.svg.axis().scale(this.x).orient('top').tickSize(-height, 0).tickFormat(_Utils2.default.formatMinutes);\n\t\n\t    this.svg = d3.select(editor.$timeline.get(0)).select('.timeline__main').append('svg').attr('width', width + margin.left + margin.right).attr('height', 600);\n\t\n\t    this.svgContainer = this.svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\t\n\t    this.svgContainerTime = this.svg.append('g').attr('transform', 'translate(' + margin.left + ',0)');\n\t\n\t    this.linesContainer = this.svg.append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\t\n\t    this.header = new _Header2.default(editor, this.timer, this.initialDomain, this.tweenTime, width, margin);\n\t    this.timeIndicator = new _TimeIndicator2.default(this, this.svgContainerTime);\n\t\n\t    this.selection = new _Selection2.default(this, this.svg, margin);\n\t\n\t    this.items = new _Items2.default(this, this.linesContainer);\n\t    this.items.onUpdate.add(this.onUpdate);\n\t    this.keysPreview = new _KeysPreview2.default(this, this.linesContainer);\n\t\n\t    //Alice--Original\n\t    //this.properties = new Properties(this);\n\t    /*this.properties.onKeyAdded.add((newKey, keyContainer) => {\n\t      this._isDirty = true;\n\t      // render the timeline directly so that we can directly select\n\t      // the new key with it's domElement.\n\t      this.render(0, false);\n\t      this.keys.selectNewKey(newKey, keyContainer);\n\t    });*/\n\t\n\t    //Alice--Left Label\n\t    this.properties = new _Properties2.default(this);\n\t    this.properties.onKeyAdded.add(function (newKey, keyContainer) {\n\t      _this._isDirty = true;\n\t      // render the timeline directly so that we can directly select\n\t      // the new key with it's domElement.\n\t      _this.render(0, false);\n\t      _this.keys.selectNewGroup(newKey, keyContainer);\n\t    });\n\t\n\t    this.errors = new _Errors2.default(this);\n\t    this.keys = new _Keys2.default(this);\n\t    this.keys.onKeyUpdated.add(function () {\n\t      _this.onUpdate();\n\t    });\n\t\n\t    this.xAxisGrid = d3.svg.axis().scale(this.x).ticks(100).tickSize(-this.items.dy, 0).tickFormat('').orient('top');\n\t\n\t    this.xGrid = this.svgContainer.append('g').attr('class', 'x axis grid').attr('transform', 'translate(0,' + margin.top + ')').call(this.xAxisGrid);\n\t\n\t    this.xAxisElement = this.svgContainer.append('g').attr('class', 'x axis').attr('transform', 'translate(0,' + margin.top + ')').call(this.xAxis);\n\t\n\t    this.header.onBrush.add(function (extent) {\n\t      _this.x.domain(extent);\n\t      _this.xGrid.call(_this.xAxisGrid);\n\t      _this.xAxisElement.call(_this.xAxis);\n\t      _this._isDirty = true;\n\t    });\n\t\n\t    // First render\n\t    window.requestAnimationFrame(function () {\n\t      _this.render();\n\t    });\n\t\n\t    window.onresize = function () {\n\t      var INNER_WIDTH = window.innerWidth;\n\t      var width2 = INNER_WIDTH - margin.left - margin.right;\n\t      _this.svg.attr('width', width2 + margin.left + margin.right);\n\t      _this.svg.selectAll('.timeline__right-mask').attr('width', INNER_WIDTH);\n\t      _this.x.range([0, width2]);\n\t\n\t      _this._isDirty = true;\n\t      _this.header.resize(INNER_WIDTH);\n\t      _this.render();\n\t    };\n\t  }\n\t\n\t  _createClass(Timeline, [{\n\t    key: 'onUpdate',\n\t    value: function onUpdate() {\n\t      this.editor.render(false, false, true);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render(time, time_changed) {\n\t      if (time_changed) {\n\t        var domainLength;\n\t        // Update current domain when playing to keep time indicator in view.\n\t        var margin_ms = 16;\n\t        if (this.timer.getCurrentTime() > this.initialDomain[1]) {\n\t          domainLength = this.initialDomain[1] - this.initialDomain[0];\n\t          this.initialDomain[0] += domainLength - margin_ms;\n\t          this.initialDomain[1] += domainLength - margin_ms;\n\t          this.header.setDomain(this.initialDomain);\n\t        }\n\t        if (this.timer.getCurrentTime() < this.initialDomain[0]) {\n\t          domainLength = this.initialDomain[1] - this.initialDomain[0];\n\t          this.initialDomain[0] = this.timer.getCurrentTime();\n\t          this.initialDomain[1] = this.initialDomain[0] + domainLength;\n\t          this.header.setDomain(this.initialDomain);\n\t        }\n\t      }\n\t\n\t      if (this._isDirty || time_changed) {\n\t        // Render header and time indicator everytime the time changed.\n\t        this.header.render();\n\t        this.timeIndicator.render();\n\t      }\n\t\n\t      if (this._isDirty) {\n\t        // No need to call this on each frames, but only on brush, key drag, ...\n\t        var bar = this.items.render();\n\t        this.keysPreview.render(bar);\n\t        var properties = this.properties.render(bar);\n\t        this.errors.render(properties);\n\t        this.keys.render(properties);\n\t        this._isDirty = false;\n\t\n\t        // Adapt the timeline height.\n\t        var height = Math.max(this.items.dy + 30, 230);\n\t        this.xAxis.tickSize(-height, 0);\n\t        this.xAxisGrid.tickSize(-height, 0);\n\t        this.xGrid.call(this.xAxisGrid);\n\t        this.xAxisElement.call(this.xAxis);\n\t        this.svg.attr('height', height);\n\t        this.timeIndicator.updateHeight(height);\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Timeline;\n\t}();\n\t\n\texports.default = Timeline;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"graph/Header.js\");\n\tvar d3 = __webpack_require__(9);\n\t\n\tvar Signals = __webpack_require__(3);\n\t\n\tvar Header = function () {\n\t  function Header(editor, timer, initialDomain, tweenTime, width, margin) {\n\t    _classCallCheck(this, Header);\n\t\n\t    this.timer = timer;\n\t    this.initialDomain = initialDomain;\n\t    this.tweenTime = tweenTime;\n\t\n\t    this.onBrush = new Signals.Signal();\n\t    this.margin = { top: 10, right: 20, bottom: 0, left: margin.left };\n\t    this.height = 50 - this.margin.top - this.margin.bottom + 20;\n\t\n\t    this.currentTime = this.timer.time;\n\t    this.x = d3.time.scale().range([0, width]);\n\t    this.x.domain([0, this.timer.totalDuration]);\n\t\n\t    // Same as this.x from timeline\n\t    this.xDisplayed = d3.time.scale().range([0, width]);\n\t    this.xDisplayed.domain(this.initialDomain);\n\t\n\t    this.xAxis = d3.svg.axis().scale(this.x).orient('top').tickSize(-5, 0).tickFormat(_Utils2.default.formatMinutes);\n\t\n\t    this.svg = d3.select(editor.$timeline.get(0)).select('.timeline__header').append('svg').attr('width', width + this.margin.left + this.margin.right).attr('height', 56);\n\t\n\t    this.svgContainer = this.svg.append('g').attr('transform', 'translate(' + this.margin.left + ',' + this.margin.top + ')');\n\t\n\t    this.createBrushHandle();\n\t    this.createTimeHandle();\n\t    this.timer.durationChanged.add(this.onDurationChanged);\n\t  }\n\t\n\t  _createClass(Header, [{\n\t    key: 'adaptDomainToDuration',\n\t    value: function adaptDomainToDuration(domain, seconds) {\n\t      var ms = seconds * 1000;\n\t      var new_domain = [domain[0], domain[1]];\n\t      // Make the domain smaller or equal to ms.\n\t      new_domain[0] = Math.min(new_domain[0], ms);\n\t      new_domain[1] = Math.min(new_domain[1], ms);\n\t      // Should not go below 0.\n\t      new_domain[0] = Math.max(new_domain[0], 0);\n\t\n\t      return new_domain;\n\t    }\n\t  }, {\n\t    key: 'setDomain',\n\t    value: function setDomain() {\n\t      this.brush.x(this.x).extent(this.initialDomain);\n\t      this.svgContainer.select('.brush').call(this.brush);\n\t      // Same as onBrush\n\t      this.onBrush.dispatch(this.initialDomain);\n\t      this.render();\n\t      this.xDisplayed.domain(this.initialDomain);\n\t    }\n\t  }, {\n\t    key: 'onDurationChanged',\n\t    value: function onDurationChanged(seconds) {\n\t      this.x.domain([0, this.timer.totalDuration]);\n\t      this.xAxisElement.call(this.xAxis);\n\t      this.initialDomain = this.adaptDomainToDuration(this.initialDomain, seconds);\n\t      this.setDomain(this.initialDomain);\n\t    }\n\t  }, {\n\t    key: 'createBrushHandle',\n\t    value: function createBrushHandle() {\n\t      var _this = this;\n\t\n\t      this.xAxisElement = this.svgContainer.append('g').attr('class', 'x axis').attr('transform', 'translate(0,' + (this.margin.top + 7) + ')').call(this.xAxis);\n\t\n\t      var onBrush = function onBrush() {\n\t        var extent0 = _this.brush.extent();\n\t        // Get domain as milliseconds and not date.\n\t        var start = extent0[0].getTime();\n\t        var end = extent0[1].getTime();\n\t        // Set the initial domain.\n\t        _this.initialDomain[0] = start;\n\t        _this.initialDomain[1] = end;\n\t        _this.setDomain(_this.initialDomain);\n\t      };\n\t\n\t      this.brush = d3.svg.brush().x(this.x).extent(this.initialDomain).on('brush', onBrush);\n\t\n\t      this.gBrush = this.svgContainer.append('g').attr('class', 'brush').call(this.brush).selectAll('rect').attr('height', 20);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var timeSelection = this.svgContainer.selectAll('.time-indicator');\n\t      timeSelection.attr('transform', 'translate(' + this.xDisplayed(this.currentTime[0]) + ', 25)');\n\t    }\n\t  }, {\n\t    key: 'createTimeHandle',\n\t    value: function createTimeHandle() {\n\t      var self = this;\n\t\n\t      var dragTimeMove = function dragTimeMove() {\n\t        var event = d3.event.sourceEvent;\n\t        event.stopPropagation();\n\t        var tweenTime = self.tweenTime;\n\t        var event_x = event.x !== undefined ? event.x : event.clientX;\n\t        var dx = self.xDisplayed.invert(event_x - self.margin.left);\n\t        dx = dx.getTime();\n\t        dx = Math.max(0, dx);\n\t\n\t        var timeMatch = false;\n\t        if (event.shiftKey) {\n\t          var time = dx / 1000;\n\t          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, time, '---non-existant', false, false, 0.3);\n\t          if (timeMatch !== false) {\n\t            timeMatch = timeMatch * 1000;\n\t          }\n\t        }\n\t        if (timeMatch === false) {\n\t          timeMatch = dx;\n\t        }\n\t        self.timer.seek([timeMatch]);\n\t      };\n\t\n\t      var dragTime = d3.behavior.drag().origin(function (d) {\n\t        return d;\n\t      }).on('drag', dragTimeMove);\n\t\n\t      var timeSelection = this.svgContainer.selectAll('.time-indicator').data(this.currentTime);\n\t\n\t      timeSelection.enter().append('rect').attr('x', 0).attr('y', 20).attr('width', self.xDisplayed(self.timer.totalDuration)).attr('height', 50).attr('fill-opacity', 0).on('click', function () {\n\t        var mouse = d3.mouse(this);\n\t        var dx = self.xDisplayed.invert(mouse[0]);\n\t        dx = dx.getTime();\n\t        dx = Math.max(0, dx);\n\t        self.timer.seek([dx]);\n\t      });\n\t\n\t      var timeGrp = timeSelection.enter().append('g').attr('class', 'time-indicator').attr('transform', 'translate(-0.5,' + 30 + ')').call(dragTime);\n\t\n\t      timeGrp.append('rect').attr('class', 'time-indicator__line').attr('x', -0.5).attr('y', 0).attr('width', 1).attr('height', 1000);\n\t\n\t      timeGrp.append('path').attr('class', 'time-indicator__handle').attr('d', 'M -5 -3 L -5 5 L 0 10 L 5 5 L 5 -3 L -5 -3');\n\t\n\t      // Mask time indicator\n\t      // todo: remove the mask.\n\t      this.svgContainer.append('rect').attr('class', 'graph-mask').attr('x', -self.margin.left).attr('y', -self.margin.top).attr('width', self.margin.left - 5).attr('height', self.height);\n\t    }\n\t  }, {\n\t    key: 'resize',\n\t    value: function resize(width) {\n\t      var width2 = width - this.margin.left - this.margin.right;\n\t      this.svg.attr('width', width2 + this.margin.left + this.margin.right);\n\t\n\t      this.x.range([0, width2]);\n\t      this.xDisplayed.range([0, width2]);\n\t      this.xAxisElement.call(this.xAxis);\n\t    }\n\t  }]);\n\t\n\t  return Header;\n\t}();\n\t\n\texports.default = Header;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"graph/TimeIndicator.js\");\n\t\n\tvar TimeIndicator = function () {\n\t  function TimeIndicator(timeline, container) {\n\t    _classCallCheck(this, TimeIndicator);\n\t\n\t    this.timeline = timeline;\n\t    this.container = container;\n\t    this.timeSelection = this.container.selectAll('.time-indicator').data(this.timeline.currentTime);\n\t    this.timeGrp = this.timeSelection.enter().append('svg').attr('class', 'time-indicator timeline__right-mask').attr('width', window.innerWidth - this.timeline.label_position_x).attr('height', 442);\n\t\n\t    this.timeSelection = this.timeGrp.append('rect').attr('class', 'time-indicator__line').attr('x', 0).attr('y', -this.timeline.margin.top - 5).attr('width', 1).attr('height', 1000);\n\t\n\t    this.timeSelection = this.container.selectAll('.time-indicator rect');\n\t  }\n\t\n\t  _createClass(TimeIndicator, [{\n\t    key: 'updateHeight',\n\t    value: function updateHeight(height) {\n\t      this.timeGrp.attr('height', height);\n\t      this.timeSelection.attr('height', height + this.timeline.margin.top + 5);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      this.timeSelection.attr('transform', 'translate(' + (this.timeline.x(this.timeline.currentTime[0]) - 0.5) + ',0)');\n\t    }\n\t  }]);\n\t\n\t  return TimeIndicator;\n\t}();\n\t\n\texports.default = TimeIndicator;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"graph/Items.js\");\n\tvar d3 = __webpack_require__(9);\n\tvar Signals = __webpack_require__(3);\n\tvar _ = __webpack_require__(6);\n\t\n\tvar Items = function () {\n\t  function Items(timeline, container) {\n\t    _classCallCheck(this, Items);\n\t\n\t    this.timeline = timeline;\n\t    this.container = container;\n\t    this.dy = 10 + this.timeline.margin.top;\n\t    this.onUpdate = new Signals.Signal();\n\t  }\n\t\n\t  _createClass(Items, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var self = this;\n\t      var tweenTime = self.timeline.tweenTime;\n\t\n\t      var selectBar = function selectBar() {\n\t        var data = d3.select(this).datum();\n\t        self.timeline.selectionManager.select(data);\n\t      };\n\t\n\t      var dragmove = function dragmove(d) {\n\t        var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n\t        var diff = dx - d.start;\n\t        d.start += diff;\n\t        d.end += diff;\n\t        if (d.properties) {\n\t          for (var prop_key = 0; prop_key < d.properties.length; prop_key++) {\n\t            var prop = d.properties[prop_key];\n\t            for (var i = 0; i < prop.keys.length; i++) {\n\t              var key = prop.keys[i];\n\t              key.time += diff;\n\t            }\n\t          }\n\t        }\n\t        d._isDirty = true;\n\t        self.onUpdate.dispatch();\n\t      };\n\t\n\t      var dragmoveLeft = function dragmoveLeft(d) {\n\t        d3.event.sourceEvent.stopPropagation();\n\t        var sourceEvent = d3.event.sourceEvent;\n\t        var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n\t        var timeMatch = false;\n\t        if (sourceEvent.shiftKey) {\n\t          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, dx, d.id, false, tweenTime.timer);\n\t        }\n\t        if (!timeMatch) {\n\t          var diff = dx - d.start;\n\t          timeMatch = d.start + diff;\n\t        }\n\t        d.start = timeMatch;\n\t        d._isDirty = true;\n\t        self.onUpdate.dispatch();\n\t      };\n\t\n\t      var dragmoveRight = function dragmoveRight(d) {\n\t        d3.event.sourceEvent.stopPropagation();\n\t        var sourceEvent = d3.event.sourceEvent;\n\t        var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n\t        var timeMatch = false;\n\t        if (sourceEvent.shiftKey) {\n\t          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, dx, false, false, tweenTime.timer);\n\t        }\n\t        if (!timeMatch) {\n\t          var diff = dx - d.end;\n\t          timeMatch = d.end + diff;\n\t        }\n\t        d.end = timeMatch;\n\t        d._isDirty = true;\n\t        self.onUpdate.dispatch();\n\t      };\n\t\n\t      var dragLeft = d3.behavior.drag().origin(function () {\n\t        var t = d3.select(this);\n\t        return { x: t.attr('x'), y: t.attr('y') };\n\t      }).on('drag', dragmoveLeft);\n\t\n\t      var dragRight = d3.behavior.drag().origin(function () {\n\t        var t = d3.select(this);\n\t        return { x: t.attr('x'), y: t.attr('y') };\n\t      }).on('drag', dragmoveRight);\n\t\n\t      var drag = d3.behavior.drag().origin(function () {\n\t        var t = d3.select(this);\n\t        return { x: t.attr('x'), y: t.attr('y') };\n\t      }).on('drag', dragmove);\n\t\n\t      var bar_border = 1;\n\t      var bar = this.container.selectAll('.line-grp').data(this.timeline.tweenTime.data, function (d) {\n\t        return d.id;\n\t      });\n\t\n\t      var barEnter = bar.enter().append('g').attr('class', 'line-grp');\n\t\n\t      var barContainerRight = barEnter.append('svg').attr('class', 'timeline__right-mask').attr('width', window.innerWidth - self.timeline.label_position_x).attr('height', self.timeline.lineHeight);\n\t\n\t      barContainerRight.append('rect').attr('class', 'bar')\n\t      // Add a unique id for SelectionManager.removeDuplicates\n\t      .attr('id', function () {\n\t        return _Utils2.default.guid();\n\t      }).attr('y', 3).attr('height', 14);\n\t\n\t      barContainerRight.append('rect').attr('class', 'bar-anchor bar-anchor--left').attr('y', 2).attr('height', 16).attr('width', 6).call(dragLeft);\n\t\n\t      barContainerRight.append('rect').attr('class', 'bar-anchor bar-anchor--right').attr('y', 2).attr('height', 16).attr('width', 6).call(dragRight);\n\t\n\t      self.dy = 10 + this.timeline.margin.top;\n\t      bar.attr('transform', function (d) {\n\t        var y = self.dy;\n\t        self.dy += self.timeline.lineHeight;\n\t        if (!d.collapsed) {\n\t          var numProperties = 0;\n\t          if (d.properties) {\n\t            var visibleProperties = _.filter(d.properties, function (prop) {\n\t              //Alice---Setting Container hight\n\t              return prop.keys.length;\n\t            });\n\t            numProperties = visibleProperties.length;\n\t          }\n\t          self.dy += numProperties * self.timeline.lineHeight;\n\t        }\n\t        return 'translate(0,' + y + ')';\n\t      });\n\t\n\t      var barWithStartAndEnd = function barWithStartAndEnd(d) {\n\t        if (d.start !== undefined && d.end !== undefined) {\n\t          return true;\n\t        }\n\t        return false;\n\t      };\n\t\n\t      bar.selectAll('.bar-anchor--left').filter(barWithStartAndEnd).attr('x', function (d) {\n\t        return self.timeline.x(d.start * 1000) - 1;\n\t      }).on('mousedown', function () {\n\t        // Don't trigger mousedown on linescontainer else\n\t        // it create the selection rectangle\n\t        d3.event.stopPropagation();\n\t      });\n\t\n\t      bar.selectAll('.bar-anchor--right').filter(barWithStartAndEnd).attr('x', function (d) {\n\t        return self.timeline.x(d.end * 1000) - 1;\n\t      }).on('mousedown', function () {\n\t        // Don't trigger mousedown on linescontainer else\n\t        // it create the selection rectangle\n\t        d3.event.stopPropagation();\n\t      });\n\t\n\t      bar.selectAll('.bar').filter(barWithStartAndEnd).attr('x', function (d) {\n\t        return self.timeline.x(d.start * 1000) + bar_border;\n\t      }).attr('width', function (d) {\n\t        return Math.max(0, (self.timeline.x(d.end) - self.timeline.x(d.start)) * 1000 - bar_border);\n\t      }).call(drag).on('click', selectBar).on('mousedown', function () {\n\t        // Don't trigger mousedown on linescontainer else\n\t        // it create the selection rectangle\n\t        d3.event.stopPropagation();\n\t      });\n\t\n\t      barEnter.append('text').attr('class', 'line-label').attr('x', self.timeline.label_position_x + 10).attr('y', 16).text(function (d) {\n\t        return d.label;\n\t      }).on('click', selectBar).on('mousedown', function () {\n\t        // Don't trigger mousedown on linescontainer else\n\t        // it create the selection rectangle\n\t        d3.event.stopPropagation();\n\t      });\n\t\n\t      barEnter.append('text').attr('class', 'line__toggle').attr('x', self.timeline.label_position_x - 10).attr('y', 16).on('click', function (d) {\n\t        d.collapsed = !d.collapsed;\n\t        self.onUpdate.dispatch();\n\t      });\n\t\n\t      bar.selectAll('.line__toggle').text(function (d) {\n\t        if (d.collapsed) {\n\t          return '▸';\n\t        }\n\t        return '▾';\n\t      });\n\t\n\t      barEnter.append('line').attr('class', 'line-separator').attr('x1', -self.timeline.margin.left).attr('x2', self.timeline.x(self.timeline.timer.totalDuration + 100)).attr('y1', self.timeline.lineHeight).attr('y2', self.timeline.lineHeight);\n\t\n\t      bar.exit().remove();\n\t\n\t      return bar;\n\t    }\n\t  }]);\n\t\n\t  return Items;\n\t}();\n\t\n\texports.default = Items;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"graph/KeyPreview.js\");\n\tvar d3 = __webpack_require__(9);\n\t\n\tvar KeysPreview = function () {\n\t  function KeysPreview(timeline, container) {\n\t    _classCallCheck(this, KeysPreview);\n\t\n\t    this.timeline = timeline;\n\t    this.container = container;\n\t  }\n\t\n\t  _createClass(KeysPreview, [{\n\t    key: 'render',\n\t    value: function render(bar) {\n\t      var self = this;\n\t\n\t      var propVal = function propVal(d) {\n\t        if (d.properties) {\n\t          return d.properties;\n\t        }\n\t\n\t        return [];\n\t      };\n\t      var propKey = function propKey(d) {\n\t        return d.name;\n\t      };\n\t\n\t      var properties = bar.selectAll('.keys-preview').data(propVal, propKey);\n\t\n\t      properties.enter().append('svg').attr('class', 'keys-preview timeline__right-mask').attr('width', window.innerWidth - self.timeline.label_position_x).attr('height', self.timeline.lineHeight);\n\t\n\t      var setItemStyle = function setItemStyle() {\n\t        var item = d3.select(this.parentNode.parentNode);\n\t        var bar_data = item.datum();\n\t        if (bar_data.collapsed === true) {\n\t          return '';\n\t        }\n\t        // Show only when item is collapsed\n\t        return 'display: none;';\n\t      };\n\t\n\t      properties.selectAll('.key--preview').attr('style', setItemStyle);\n\t\n\t      var keyValue = function keyValue(d) {\n\t        return d.keys;\n\t      };\n\t      var keyKey = function keyKey(d) {\n\t        return d.time;\n\t      };\n\t      var keys = properties.selectAll('.key--preview').data(keyValue, keyKey);\n\t\n\t      keys.enter().append('path').attr('class', 'key--preview').attr('style', setItemStyle).attr('d', 'M 0 -4 L 4 0 L 0 4 L -4 0');\n\t\n\t      keys.attr('transform', function (d) {\n\t        var dx = self.timeline.x(d.time * 1000);\n\t        dx = parseInt(dx, 10);\n\t        var dy = 11;\n\t        return 'translate(' + dx + ',' + dy + ')';\n\t      });\n\t\n\t      keys.exit().remove();\n\t    }\n\t  }]);\n\t\n\t  return KeysPreview;\n\t}();\n\t\n\texports.default = KeysPreview;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar d3 = __webpack_require__(9);\n\tvar Signals = __webpack_require__(3);\n\t\n\t//Alice--Edit Left_Bottom Setting Parameter\n\tvar Properties = function () {\n\t    function Properties(timeline) {\n\t        _classCallCheck(this, Properties);\n\t\n\t        console.log(\"graph/Properties.js\");\n\t        this.timeline = timeline;\n\t        this.onKeyAdded = new Signals.Signal();\n\t        this.subGrp = false;\n\t    }\n\t\n\t    _createClass(Properties, [{\n\t        key: 'render',\n\t        value: function render(bar) {\n\t            var self = this;\n\t            var editor = this.timeline.editor;\n\t            var core = editor.tweenTime;\n\t\n\t            var propVal = function propVal(d) {\n\t                if (d.properties) {\n\t                    return d.properties.filter(function (prop) {\n\t                        return prop.keys.length;\n\t                    });\n\t                }\n\t                return [];\n\t            };\n\t\n\t            //Alice--render left label number\n\t            var propKey = function propKey(d) {\n\t                //return d.name;\n\t                return d.group;\n\t            };\n\t\n\t            var properties = bar.selectAll('.line-item').data(propVal, propKey);\n\t            var subGrp = properties.enter().append('g').attr('class', 'line-item');\n\t\n\t            // Save subGrp in a variable for use in Errors.coffee\n\t            self.subGrp = subGrp;\n\t\n\t            properties.attr('transform', function (d, i) {\n\t                var sub_height = (i + 1) * self.timeline.lineHeight;\n\t                return 'translate(0,' + sub_height + ')';\n\t            });\n\t\n\t            subGrp.append('rect').attr('class', 'click-handler click-handler--property').attr('x', 0).attr('y', 0).attr('width', self.timeline.x(self.timeline.timer.totalDuration + 100)).attr('height', self.timeline.lineHeight).on('dblclick', function (d) {\n\t                var lineObject = this.parentNode.parentNode;\n\t                var lineValue = d3.select(lineObject).datum();\n\t                var def = d.default ? d.default : 0;\n\t                var mouse = d3.mouse(this);\n\t                var dx = self.timeline.x.invert(mouse[0]);\n\t                dx = dx.getTime() / 1000;\n\t                var prevKey = _Utils2.default.getPreviousKey(d.keys, dx);\n\t                // set the value to match the previous key if we found one\n\t                if (prevKey) {\n\t                    def = prevKey.val;\n\t                }\n\t                d._line = lineValue;\n\t                var newKey = {\n\t                    time: dx,\n\t                    val: def,\n\t\n\t                    _property: d\n\t                };\n\t\n\t                if (core.options.defaultEase) {\n\t                    newKey.ease = core.options.defaultEase;\n\t                }\n\t\n\t                //Alice_Test\n\t                d.keys.push(newKey);\n\t                // Sort the keys for tweens creation\n\t                d.keys = _Utils2.default.sortKeys(d.keys);\n\t                lineValue._isDirty = true;\n\t\n\t                lineValue._isDirty = true;\n\t                var keyContainer = this.parentNode;\n\t                self.onKeyAdded.dispatch(newKey, keyContainer);\n\t            });\n\t\n\t            // Mask\n\t            subGrp.append('svg').attr('class', 'line-item__keys timeline__right-mask').attr('width', window.innerWidth - self.timeline.label_position_x).attr('height', self.timeline.lineHeight).attr('fill', '#f00');\n\t\n\t            //Alice--Original Code\n\t            /*ubGrp.append('text')\n\t             .attr('class', 'line-label line-label--small')\n\t             .attr('x', self.timeline.label_position_x + 10)\n\t             .attr('y', 15)\n\t             .text(function(d) {\n\t             return d.name;\n\t             })*/\n\t\n\t            //Alice--Setting Left Line Label\n\t            subGrp.append('text').attr('class', 'line-label line-label--small').attr('x', self.timeline.label_position_x + 10).attr('y', 15).text(function (d) {\n\t                return d.group;\n\t            });\n\t\n\t            subGrp.append('line').attr('class', 'line-separator--secondary').attr('x1', -self.timeline.margin.left).attr('x2', self.timeline.x(self.timeline.timer.totalDuration + 100)).attr('y1', self.timeline.lineHeight).attr('y2', self.timeline.lineHeight);\n\t\n\t            bar.selectAll('.line-item').attr('display', function () {\n\t                var lineObject = this.parentNode;\n\t                var lineValue = d3.select(lineObject).datum();\n\t                if (!lineValue.collapsed) {\n\t                    return 'block';\n\t                }\n\t                return 'none';\n\t            });\n\t\n\t            properties.exit().remove();\n\t\n\t            return properties;\n\t        }\n\t    }]);\n\t\n\t    return Properties;\n\t}();\n\t\n\texports.default = Properties;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar d3 = __webpack_require__(9);\n\tvar Signals = __webpack_require__(3);\n\t\n\tvar _ = __webpack_require__(6);\n\t\n\tvar Keys = function () {\n\t  function Keys(timeline) {\n\t    _classCallCheck(this, Keys);\n\t\n\t    console.log(\"graph/Keys.js\");\n\t    this.timeline = timeline;\n\t    this.onKeyUpdated = new Signals.Signal();\n\t  }\n\t\n\t  _createClass(Keys, [{\n\t    key: 'selectNewKey',\n\t    value: function selectNewKey(data, container) {\n\t      var self = this;\n\t      var key = d3.select(container).selectAll('.key').filter(function (item) {\n\t        return item.time === data.time;\n\t      });\n\t      if (key.length) {\n\t        d3.selectAll('.key--selected').classed('key--selected', false);\n\t        key.classed('key--selected', true);\n\t        key = key[0][0];\n\t        data._dom = key;\n\t        self.timeline.selectionManager.select(data);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render(properties) {\n\t      var self = this;\n\t      var tweenTime = self.timeline.tweenTime;\n\t\n\t      var dragmove = function dragmove(d) {\n\t        var sourceEvent = d3.event.sourceEvent;\n\t        var propertyObject = this.parentNode;\n\t        var lineObject = propertyObject.parentNode.parentNode;\n\t        var propertyData = d3.select(propertyObject).datum();\n\t        var lineData = d3.select(lineObject).datum();\n\t        var key_data = d;\n\t\n\t        var currentDomainStart = self.timeline.x.domain()[0];\n\t        var mouse = d3.mouse(this);\n\t        var old_time = d.time;\n\t        var dx = self.timeline.x.invert(mouse[0]);\n\t        dx = dx.getTime();\n\t        dx = dx / 1000 - currentDomainStart / 1000;\n\t        dx = d.time + dx;\n\t\n\t        var selection = self.timeline.selectionManager.getSelection();\n\t        var selection_first_time = false;\n\t        var selection_last_time = false;\n\t        if (selection.length) {\n\t          selection_first_time = selection[0].time;\n\t          selection_last_time = selection[selection.length - 1].time;\n\t        }\n\t\n\t        selection = _.filter(selection, function (item) {\n\t          return _.isEqual(item, key_data) === false;\n\t        });\n\t\n\t        var timeMatch = false;\n\t        if (sourceEvent.shiftKey) {\n\t          timeMatch = _Utils2.default.getClosestTime(tweenTime.data, dx, lineData.id, propertyData.name, tweenTime.timer);\n\t        }\n\t        if (timeMatch === false) {\n\t          timeMatch = dx;\n\t        }\n\t\n\t        d.time = timeMatch;\n\t        // Sort the keys of the current selected item.\n\t        propertyData.keys = _Utils2.default.sortKeys(propertyData.keys);\n\t        var time_offset = d.time - old_time;\n\t\n\t        var updateKeyItem = function updateKeyItem(item) {\n\t          var property = item._property;\n\t          property._line._isDirty = true;\n\t          property.keys = _Utils2.default.sortKeys(property.keys);\n\t        };\n\t\n\t        var key_scale = false;\n\t        var is_first = false;\n\t        if (selection.length) {\n\t          if (sourceEvent.altKey && selection_first_time !== false && selection_last_time !== false) {\n\t            is_first = selection_first_time === old_time;\n\t            if (is_first) {\n\t              key_scale = (selection_last_time - d.time) / (selection_last_time - old_time);\n\t            } else {\n\t              key_scale = (d.time - selection_first_time) / (old_time - selection_first_time);\n\t            }\n\t          }\n\t\n\t          for (var i = 0; i < selection.length; i++) {\n\t            var data = selection[i];\n\t            if (key_scale === false) {\n\t              data.time += time_offset;\n\t            } else {\n\t              if (is_first) {\n\t                data.time = selection_last_time - (selection_last_time - data.time) * key_scale;\n\t              } else {\n\t                data.time = selection_first_time + (data.time - selection_first_time) * key_scale;\n\t              }\n\t            }\n\t            updateKeyItem(data);\n\t          }\n\t        }\n\t\n\t        lineData._isDirty = true;\n\t        self.onKeyUpdated.dispatch();\n\t      };\n\t\n\t      var propValue = function propValue(d) {\n\t        return d.keys;\n\t      };\n\t      var propKey = function propKey(d) {\n\t        if (!d._id) {\n\t          d._id = _Utils2.default.guid();\n\t        }\n\t        return d._id;\n\t      };\n\t      var keys = properties.select('.line-item__keys').selectAll('.key').data(propValue, propKey);\n\t\n\t      // selectKey is triggered by dragstart event\n\t      var selectKey = function selectKey() {\n\t        var event = d3.event;\n\t        // with dragstart event the mousevent is is inside the event.sourcEvent\n\t        if (event.sourceEvent) {\n\t          event = event.sourceEvent;\n\t        }\n\t\n\t        var addToSelection = event.shiftKey;\n\t        // if element is already selectionned and we are on\n\t        // the dragstart event, we stop there since it is already selected.\n\t        if (d3.event.type && d3.event.type === 'dragstart') {\n\t          if (d3.select(this).classed('key--selected')) {\n\t            return;\n\t          }\n\t        }\n\t        var key_data = d3.select(this).datum();\n\t\n\t        // Also keep a reference to the key dom element.\n\t        key_data._dom = this;\n\t\n\t        self.timeline.selectionManager.select(key_data, addToSelection);\n\t      };\n\t\n\t      var dragend = function dragend() {\n\t        self.timeline.editor.undoManager.addState();\n\t      };\n\t\n\t      var drag = d3.behavior.drag().origin(function (d) {\n\t        return d;\n\t      }).on('drag', dragmove).on('dragstart', selectKey).on('dragend', dragend);\n\t\n\t      var key_grp = keys.enter().append('g').attr('class', 'key')\n\t      // Use the unique id added in propKey above for the dom element id.\n\t      .attr('id', function (d) {\n\t        return d._id;\n\t      }).on('mousedown', function () {\n\t        // Don't trigger mousedown on linescontainer else\n\t        // it create the selection rectangle\n\t        d3.event.stopPropagation();\n\t      }).call(drag);\n\t\n\t      properties.selectAll('.key').attr('class', function (d) {\n\t        var cls = 'key';\n\t        // keep selected class\n\t        if (d3.select(this).classed('key--selected')) {\n\t          cls += ' key--selected';\n\t        }\n\t        if (d.ease) {\n\t          var ease = d.ease.split('.');\n\t          if (ease.length === 2) {\n\t            cls += ' ' + ease[1];\n\t          }\n\t        } else {\n\t          // If no easing specified, the it's the default Quad.easeOut\n\t          cls += ' easeOut';\n\t        }\n\t        return cls;\n\t      });\n\t\n\t      var grp_linear = key_grp.append('g').attr('class', 'ease-linear');\n\t      grp_linear.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L 6 0 L 0 6');\n\t      grp_linear.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L -6 0 L 0 6');\n\t\n\t      var grp_in = key_grp.append('g').attr('class', 'ease-in');\n\t      grp_in.append('path').attr('class', 'key__shape-rect').attr('d', 'M 0 -6 L 0 6 L 4 5 L 1 0 L 4 -5');\n\t      grp_in.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L -6 0 L 0 6');\n\t\n\t      var grp_out = key_grp.append('g').attr('class', 'ease-out');\n\t      grp_out.append('path').attr('class', 'key__shape-rect').attr('d', 'M 0 -6 L 0 6 L -4 5 L -1 0 L -4 -5');\n\t      grp_out.append('path').attr('class', 'key__shape-arrow').attr('d', 'M 0 -6 L 6 0 L 0 6');\n\t\n\t      var grp_inout = key_grp.append('g').attr('class', 'ease-inout');\n\t      grp_inout.append('circle').attr('cx', 0).attr('cy', 0).attr('r', 5);\n\t\n\t      keys.attr('transform', function (d) {\n\t        var dx = self.timeline.x(d.time * 1000);\n\t        dx = parseInt(dx, 10);\n\t        var dy = 10;\n\t        return 'translate(' + dx + ',' + dy + ')';\n\t      });\n\t\n\t      keys.exit().remove();\n\t    }\n\t  }]);\n\t\n\t  return Keys;\n\t}();\n\t\n\texports.default = Keys;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"graph/Errors.js\");\n\t\n\tvar Errors = function () {\n\t  function Errors(timeline) {\n\t    _classCallCheck(this, Errors);\n\t\n\t    this.timeline = timeline;\n\t  }\n\t\n\t  _createClass(Errors, [{\n\t    key: 'render',\n\t    value: function render(properties) {\n\t      var self = this;\n\t      var subGrp = self.timeline.properties.subGrp;\n\t      var propertiesWithError = function propertiesWithError(d) {\n\t        return d.errors !== undefined;\n\t      };\n\t      // use insert with :first-child to prepend.\n\t      subGrp.insert('svg', ':first-child').attr('class', 'line-item__errors').attr('width', window.innerWidth - self.timeline.label_position_x).attr('height', self.timeline.lineHeight);\n\t\n\t      var errorsValue = function errorsValue(d) {\n\t        return d.errors;\n\t      };\n\t      var errorTime = function errorTime(d) {\n\t        return d.time;\n\t      };\n\t\n\t      var errors = properties.filter(propertiesWithError).select('.line-item__errors').selectAll('.error').data(errorsValue, errorTime);\n\t\n\t      errors.enter().append('rect').attr('class', 'error').attr('width', 4).attr('height', self.timeline.lineHeight - 1).attr('y', '1');\n\t\n\t      properties.selectAll('.error').attr('x', function (d) {\n\t        var dx;\n\t        dx = self.timeline.x(d.time * 1000);\n\t        return dx;\n\t      });\n\t\n\t      errors.exit().remove();\n\t    }\n\t  }]);\n\t\n\t  return Errors;\n\t}();\n\t\n\texports.default = Errors;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"graph/Selections.js\");\n\tvar d3 = __webpack_require__(9);\n\t\n\tvar Selection = function () {\n\t  function Selection(timeline, svg, margin) {\n\t    _classCallCheck(this, Selection);\n\t\n\t    this.timeline = timeline;\n\t    this.svg = svg;\n\t    this.margin = margin;\n\t\n\t    this.onMouseUp = this.onMouseUp.bind(this);\n\t    this.init();\n\t  }\n\t\n\t  _createClass(Selection, [{\n\t    key: 'onMouseUp',\n\t    value: function onMouseUp() {\n\t      this.svg.selectAll('.selection').remove();\n\t      // Enable again the default browser text selection.\n\t      $('body').css({\n\t        'user-select': 'all'\n\t      });\n\t    }\n\t  }, {\n\t    key: 'init',\n\t    value: function init() {\n\t      var self = this;\n\t      this.svg.on('mousedown', function () {\n\t        var p = d3.mouse(this);\n\t        // Only init selection if we click on the timeline and not on the labels.\n\t        if (p[0] < self.timeline.margin.left) {\n\t          return;\n\t        }\n\t        self.svg.append('rect').attr({\n\t          class: 'selection',\n\t          x: p[0],\n\t          y: p[1],\n\t          width: 0,\n\t          height: 0\n\t        });\n\t        // Unselect items.\n\t        self.timeline.selectionManager.reset();\n\t        // Prevent default browser text selection.\n\t        $('body').css({\n\t          'user-select': 'none'\n\t        });\n\t      }).on('mousemove', function () {\n\t        var s = self.svg.select('.selection');\n\t        if (s.empty()) {\n\t          return;\n\t        }\n\t        var p = d3.mouse(this);\n\t        var d = {\n\t          x: parseInt(s.attr('x'), 10),\n\t          y: parseInt(s.attr('y'), 10),\n\t          width: parseInt(s.attr('width'), 10),\n\t          height: parseInt(s.attr('height'), 10)\n\t        };\n\t        // Apply margin to mouse selection.\n\t        p[0] = Math.max(self.margin.left, p[0]);\n\t\n\t        var move = {\n\t          x: p[0] - d.x,\n\t          y: p[1] - d.y\n\t        };\n\t        if (move.x < 1 || move.x * 2 < d.width) {\n\t          d.x = p[0];\n\t          d.width -= move.x;\n\t        } else {\n\t          d.width = move.x;\n\t        }\n\t\n\t        if (move.y < 1 || move.y * 2 < d.height) {\n\t          d.y = p[1];\n\t          d.height -= move.y;\n\t        } else {\n\t          d.height = move.y;\n\t        }\n\t\n\t        s.attr(d);\n\t\n\t        // remove margins from selection\n\t        d.x -= self.margin.left;\n\t        var key_width = 6;\n\t\n\t        d.timeStart = self.timeline.x.invert(d.x - key_width).getTime() / 1000;\n\t        d.timeEnd = self.timeline.x.invert(d.x + d.width + key_width).getTime() / 1000;\n\t        var containerBounding = self.svg[0][0].getBoundingClientRect();\n\t\n\t        // deselect all previously selected items\n\t        d3.selectAll('.key--selected').classed('key--selected', false);\n\t        self.timeline.selectionManager.reset();\n\t        var selection = [];\n\t        d3.selectAll('.key').each(function (state_data) {\n\t          var item_data = d3.select(this.parentNode.parentNode.parentNode).datum();\n\t          var key_data = d3.select(this).datum();\n\t\n\t          // Also keep a reference to the key dom element.\n\t          key_data._dom = this;\n\t\n\t          if (item_data.collapsed !== true) {\n\t            var itemBounding = d3.select(this)[0][0].getBoundingClientRect();\n\t            var y = itemBounding.top - containerBounding.top;\n\t            if (state_data.time >= d.timeStart && state_data.time <= d.timeEnd) {\n\t              // use or condition for top and bottom\n\t              if (y >= d.y && y <= d.y + d.height || y + 10 >= d.y && y + 10 <= d.y + d.height) {\n\t                d3.select(this).classed('key--selected', true);\n\t\n\t                selection.push(key_data);\n\t              }\n\t            }\n\t          }\n\t        });\n\t        self.timeline.selectionManager.select(selection);\n\t      });\n\t      // Attach the mouseup event to window so that it catch it event if\n\t      // mouseup happen outside of the browser window.\n\t      $(window).on('mouseup', this.onMouseUp);\n\t    }\n\t  }]);\n\t\n\t  return Selection;\n\t}();\n\t\n\texports.default = Selection;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(18);\n\t\n\tvar _Property = __webpack_require__(19);\n\t\n\tvar _Property2 = _interopRequireDefault(_Property);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Signals = __webpack_require__(3);\n\t\n\t\n\tvar tpl_propertiesEditor = __webpack_require__(34);\n\t\n\tvar PropertiesEditor = function () {\n\t  function PropertiesEditor(editor) {\n\t    _classCallCheck(this, PropertiesEditor);\n\t\n\t    console.log(\"editor/PropertiesEditor.js\");\n\t    this.editor = editor;\n\t\n\t    this.render = this.render.bind(this);\n\t    this.addProperty = this.addProperty.bind(this);\n\t    this.onSelect = this.onSelect.bind(this);\n\t    this.onKeyAdded = this.onKeyAdded.bind(this);\n\t\n\t    this.timeline = this.editor.timeline;\n\t    this.timer = this.editor.timer;\n\t    this.selectionManager = editor.selectionManager;\n\t\n\t    this.$el = $(tpl_propertiesEditor());\n\t    this.$container = this.$el.find('.properties-editor__main');\n\t    // todo: rename keyAdded to updated\n\t    this.keyAdded = new Signals.Signal();\n\t    this.keyRemoved = new Signals.Signal();\n\t    this.items = [];\n\t\n\t    this.parentElement = editor.el;\n\t    // Close properties by default.\n\t    this.parentElement.addClass('properties-is-closed');\n\t    // Add the properties editor to the document.\n\t    this.parentElement.append(this.$el);\n\t\n\t    this.selectionManager.onSelect.add(this.onSelect);\n\t\n\t    // Stop event propagation to no play by accident.\n\t    this.$el.keypress(function (e) {\n\t      return e.stopPropagation();\n\t    });\n\t  }\n\t\n\t  _createClass(PropertiesEditor, [{\n\t    key: 'onKeyAdded',\n\t    value: function onKeyAdded() {\n\t      this.keyAdded.dispatch();\n\t    }\n\t  }, {\n\t    key: 'onSelect',\n\t    value: function onSelect() {\n\t      var data = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\t\n\t      this.items.forEach(function (item) {\n\t        item.remove();\n\t      });\n\t      this.items = [];\n\t      this.$container.empty();\n\t      if (data instanceof Array) {\n\t        for (var i = 0; i < data.length; i++) {\n\t          this.addProperty(data[i]);\n\t        }\n\t      } else {\n\t        this.addProperty(data);\n\t      }\n\t\n\t      // When selecting anything, automatically display the properties editor.\n\t      if (this.items.length) {\n\t        this.parentElement.removeClass('properties-is-closed');\n\t      }\n\t    }\n\t  }, {\n\t    key: 'addProperty',\n\t    value: function addProperty(data) {\n\t      var prop = new _Property2.default(this.editor, this.$container, data);\n\t      prop.keyAdded.add(this.onKeyAdded);\n\t      this.items.push(prop);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render(time, time_changed) {\n\t      if (!time_changed) {\n\t        return;\n\t      }\n\t      this.items.forEach(function (prop) {\n\t        prop.update();\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return PropertiesEditor;\n\t}();\n\t\n\texports.default = PropertiesEditor;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _PropertyNumber = __webpack_require__(20);\n\t\n\tvar _PropertyNumber2 = _interopRequireDefault(_PropertyNumber);\n\t\n\tvar _PropertyColor = __webpack_require__(27);\n\t\n\tvar _PropertyColor2 = _interopRequireDefault(_PropertyColor);\n\t\n\tvar _PropertyTween = __webpack_require__(30);\n\t\n\tvar _PropertyTween2 = _interopRequireDefault(_PropertyTween);\n\t\n\tvar _PropertyMotionBody = __webpack_require__(32);\n\t\n\tvar _PropertyMotionBody2 = _interopRequireDefault(_PropertyMotionBody);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Signals = __webpack_require__(3);\n\t\n\t//Alice--Edit Right Setting Parameter\n\tvar Property = function () {\n\t  function Property(editor, $el, data) {\n\t    _classCallCheck(this, Property);\n\t\n\t    console.log(\"editor/property.js\");\n\t    this.editor = editor;\n\t    this.$el = $el;\n\t\n\t    this.onKeyAdded = this.onKeyAdded.bind(this);\n\t\n\t    this.timeline = editor.timeline;\n\t    this.timer = editor.timer;\n\t    this.selectionManager = editor.selectionManager;\n\t    this.keyAdded = new Signals.Signal();\n\t    this.items = [];\n\t    this.numberProp = false;\n\t    this.tweenProp = false;\n\t\n\t    var key_val = false;\n\t    // var propertyObject = false;\n\t    var propertyData = false;\n\t    // var lineObject = false;\n\t    var lineData = false;\n\t\n\t    // For keys the _property data should be defined.\n\t    if (data._property) {\n\t      propertyData = data._property;\n\t      lineData = propertyData._line;\n\t      key_val = data;\n\t    }\n\t\n\t    console.log(\"editor/Property.js\");\n\t\n\t    // Check if we selected a main item.\n\t    if (data.id) {\n\t      lineData = data;\n\t    }\n\t\n\t    // data and propertyData are defined on key select.\n\t    var property_name = false;\n\t    var property_group = false;\n\t\n\t    //Alice---get click key's data\n\t    if (propertyData) {\n\t      property_name = propertyData.name;\n\t      property_group = propertyData.group;\n\t    }\n\t    //Get the property container.\n\t    var $container = this.getContainer(lineData);\n\t    var $tween_container = $container;\n\t\n\t    //Basic data, loop through properties.\n\t    var numberProp = null;\n\t    for (var key in lineData.properties) {\n\t      if (lineData.properties.hasOwnProperty(key)) {\n\t        var instance_prop = lineData.properties[key];\n\t        //Alice--click a key and show Right Properties\n\t        //if (!property_name || instance_prop.name === property_name)\n\t        if (property_group == instance_prop.group) {\n\t          var $grp_container = this.getGroupContainer(instance_prop, $container);\n\t          //var numberProp = this.addNumberProperty(instance_prop, lineData, key_val, $grp_container);\n\t          if (numberProp == null) {\n\t            var tweenProp = this.addTweenProperty(instance_prop, lineData, key_val, $grp_container, propertyData);\n\t            this.items.push(tweenProp);\n\t          }\n\t          numberProp = this.addNumberProperty(instance_prop, lineData, key_val, $grp_container);\n\t          this.items.push(numberProp);\n\t          if (instance_prop.name === property_name) {\n\t            $tween_container = $grp_container;\n\t          }\n\t        }\n\t      }\n\t    } //for\n\t  }\n\t\n\t  _createClass(Property, [{\n\t    key: 'onKeyAdded',\n\t    value: function onKeyAdded() {\n\t      // propagate the event.\n\t      this.keyAdded.dispatch();\n\t    }\n\t  }, {\n\t    key: 'getGroupContainer',\n\t    value: function getGroupContainer(instance_prop, $container) {\n\t      var $existing;\n\t      var $grp;\n\t      var grp_class;\n\t      if (!instance_prop.group) {\n\t        grp_class = 'property-grp--general';\n\t        $existing = $container.find('.' + grp_class);\n\t        if ($existing.length) {\n\t          return $existing;\n\t        }\n\t\n\t        $grp = this.createGroupContainer(grp_class);\n\t        $container.append($grp);\n\t        return $grp;\n\t      }\n\t      // Replace all spaces to dash and make class lowercase\n\t      var group_name = instance_prop.group.replace(/\\s+/g, '-').toLowerCase();\n\t      grp_class = 'property-grp--' + group_name;\n\t      $existing = $container.find('.' + grp_class);\n\t      if ($existing.length) {\n\t        return $existing;\n\t      }\n\t      $grp = this.createGroupContainer(grp_class, instance_prop.group);\n\t      $container.append($grp);\n\t      return $grp;\n\t    }\n\t\n\t    //Alice--click a key and render Right container\n\t\n\t  }, {\n\t    key: 'createGroupContainer',\n\t    value: function createGroupContainer(grp_class) {\n\t      var label = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t      var $grp = $('<div class=\"property-grp ' + grp_class + '\"></div>');\n\t      if (label) {\n\t        $grp.append('<h3 class=\"property-grp__title\">' + label + '</h3>');\n\t      }\n\t      return $grp;\n\t    }\n\t  }, {\n\t    key: 'getContainer',\n\t    value: function getContainer(lineData) {\n\t      var $container = false;\n\t      //Alice---Click a key and render the same name right properties\n\t      if (lineData.id) {\n\t        $container = $('#property--' + lineData.id);\n\t        if (!$container.length) {\n\t          $container = $container = $('<div class=\"properties__wrapper\" id=\"property--' + lineData.id + '\"></div>');\n\t          this.$el.append($container);\n\t          //Alice---Right Title Setting\n\t          //if (lineData.name) {\n\t          //$container.append('<h2 class=\"properties-editor__title\">' + lineData.label + '</h2>');\n\t          //}\n\t          if (lineData.title) {\n\t            $container.append('<h2 class=\"properties-editor__title\">' + lineData.title + '</h2>');\n\t          }\n\t        }\n\t      }\n\t\n\t      if ($container === false) {\n\t        $container = $('<div class=\"properties__wrapper\" id=\"no-item\"></div>');\n\t        this.$el.append($container);\n\t      }\n\t      return $container;\n\t    }\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove() {\n\t      this.items.forEach(function (item) {\n\t        item.remove();\n\t      });\n\t      if (this.keyAdded) {\n\t        this.keyAdded.dispose();\n\t      }\n\t\n\t      delete this.editor;\n\t      delete this.$el;\n\t\n\t      delete this.timeline;\n\t      delete this.timer;\n\t      delete this.selectionManager;\n\t      delete this.keyAdded;\n\t      delete this.items;\n\t      delete this.numberProp;\n\t      delete this.tweenProp;\n\t    }\n\t  }, {\n\t    key: 'addNumberProperty',\n\t    value: function addNumberProperty(instance_prop, lineData, key_val, $container) {\n\t      var PropClass = _PropertyNumber2.default;\n\t      if (instance_prop.type && instance_prop.type === 'color') {\n\t        PropClass = _PropertyColor2.default;\n\t      } else if (instance_prop.type && instance_prop.type === 'motion_body') {\n\t        PropClass = _PropertyMotionBody2.default;\n\t      }\n\t\n\t      var prop = new PropClass(instance_prop, lineData, this.editor, key_val);\n\t      prop.keyAdded.add(this.onKeyAdded);\n\t      $container.append(prop.$el);\n\t      return prop;\n\t    }\n\t\n\t    /*addTweenProperty(instance_prop, lineData, key_val, $container, propertyData) {\n\t      var tween = new PropertyTween(instance_prop, lineData, this.editor, key_val, this.timeline);\n\t      $container.append(tween.$el);\n\t       // Add a remove key button\n\t      tween.$el.find('[data-action-remove]').click((e) => {\n\t        e.preventDefault();\n\t        var index = propertyData.keys.indexOf(key_val);\n\t        if (index > -1) {\n\t          propertyData.keys.splice(index, 1);\n\t          if (key_val._dom) {\n\t            this.editor.propertiesEditor.keyRemoved.dispatch(key_val);\n\t          }\n\t          lineData._isDirty = true;\n\t        }\n\t      });\n\t      return tween;\n\t    }*/\n\t\n\t    //Alice---Setting right Parameters Key at time\n\t\n\t  }, {\n\t    key: 'addTweenProperty',\n\t    value: function addTweenProperty(instance_prop, lineData, key_val, $container, propertyData) {\n\t      var _this = this;\n\t\n\t      var tween = new _PropertyTween2.default(instance_prop, lineData, this.editor, key_val, this.timeline);\n\t      $container.append(tween.$el);\n\t      // Add a remove key button\n\t      tween.$el.find('[data-action-remove]').click(function (e) {\n\t        e.preventDefault();\n\t        var index = propertyData.keys.indexOf(key_val);\n\t        if (index > -1) {\n\t          propertyData.keys.splice(index, 1);\n\t          if (key_val._dom) {\n\t            _this.editor.propertiesEditor.keyRemoved.dispatch(key_val);\n\t          }\n\t          lineData._isDirty = true;\n\t        }\n\t      });\n\t      return tween;\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      for (var i = 0; i < this.items.length; i++) {\n\t        var item = this.items[i];\n\t        item.update();\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Property;\n\t}();\n\t\n\texports.default = Property;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\t__webpack_require__(18);\n\t\n\tvar _PropertyBase2 = __webpack_require__(21);\n\t\n\tvar _PropertyBase3 = _interopRequireDefault(_PropertyBase2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tconsole.log(\"editor/PropertyNumber.js\");\n\t\n\tvar DraggableNumber = __webpack_require__(22);\n\t\n\tvar tpl_property = __webpack_require__(23);\n\t\n\tvar PropertyNumber = function (_PropertyBase) {\n\t  _inherits(PropertyNumber, _PropertyBase);\n\t\n\t  // instance_property: The current property on the data object.\n\t  // lineData: The line data object.\n\t  function PropertyNumber(instance_property, lineData, editor) {\n\t    var key_val = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t    _classCallCheck(this, PropertyNumber);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PropertyNumber).call(this, instance_property, lineData, editor, key_val));\n\t\n\t    _this.onInputChange = _this.onInputChange.bind(_this);\n\t    _this.$input = _this.$el.find('input');\n\t    return _this;\n\t  }\n\t\n\t  _createClass(PropertyNumber, [{\n\t    key: 'getInputVal',\n\t    value: function getInputVal() {\n\t      return parseFloat(this.$el.find('input').val());\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(PropertyNumber.prototype), 'render', this).call(this);\n\t      // By default assign the property default value\n\t      var val = this.getCurrentVal();\n\t      var dx = this.getCurrentX();\n\t      var dy = this.getCurrentY();\n\t      var video = this.getCurrentVideo();\n\t      var audio = this.getCurrentAudio();\n\t      var led = this.getCurrentLed();\n\t\n\t      var data = {\n\t        id: this.instance_property.name, // \"circleRadius\" instead of \"circle radius\"\n\t        label: this.instance_property.label || this.instance_property.name,\n\t        val: val,\n\t        x: dx,\n\t        y: dy,\n\t        video: video,\n\t        audio: audio,\n\t        led: led\n\t      };\n\t\n\t      var view = tpl_property(data);\n\t      this.$el = $(view);\n\t      this.$el.find('.property__key').click(this.onKeyClick);\n\t\n\t      var $input = this.$el.find('input');\n\t\n\t      var onChangeEnd = function onChangeEnd() {\n\t        _this2.editor.undoManager.addState();\n\t      };\n\t\n\t      var draggableOptions = {\n\t        changeCallback: function changeCallback() {\n\t          return _this2.onInputChange();\n\t        },\n\t        endCallback: function endCallback() {\n\t          return onChangeEnd();\n\t        }\n\t      };\n\t      // Set min & max if they are defined.\n\t      if ('min' in this.instance_property) {\n\t        draggableOptions.min = this.instance_property.min;\n\t      }\n\t      if ('max' in this.instance_property) {\n\t        draggableOptions.max = this.instance_property.max;\n\t      }\n\t\n\t      var draggable = new DraggableNumber($input.get(0), draggableOptions);\n\t      $input.data('draggable', draggable);\n\t      $input.change(this.onInputChange);\n\t    }\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove() {\n\t      _get(Object.getPrototypeOf(PropertyNumber.prototype), 'render', this).call(this);\n\t      if (this.$input.data('draggable')) {\n\t        this.$input.data('draggable').destroy();\n\t      }\n\t\n\t      delete this.$input;\n\t      delete this.$el;\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      _get(Object.getPrototypeOf(PropertyNumber.prototype), 'render', this).call(this);\n\t      var val = this.getCurrentVal();\n\t      var draggable = this.$input.data('draggable');\n\t\n\t      if (draggable) {\n\t        draggable.set(val.toFixed(3));\n\t      } else {\n\t        this.$input.val(val.toFixed(3));\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return PropertyNumber;\n\t}(_PropertyBase3.default);\n\t\n\texports.default = PropertyNumber;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Utils = __webpack_require__(1);\n\t\n\tvar _Utils2 = _interopRequireDefault(_Utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"editor/PropertyBase.js\");\n\tvar Signals = __webpack_require__(3);\n\tvar _ = __webpack_require__(6);\n\t\n\tvar PropertyBase = function () {\n\t  // @instance_property: The current property on the data object.\n\t  // @lineData: The line data object.\n\t  function PropertyBase(instance_property, lineData, editor) {\n\t    var key_val = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t    _classCallCheck(this, PropertyBase);\n\t\n\t    this.instance_property = instance_property;\n\t    this.lineData = lineData;\n\t    this.editor = editor;\n\t    this.key_val = key_val;\n\t\n\t    // this.update = this.update.bind(this);\n\t    this.onInputChange = this.onInputChange.bind(this);\n\t    this.onKeyClick = this.onKeyClick.bind(this);\n\t\n\t    this.timer = editor.timer;\n\t    this.keyAdded = new Signals.Signal();\n\t    this.render();\n\t\n\t    this.$key = this.$el.find('.property__key');\n\t  }\n\t\n\t  _createClass(PropertyBase, [{\n\t    key: 'onKeyClick',\n\t    value: function onKeyClick(e) {\n\t      e.preventDefault();\n\t      var currentValue = this.getCurrentVal();\n\t      this.addKey(currentValue);\n\t    }\n\t  }, {\n\t    key: 'getInputVal',\n\t    value: function getInputVal() {\n\t      return this.$el.find('input').val();\n\t    }\n\t\n\t    //Alice--get click key's value\n\t\n\t  }, {\n\t    key: 'getCurrentVal',\n\t    value: function getCurrentVal() {\n\t      var val = this.instance_property.val;\n\t      var prop_name = this.instance_property.name;\n\t\n\t      // if we selected a key simply return it's value\n\t      if (this.key_val) {\n\t        return this.key_val.val;\n\t      }\n\t      if (this.lineData.values !== undefined && this.lineData.values[prop_name]) {\n\t        return this.lineData.values[prop_name];\n\t      }\n\t      return val;\n\t    }\n\t  }, {\n\t    key: 'getCurrentX',\n\t    value: function getCurrentX() {\n\t      var x = this.instance_property.x;\n\t      if (this.key_val) {\n\t        return this.key_val.x;\n\t      }\n\t      return x;\n\t    }\n\t  }, {\n\t    key: 'getCurrentXTime',\n\t    value: function getCurrentXTime() {\n\t      var x_time = this.instance_property.x_time;\n\t      if (this.key_val) {\n\t        return this.key_val.x_time;\n\t      }\n\t      return x_time;\n\t    }\n\t  }, {\n\t    key: 'getCurrentY',\n\t    value: function getCurrentY() {\n\t      var y = this.instance_property.y;\n\t      if (this.key_val) {\n\t        return this.key_val.y;\n\t      }\n\t      return y;\n\t    }\n\t  }, {\n\t    key: 'getCurrentYTime',\n\t    value: function getCurrentYTime() {\n\t      var y_time = this.instance_property.y_time;\n\t      if (this.key_val) {\n\t        return this.key_val.y_time;\n\t      }\n\t      return y_time;\n\t    }\n\t  }, {\n\t    key: 'getCurrentVideo',\n\t    value: function getCurrentVideo() {\n\t      var video = this.instance_property.video;\n\t      if (this.key_val) {\n\t        return this.key_val.video;\n\t      }\n\t      return video;\n\t    }\n\t  }, {\n\t    key: 'getCurrentAudio',\n\t    value: function getCurrentAudio() {\n\t      var audio = this.instance_property.audio;\n\t      if (this.key_val) {\n\t        return this.key_val.audio;\n\t      }\n\t\n\t      return audio;\n\t    }\n\t  }, {\n\t    key: 'getCurrentLed',\n\t    value: function getCurrentLed() {\n\t      var led = this.instance_property.led;\n\t      if (this.key_val) {\n\t        return this.key_val.led;\n\t      }\n\t\n\t      return led;\n\t    }\n\t  }, {\n\t    key: 'onInputChange',\n\t    value: function onInputChange() {\n\t      var current_value = this.getInputVal();\n\t      var currentTime = this.timer.getCurrentTime() / 1000;\n\t\n\t      // if we selected a key simply get the time from it.\n\t      if (this.key_val) {\n\t        currentTime = this.key_val.time;\n\t      }\n\t\n\t      if (this.instance_property.keys && this.instance_property.keys.length) {\n\t        // Add a new key if there is no other key at same time\n\t        var current_key = _.find(this.instance_property.keys, function (key) {\n\t          return key.time === currentTime;\n\t        });\n\t\n\t        if (current_key) {\n\t          // if there is a key update it\n\t          current_key.val = current_value;\n\t        } else {\n\t          // add a new key\n\t          this.addKey(current_value);\n\t        }\n\t      } else {\n\t        // There is no keys, simply update the property value (for data saving)\n\t        this.instance_property.val = current_value;\n\t        // Also directly set the lineData value.\n\t        this.lineData.values[this.instance_property.name] = current_value;\n\t        // Simply update the custom object with new values.\n\t        if (this.lineData.object) {\n\t          currentTime = this.timer.getCurrentTime() / 1000;\n\t          // Set the property on the instance object.\n\t          this.lineData.object.update(currentTime - this.lineData.start);\n\t        }\n\t      }\n\t\n\t      // Something changed, make the lineData dirty to rebuild things. d\n\t      this.lineData._isDirty = true;\n\t    }\n\t  }, {\n\t    key: 'getCurrentKey',\n\t    value: function getCurrentKey() {\n\t      var time = this.timer.getCurrentTime() / 1000;\n\t      if (!this.instance_property || !this.instance_property.keys) {\n\t        return false;\n\t      }\n\t      if (this.instance_property.keys.length === 0) {\n\t        return false;\n\t      }\n\t      for (var i = 0; i < this.instance_property.keys.length; i++) {\n\t        var key = this.instance_property.keys[i];\n\t        if (key.time === time) {\n\t          return key;\n\t        }\n\t      }\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'addKey',\n\t    value: function addKey(val) {\n\t      var core = this.editor.tweenTime;\n\t      var currentTime = this.timer.getCurrentTime() / 1000;\n\t      var key = {\n\t        time: currentTime,\n\t        val: val\n\t      };\n\t      if (core.options.defaultEase) {\n\t        key.ease = core.options.defaultEase;\n\t      }\n\t      this.instance_property.keys.push(key);\n\t      this.instance_property.keys = _Utils2.default.sortKeys(this.instance_property.keys);\n\t      this.lineData._isDirty = true;\n\t      this.keyAdded.dispatch();\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      // current values are defined in @lineData.values\n\t      this.values = this.lineData.values !== undefined ? this.lineData.values : {};\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      var key = this.getCurrentKey();\n\t      this.$key.toggleClass('property__key--active', key);\n\t    }\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove() {\n\t      if (this.keyAdded) {\n\t        this.keyAdded.dispose();\n\t      }\n\t      delete this.instance_property;\n\t      delete this.lineData;\n\t      delete this.editor;\n\t      delete this.key_val;\n\t\n\t      delete this.timer;\n\t      delete this.keyAdded;\n\t      delete this.$key;\n\t    }\n\t  }]);\n\t\n\t  return PropertyBase;\n\t}();\n\t\n\texports.default = PropertyBase;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar H = __webpack_require__(24);\n\tmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">\");t.b(t.v(t.f(\"label\",c,p,0)));t.b(\"</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"val\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">{{label}}</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{val}}\\\" />\\n</div>\\n\", H); return T.render.apply(T, arguments); };\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t *  Copyright 2011 Twitter, Inc.\n\t *  Licensed under the Apache License, Version 2.0 (the \"License\");\n\t *  you may not use this file except in compliance with the License.\n\t *  You may obtain a copy of the License at\n\t *\n\t *  http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t *  Unless required by applicable law or agreed to in writing, software\n\t *  distributed under the License is distributed on an \"AS IS\" BASIS,\n\t *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t *  See the License for the specific language governing permissions and\n\t *  limitations under the License.\n\t */\n\t\n\t// This file is for use with Node.js. See dist/ for browser files.\n\t\n\tvar Hogan = __webpack_require__(25);\n\tHogan.Template = __webpack_require__(26).Template;\n\tHogan.template = Hogan.Template;\n\tmodule.exports = Hogan;\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t *  Copyright 2011 Twitter, Inc.\n\t *  Licensed under the Apache License, Version 2.0 (the \"License\");\n\t *  you may not use this file except in compliance with the License.\n\t *  You may obtain a copy of the License at\n\t *\n\t *  http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t *  Unless required by applicable law or agreed to in writing, software\n\t *  distributed under the License is distributed on an \"AS IS\" BASIS,\n\t *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t *  See the License for the specific language governing permissions and\n\t *  limitations under the License.\n\t */\n\t\n\t(function (Hogan) {\n\t  // Setup regex  assignments\n\t  // remove whitespace according to Mustache spec\n\t  var rIsWhitespace = /\\S/,\n\t      rQuot = /\\\"/g,\n\t      rNewline =  /\\n/g,\n\t      rCr = /\\r/g,\n\t      rSlash = /\\\\/g,\n\t      rLineSep = /\\u2028/,\n\t      rParagraphSep = /\\u2029/;\n\t\n\t  Hogan.tags = {\n\t    '#': 1, '^': 2, '<': 3, '$': 4,\n\t    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n\t    '{': 10, '&': 11, '_t': 12\n\t  };\n\t\n\t  Hogan.scan = function scan(text, delimiters) {\n\t    var len = text.length,\n\t        IN_TEXT = 0,\n\t        IN_TAG_TYPE = 1,\n\t        IN_TAG = 2,\n\t        state = IN_TEXT,\n\t        tagType = null,\n\t        tag = null,\n\t        buf = '',\n\t        tokens = [],\n\t        seenTag = false,\n\t        i = 0,\n\t        lineStart = 0,\n\t        otag = '{{',\n\t        ctag = '}}';\n\t\n\t    function addBuf() {\n\t      if (buf.length > 0) {\n\t        tokens.push({tag: '_t', text: new String(buf)});\n\t        buf = '';\n\t      }\n\t    }\n\t\n\t    function lineIsWhitespace() {\n\t      var isAllWhitespace = true;\n\t      for (var j = lineStart; j < tokens.length; j++) {\n\t        isAllWhitespace =\n\t          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n\t          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n\t        if (!isAllWhitespace) {\n\t          return false;\n\t        }\n\t      }\n\t\n\t      return isAllWhitespace;\n\t    }\n\t\n\t    function filterLine(haveSeenTag, noNewLine) {\n\t      addBuf();\n\t\n\t      if (haveSeenTag && lineIsWhitespace()) {\n\t        for (var j = lineStart, next; j < tokens.length; j++) {\n\t          if (tokens[j].text) {\n\t            if ((next = tokens[j+1]) && next.tag == '>') {\n\t              // set indent to token value\n\t              next.indent = tokens[j].text.toString()\n\t            }\n\t            tokens.splice(j, 1);\n\t          }\n\t        }\n\t      } else if (!noNewLine) {\n\t        tokens.push({tag:'\\n'});\n\t      }\n\t\n\t      seenTag = false;\n\t      lineStart = tokens.length;\n\t    }\n\t\n\t    function changeDelimiters(text, index) {\n\t      var close = '=' + ctag,\n\t          closeIndex = text.indexOf(close, index),\n\t          delimiters = trim(\n\t            text.substring(text.indexOf('=', index) + 1, closeIndex)\n\t          ).split(' ');\n\t\n\t      otag = delimiters[0];\n\t      ctag = delimiters[delimiters.length - 1];\n\t\n\t      return closeIndex + close.length - 1;\n\t    }\n\t\n\t    if (delimiters) {\n\t      delimiters = delimiters.split(' ');\n\t      otag = delimiters[0];\n\t      ctag = delimiters[1];\n\t    }\n\t\n\t    for (i = 0; i < len; i++) {\n\t      if (state == IN_TEXT) {\n\t        if (tagChange(otag, text, i)) {\n\t          --i;\n\t          addBuf();\n\t          state = IN_TAG_TYPE;\n\t        } else {\n\t          if (text.charAt(i) == '\\n') {\n\t            filterLine(seenTag);\n\t          } else {\n\t            buf += text.charAt(i);\n\t          }\n\t        }\n\t      } else if (state == IN_TAG_TYPE) {\n\t        i += otag.length - 1;\n\t        tag = Hogan.tags[text.charAt(i + 1)];\n\t        tagType = tag ? text.charAt(i + 1) : '_v';\n\t        if (tagType == '=') {\n\t          i = changeDelimiters(text, i);\n\t          state = IN_TEXT;\n\t        } else {\n\t          if (tag) {\n\t            i++;\n\t          }\n\t          state = IN_TAG;\n\t        }\n\t        seenTag = i;\n\t      } else {\n\t        if (tagChange(ctag, text, i)) {\n\t          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n\t                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n\t          buf = '';\n\t          i += ctag.length - 1;\n\t          state = IN_TEXT;\n\t          if (tagType == '{') {\n\t            if (ctag == '}}') {\n\t              i++;\n\t            } else {\n\t              cleanTripleStache(tokens[tokens.length - 1]);\n\t            }\n\t          }\n\t        } else {\n\t          buf += text.charAt(i);\n\t        }\n\t      }\n\t    }\n\t\n\t    filterLine(seenTag, true);\n\t\n\t    return tokens;\n\t  }\n\t\n\t  function cleanTripleStache(token) {\n\t    if (token.n.substr(token.n.length - 1) === '}') {\n\t      token.n = token.n.substring(0, token.n.length - 1);\n\t    }\n\t  }\n\t\n\t  function trim(s) {\n\t    if (s.trim) {\n\t      return s.trim();\n\t    }\n\t\n\t    return s.replace(/^\\s*|\\s*$/g, '');\n\t  }\n\t\n\t  function tagChange(tag, text, index) {\n\t    if (text.charAt(index) != tag.charAt(0)) {\n\t      return false;\n\t    }\n\t\n\t    for (var i = 1, l = tag.length; i < l; i++) {\n\t      if (text.charAt(index + i) != tag.charAt(i)) {\n\t        return false;\n\t      }\n\t    }\n\t\n\t    return true;\n\t  }\n\t\n\t  // the tags allowed inside super templates\n\t  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\t\n\t  function buildTree(tokens, kind, stack, customTags) {\n\t    var instructions = [],\n\t        opener = null,\n\t        tail = null,\n\t        token = null;\n\t\n\t    tail = stack[stack.length - 1];\n\t\n\t    while (tokens.length > 0) {\n\t      token = tokens.shift();\n\t\n\t      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n\t        throw new Error('Illegal content in < super tag.');\n\t      }\n\t\n\t      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n\t        stack.push(token);\n\t        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n\t      } else if (token.tag == '/') {\n\t        if (stack.length === 0) {\n\t          throw new Error('Closing tag without opener: /' + token.n);\n\t        }\n\t        opener = stack.pop();\n\t        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n\t          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n\t        }\n\t        opener.end = token.i;\n\t        return instructions;\n\t      } else if (token.tag == '\\n') {\n\t        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n\t      }\n\t\n\t      instructions.push(token);\n\t    }\n\t\n\t    if (stack.length > 0) {\n\t      throw new Error('missing closing tag: ' + stack.pop().n);\n\t    }\n\t\n\t    return instructions;\n\t  }\n\t\n\t  function isOpener(token, tags) {\n\t    for (var i = 0, l = tags.length; i < l; i++) {\n\t      if (tags[i].o == token.n) {\n\t        token.tag = '#';\n\t        return true;\n\t      }\n\t    }\n\t  }\n\t\n\t  function isCloser(close, open, tags) {\n\t    for (var i = 0, l = tags.length; i < l; i++) {\n\t      if (tags[i].c == close && tags[i].o == open) {\n\t        return true;\n\t      }\n\t    }\n\t  }\n\t\n\t  function stringifySubstitutions(obj) {\n\t    var items = [];\n\t    for (var key in obj) {\n\t      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n\t    }\n\t    return \"{ \" + items.join(\",\") + \" }\";\n\t  }\n\t\n\t  function stringifyPartials(codeObj) {\n\t    var partials = [];\n\t    for (var key in codeObj.partials) {\n\t      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n\t    }\n\t    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n\t  }\n\t\n\t  Hogan.stringify = function(codeObj, text, options) {\n\t    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n\t  }\n\t\n\t  var serialNo = 0;\n\t  Hogan.generate = function(tree, text, options) {\n\t    serialNo = 0;\n\t    var context = { code: '', subs: {}, partials: {} };\n\t    Hogan.walk(tree, context);\n\t\n\t    if (options.asString) {\n\t      return this.stringify(context, text, options);\n\t    }\n\t\n\t    return this.makeTemplate(context, text, options);\n\t  }\n\t\n\t  Hogan.wrapMain = function(code) {\n\t    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n\t  }\n\t\n\t  Hogan.template = Hogan.Template;\n\t\n\t  Hogan.makeTemplate = function(codeObj, text, options) {\n\t    var template = this.makePartials(codeObj);\n\t    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n\t    return new this.template(template, text, this, options);\n\t  }\n\t\n\t  Hogan.makePartials = function(codeObj) {\n\t    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n\t    for (key in template.partials) {\n\t      template.partials[key] = this.makePartials(template.partials[key]);\n\t    }\n\t    for (key in codeObj.subs) {\n\t      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n\t    }\n\t    return template;\n\t  }\n\t\n\t  function esc(s) {\n\t    return s.replace(rSlash, '\\\\\\\\')\n\t            .replace(rQuot, '\\\\\\\"')\n\t            .replace(rNewline, '\\\\n')\n\t            .replace(rCr, '\\\\r')\n\t            .replace(rLineSep, '\\\\u2028')\n\t            .replace(rParagraphSep, '\\\\u2029');\n\t  }\n\t\n\t  function chooseMethod(s) {\n\t    return (~s.indexOf('.')) ? 'd' : 'f';\n\t  }\n\t\n\t  function createPartial(node, context) {\n\t    var prefix = \"<\" + (context.prefix || \"\");\n\t    var sym = prefix + node.n + serialNo++;\n\t    context.partials[sym] = {name: node.n, partials: {}};\n\t    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n\t    return sym;\n\t  }\n\t\n\t  Hogan.codegen = {\n\t    '#': function(node, context) {\n\t      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n\t                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n\t                      't.rs(c,p,' + 'function(c,p,t){';\n\t      Hogan.walk(node.nodes, context);\n\t      context.code += '});c.pop();}';\n\t    },\n\t\n\t    '^': function(node, context) {\n\t      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n\t      Hogan.walk(node.nodes, context);\n\t      context.code += '};';\n\t    },\n\t\n\t    '>': createPartial,\n\t    '<': function(node, context) {\n\t      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n\t      Hogan.walk(node.nodes, ctx);\n\t      var template = context.partials[createPartial(node, context)];\n\t      template.subs = ctx.subs;\n\t      template.partials = ctx.partials;\n\t    },\n\t\n\t    '$': function(node, context) {\n\t      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n\t      Hogan.walk(node.nodes, ctx);\n\t      context.subs[node.n] = ctx.code;\n\t      if (!context.inPartial) {\n\t        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n\t      }\n\t    },\n\t\n\t    '\\n': function(node, context) {\n\t      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n\t    },\n\t\n\t    '_v': function(node, context) {\n\t      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n\t    },\n\t\n\t    '_t': function(node, context) {\n\t      context.code += write('\"' + esc(node.text) + '\"');\n\t    },\n\t\n\t    '{': tripleStache,\n\t\n\t    '&': tripleStache\n\t  }\n\t\n\t  function tripleStache(node, context) {\n\t    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n\t  }\n\t\n\t  function write(s) {\n\t    return 't.b(' + s + ');';\n\t  }\n\t\n\t  Hogan.walk = function(nodelist, context) {\n\t    var func;\n\t    for (var i = 0, l = nodelist.length; i < l; i++) {\n\t      func = Hogan.codegen[nodelist[i].tag];\n\t      func && func(nodelist[i], context);\n\t    }\n\t    return context;\n\t  }\n\t\n\t  Hogan.parse = function(tokens, text, options) {\n\t    options = options || {};\n\t    return buildTree(tokens, '', [], options.sectionTags || []);\n\t  }\n\t\n\t  Hogan.cache = {};\n\t\n\t  Hogan.cacheKey = function(text, options) {\n\t    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n\t  }\n\t\n\t  Hogan.compile = function(text, options) {\n\t    options = options || {};\n\t    var key = Hogan.cacheKey(text, options);\n\t    var template = this.cache[key];\n\t\n\t    if (template) {\n\t      var partials = template.partials;\n\t      for (var name in partials) {\n\t        delete partials[name].instance;\n\t      }\n\t      return template;\n\t    }\n\t\n\t    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n\t    return this.cache[key] = template;\n\t  }\n\t})( true ? exports : Hogan);\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t *  Copyright 2011 Twitter, Inc.\n\t *  Licensed under the Apache License, Version 2.0 (the \"License\");\n\t *  you may not use this file except in compliance with the License.\n\t *  You may obtain a copy of the License at\n\t *\n\t *  http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t *  Unless required by applicable law or agreed to in writing, software\n\t *  distributed under the License is distributed on an \"AS IS\" BASIS,\n\t *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t *  See the License for the specific language governing permissions and\n\t *  limitations under the License.\n\t */\n\t\n\tvar Hogan = {};\n\t\n\t(function (Hogan) {\n\t  Hogan.Template = function (codeObj, text, compiler, options) {\n\t    codeObj = codeObj || {};\n\t    this.r = codeObj.code || this.r;\n\t    this.c = compiler;\n\t    this.options = options || {};\n\t    this.text = text || '';\n\t    this.partials = codeObj.partials || {};\n\t    this.subs = codeObj.subs || {};\n\t    this.buf = '';\n\t  }\n\t\n\t  Hogan.Template.prototype = {\n\t    // render: replaced by generated code.\n\t    r: function (context, partials, indent) { return ''; },\n\t\n\t    // variable escaping\n\t    v: hoganEscape,\n\t\n\t    // triple stache\n\t    t: coerceToString,\n\t\n\t    render: function render(context, partials, indent) {\n\t      return this.ri([context], partials || {}, indent);\n\t    },\n\t\n\t    // render internal -- a hook for overrides that catches partials too\n\t    ri: function (context, partials, indent) {\n\t      return this.r(context, partials, indent);\n\t    },\n\t\n\t    // ensurePartial\n\t    ep: function(symbol, partials) {\n\t      var partial = this.partials[symbol];\n\t\n\t      // check to see that if we've instantiated this partial before\n\t      var template = partials[partial.name];\n\t      if (partial.instance && partial.base == template) {\n\t        return partial.instance;\n\t      }\n\t\n\t      if (typeof template == 'string') {\n\t        if (!this.c) {\n\t          throw new Error(\"No compiler available.\");\n\t        }\n\t        template = this.c.compile(template, this.options);\n\t      }\n\t\n\t      if (!template) {\n\t        return null;\n\t      }\n\t\n\t      // We use this to check whether the partials dictionary has changed\n\t      this.partials[symbol].base = template;\n\t\n\t      if (partial.subs) {\n\t        // Make sure we consider parent template now\n\t        if (!partials.stackText) partials.stackText = {};\n\t        for (key in partial.subs) {\n\t          if (!partials.stackText[key]) {\n\t            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n\t          }\n\t        }\n\t        template = createSpecializedPartial(template, partial.subs, partial.partials,\n\t          this.stackSubs, this.stackPartials, partials.stackText);\n\t      }\n\t      this.partials[symbol].instance = template;\n\t\n\t      return template;\n\t    },\n\t\n\t    // tries to find a partial in the current scope and render it\n\t    rp: function(symbol, context, partials, indent) {\n\t      var partial = this.ep(symbol, partials);\n\t      if (!partial) {\n\t        return '';\n\t      }\n\t\n\t      return partial.ri(context, partials, indent);\n\t    },\n\t\n\t    // render a section\n\t    rs: function(context, partials, section) {\n\t      var tail = context[context.length - 1];\n\t\n\t      if (!isArray(tail)) {\n\t        section(context, partials, this);\n\t        return;\n\t      }\n\t\n\t      for (var i = 0; i < tail.length; i++) {\n\t        context.push(tail[i]);\n\t        section(context, partials, this);\n\t        context.pop();\n\t      }\n\t    },\n\t\n\t    // maybe start a section\n\t    s: function(val, ctx, partials, inverted, start, end, tags) {\n\t      var pass;\n\t\n\t      if (isArray(val) && val.length === 0) {\n\t        return false;\n\t      }\n\t\n\t      if (typeof val == 'function') {\n\t        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n\t      }\n\t\n\t      pass = !!val;\n\t\n\t      if (!inverted && pass && ctx) {\n\t        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n\t      }\n\t\n\t      return pass;\n\t    },\n\t\n\t    // find values with dotted names\n\t    d: function(key, ctx, partials, returnFound) {\n\t      var found,\n\t          names = key.split('.'),\n\t          val = this.f(names[0], ctx, partials, returnFound),\n\t          doModelGet = this.options.modelGet,\n\t          cx = null;\n\t\n\t      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n\t        val = ctx[ctx.length - 1];\n\t      } else {\n\t        for (var i = 1; i < names.length; i++) {\n\t          found = findInScope(names[i], val, doModelGet);\n\t          if (found !== undefined) {\n\t            cx = val;\n\t            val = found;\n\t          } else {\n\t            val = '';\n\t          }\n\t        }\n\t      }\n\t\n\t      if (returnFound && !val) {\n\t        return false;\n\t      }\n\t\n\t      if (!returnFound && typeof val == 'function') {\n\t        ctx.push(cx);\n\t        val = this.mv(val, ctx, partials);\n\t        ctx.pop();\n\t      }\n\t\n\t      return val;\n\t    },\n\t\n\t    // find values with normal names\n\t    f: function(key, ctx, partials, returnFound) {\n\t      var val = false,\n\t          v = null,\n\t          found = false,\n\t          doModelGet = this.options.modelGet;\n\t\n\t      for (var i = ctx.length - 1; i >= 0; i--) {\n\t        v = ctx[i];\n\t        val = findInScope(key, v, doModelGet);\n\t        if (val !== undefined) {\n\t          found = true;\n\t          break;\n\t        }\n\t      }\n\t\n\t      if (!found) {\n\t        return (returnFound) ? false : \"\";\n\t      }\n\t\n\t      if (!returnFound && typeof val == 'function') {\n\t        val = this.mv(val, ctx, partials);\n\t      }\n\t\n\t      return val;\n\t    },\n\t\n\t    // higher order templates\n\t    ls: function(func, cx, partials, text, tags) {\n\t      var oldTags = this.options.delimiters;\n\t\n\t      this.options.delimiters = tags;\n\t      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n\t      this.options.delimiters = oldTags;\n\t\n\t      return false;\n\t    },\n\t\n\t    // compile text\n\t    ct: function(text, cx, partials) {\n\t      if (this.options.disableLambda) {\n\t        throw new Error('Lambda features disabled.');\n\t      }\n\t      return this.c.compile(text, this.options).render(cx, partials);\n\t    },\n\t\n\t    // template result buffering\n\t    b: function(s) { this.buf += s; },\n\t\n\t    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\t\n\t    // method replace section\n\t    ms: function(func, ctx, partials, inverted, start, end, tags) {\n\t      var textSource,\n\t          cx = ctx[ctx.length - 1],\n\t          result = func.call(cx);\n\t\n\t      if (typeof result == 'function') {\n\t        if (inverted) {\n\t          return true;\n\t        } else {\n\t          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n\t          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n\t        }\n\t      }\n\t\n\t      return result;\n\t    },\n\t\n\t    // method replace variable\n\t    mv: function(func, ctx, partials) {\n\t      var cx = ctx[ctx.length - 1];\n\t      var result = func.call(cx);\n\t\n\t      if (typeof result == 'function') {\n\t        return this.ct(coerceToString(result.call(cx)), cx, partials);\n\t      }\n\t\n\t      return result;\n\t    },\n\t\n\t    sub: function(name, context, partials, indent) {\n\t      var f = this.subs[name];\n\t      if (f) {\n\t        this.activeSub = name;\n\t        f(context, partials, this, indent);\n\t        this.activeSub = false;\n\t      }\n\t    }\n\t\n\t  };\n\t\n\t  //Find a key in an object\n\t  function findInScope(key, scope, doModelGet) {\n\t    var val;\n\t\n\t    if (scope && typeof scope == 'object') {\n\t\n\t      if (scope[key] !== undefined) {\n\t        val = scope[key];\n\t\n\t      // try lookup with get for backbone or similar model data\n\t      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n\t        val = scope.get(key);\n\t      }\n\t    }\n\t\n\t    return val;\n\t  }\n\t\n\t  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n\t    function PartialTemplate() {};\n\t    PartialTemplate.prototype = instance;\n\t    function Substitutions() {};\n\t    Substitutions.prototype = instance.subs;\n\t    var key;\n\t    var partial = new PartialTemplate();\n\t    partial.subs = new Substitutions();\n\t    partial.subsText = {};  //hehe. substext.\n\t    partial.buf = '';\n\t\n\t    stackSubs = stackSubs || {};\n\t    partial.stackSubs = stackSubs;\n\t    partial.subsText = stackText;\n\t    for (key in subs) {\n\t      if (!stackSubs[key]) stackSubs[key] = subs[key];\n\t    }\n\t    for (key in stackSubs) {\n\t      partial.subs[key] = stackSubs[key];\n\t    }\n\t\n\t    stackPartials = stackPartials || {};\n\t    partial.stackPartials = stackPartials;\n\t    for (key in partials) {\n\t      if (!stackPartials[key]) stackPartials[key] = partials[key];\n\t    }\n\t    for (key in stackPartials) {\n\t      partial.partials[key] = stackPartials[key];\n\t    }\n\t\n\t    return partial;\n\t  }\n\t\n\t  var rAmp = /&/g,\n\t      rLt = /</g,\n\t      rGt = />/g,\n\t      rApos = /\\'/g,\n\t      rQuot = /\\\"/g,\n\t      hChars = /[&<>\\\"\\']/;\n\t\n\t  function coerceToString(val) {\n\t    return String((val === null || val === undefined) ? '' : val);\n\t  }\n\t\n\t  function hoganEscape(str) {\n\t    str = coerceToString(str);\n\t    return hChars.test(str) ?\n\t      str\n\t        .replace(rAmp, '&amp;')\n\t        .replace(rLt, '&lt;')\n\t        .replace(rGt, '&gt;')\n\t        .replace(rApos, '&#39;')\n\t        .replace(rQuot, '&quot;') :\n\t      str;\n\t  }\n\t\n\t  var isArray = Array.isArray || function(a) {\n\t    return Object.prototype.toString.call(a) === '[object Array]';\n\t  };\n\t\n\t})( true ? exports : Hogan);\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\t__webpack_require__(18);\n\t\n\tvar _PropertyBase2 = __webpack_require__(21);\n\t\n\tvar _PropertyBase3 = _interopRequireDefault(_PropertyBase2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tconsole.log(\"editor/PropertyColor.js\");\n\t\n\t__webpack_require__(28);\n\t\n\t\n\tvar tpl_property = __webpack_require__(29);\n\t\n\tvar PropertyColor = function (_PropertyBase) {\n\t  _inherits(PropertyColor, _PropertyBase);\n\t\n\t  function PropertyColor(instance_property, lineData, editor) {\n\t    var key_val = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t    _classCallCheck(this, PropertyColor);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PropertyColor).call(this, instance_property, lineData, editor, key_val));\n\t\n\t    _this.onInputChange = _this.onInputChange.bind(_this);\n\t    _this.$input = _this.$el.find('input');\n\t    return _this;\n\t  }\n\t\n\t  _createClass(PropertyColor, [{\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(PropertyColor.prototype), 'render', this).call(this);\n\t      // By default assign the property default value\n\t      var val = this.getCurrentVal();\n\t\n\t      var data = {\n\t        id: this.instance_property.name, // \"circleRadius\" instead of \"circle radius\"\n\t        label: this.instance_property.label || this.instance_property.name,\n\t        val: val\n\t      };\n\t\n\t      var view = tpl_property(data);\n\t      this.$el = $(view);\n\t      this.$el.find('.property__key').click(this.onKeyClick);\n\t\n\t      var $input = this.$el.find('input');\n\t\n\t      $input.spectrum({\n\t        allowEmpty: false,\n\t        showAlpha: true,\n\t        clickoutFiresChange: false,\n\t        preferredFormat: 'rgb',\n\t        change: function change() {\n\t          _this2.editor.undoManager.addState();\n\t        },\n\t        move: function move(color) {\n\t          if (color._a === 1) {\n\t            $input.val(color.toHexString());\n\t          } else {\n\t            $input.val(color.toRgbString());\n\t          }\n\t\n\t          _this2.onInputChange();\n\t        }\n\t      });\n\t\n\t      $input.change(this.onInputChange);\n\t    }\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove() {\n\t      _get(Object.getPrototypeOf(PropertyColor.prototype), 'remove', this).call(this);\n\t      this.$el.find('input').spectrum('destroy');\n\t      delete this.$el;\n\t      delete this.$input;\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      _get(Object.getPrototypeOf(PropertyColor.prototype), 'update', this).call(this);\n\t      var val = this.getCurrentVal();\n\t      this.$input.val(val);\n\t      this.$input.spectrum('set', val);\n\t    }\n\t  }]);\n\t\n\t  return PropertyColor;\n\t}(_PropertyBase3.default);\n\t\n\texports.default = PropertyColor;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_28__;\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar H = __webpack_require__(24);\n\tmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">\");t.b(t.v(t.f(\"label\",c,p,0)));t.b(\"</label>\");t.b(\"\\n\" + i);t.b(\"  <input id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"val\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">{{label}}</label>\\n  <input id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{val}}\\\" />\\n</div>\\n\", H); return T.render.apply(T, arguments); };\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(18);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"editor/PropertyTween.js\");\n\t\n\t\n\tvar tpl_property = __webpack_require__(31);\n\t\n\tvar PropertyTween = function () {\n\t  // instance_property: The current property on the data object.\n\t  // lineData: The line data object.\n\t  function PropertyTween(instance_property, lineData, editor) {\n\t    var key_val = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t    var timeline = arguments.length <= 4 || arguments[4] === undefined ? false : arguments[4];\n\t\n\t    _classCallCheck(this, PropertyTween);\n\t\n\t    this.instance_property = instance_property;\n\t    this.lineData = lineData;\n\t    this.editor = editor;\n\t    this.key_val = key_val;\n\t    this.timeline = timeline;\n\t\n\t    this.onChange = this.onChange.bind(this);\n\t\n\t    this.timer = this.editor.timer;\n\t    this.$time = false;\n\t    this.$el = false;\n\t    this.render();\n\t  }\n\t\n\t  _createClass(PropertyTween, [{\n\t    key: 'remove',\n\t    value: function remove() {\n\t      delete this.$el;\n\t      delete this.instance_property;\n\t      delete this.lineData;\n\t      delete this.editor;\n\t      delete this.key_val;\n\t      delete this.timeline;\n\t\n\t      delete this.timer;\n\t      delete this.$time;\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this = this;\n\t\n\t      var self = this;\n\t      if (!this.key_val.ease) {\n\t        this.key_val.ease = 'Quad.easeOut';\n\t      }\n\t      var data = {\n\t        id: this.instance_property.name + '_tween',\n\t        val: this.key_val.ease,\n\t        time: this.key_val.time.toFixed(3),\n\t        options: ['Linear.easeNone'],\n\t        selected: function selected() {\n\t          if (this.toString() === self.key_val.ease) {\n\t            return 'selected';\n\t          }\n\t          return '';\n\t        }\n\t      };\n\t\n\t      var tweens = ['Quad', 'Cubic', 'Quart', 'Quint'];\n\t      for (var i = 0; i < tweens.length; i++) {\n\t        var tween = tweens[i];\n\t        data.options.push(tween + '.easeOut');\n\t        data.options.push(tween + '.easeIn');\n\t        data.options.push(tween + '.easeInOut');\n\t      }\n\t\n\t      this.$el = $(tpl_property(data));\n\t      this.$time = this.$el.find('.property__key-time strong');\n\t      this.$time.keypress(function (e) {\n\t        if (e.charCode === 13) {\n\t          // Enter\n\t          e.preventDefault();\n\t          _this.$time.blur();\n\t          _this.updateKeyTime(_this.$time.text());\n\t        }\n\t      });\n\t\n\t      this.$time.on('click', function () {\n\t        return document.execCommand('selectAll', false, null);\n\t      });\n\t      this.$el.find('select').change(this.onChange);\n\t    }\n\t  }, {\n\t    key: 'updateKeyTime',\n\t    value: function updateKeyTime(time) {\n\t      var time2 = parseFloat(time);\n\t      if (isNaN(time2)) {\n\t        time2 = this.key_val.time;\n\t      }\n\t      this.$time.text(time2);\n\t      this.key_val.time = time2;\n\t      this.onChange();\n\t    }\n\t  }, {\n\t    key: 'onChange',\n\t    value: function onChange() {\n\t      var ease = this.$el.find('select').val();\n\t      this.key_val.ease = ease;\n\t      this.editor.undoManager.addState();\n\t      this.lineData._isDirty = true;\n\t      this.timeline._isDirty = true;\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      // todo: use mustache instead...\n\t      this.$time.html(this.key_val.time.toFixed(3));\n\t    }\n\t  }]);\n\t\n\t  return PropertyTween;\n\t}();\n\t\n\texports.default = PropertyTween;\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar H = __webpack_require__(24);\n\tmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--tween\\\">\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">easing</label>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"property__select\\\">\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"custom-select\\\">\");t.b(\"\\n\" + i);t.b(\"      <select id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\">\");t.b(\"\\n\" + i);if(t.s(t.f(\"options\",c,p,1),c,p,0,212,279,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"        <option value=\\\"\");t.b(t.v(t.d(\".\",c,p,0)));t.b(\"\\\" \");t.b(t.v(t.f(\"selected\",c,p,0)));t.b(\">\");t.b(t.v(t.d(\".\",c,p,0)));t.b(\"</option>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"      </select>\");t.b(\"\\n\" + i);t.b(\"    </div>\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"properties-editor__actions actions\\\">\");t.b(\"\\n\" + i);t.b(\"  <span class=\\\"property__key-time\\\">key at <strong class=\\\"property__key-input\\\" contenteditable=\\\"true\\\">\");t.b(t.v(t.f(\"time\",c,p,0)));t.b(\"</strong> seconds</span>\");t.b(\"\\n\" + i);t.b(\"  <a href=\\\"#\\\" class=\\\"actions__item\\\" data-action-remove>Remove key</a>\");t.b(\"\\n\" + i);t.b(\"</div>\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--tween\\\">\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">easing</label>\\n  <div class=\\\"property__select\\\">\\n    <div class=\\\"custom-select\\\">\\n      <select id=\\\"{{id}}\\\">\\n        {{#options}}\\n        <option value=\\\"{{.}}\\\" {{selected}}>{{.}}</option>\\n        {{/options}}\\n      </select>\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"properties-editor__actions actions\\\">\\n  <span class=\\\"property__key-time\\\">key at <strong class=\\\"property__key-input\\\" contenteditable=\\\"true\\\">{{time}}</strong> seconds</span>\\n  <a href=\\\"#\\\" class=\\\"actions__item\\\" data-action-remove>Remove key</a>\\n</div>\", H); return T.render.apply(T, arguments); };\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\t__webpack_require__(18);\n\t\n\tvar _PropertyBase2 = __webpack_require__(21);\n\t\n\tvar _PropertyBase3 = _interopRequireDefault(_PropertyBase2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tconsole.log(\"editor/PropertyMotionBody.js\");\n\t\n\tvar DraggableNumber = __webpack_require__(22);\n\t\n\tvar tpl_property = __webpack_require__(33);\n\t\n\tvar PropertyMotionBody = function (_PropertyBase) {\n\t  _inherits(PropertyMotionBody, _PropertyBase);\n\t\n\t  // instance_property: The current property on the data object.\n\t  // lineData: The line data object.\n\t  function PropertyMotionBody(instance_property, lineData, editor) {\n\t    var key_val = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t    _classCallCheck(this, PropertyMotionBody);\n\t\n\t    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PropertyMotionBody).call(this, instance_property, lineData, editor, key_val));\n\t\n\t    _this.onInputChange = _this.onInputChange.bind(_this);\n\t    _this.$input = _this.$el.find('input');\n\t    return _this;\n\t  }\n\t\n\t  _createClass(PropertyMotionBody, [{\n\t    key: 'getInputVal',\n\t    value: function getInputVal() {\n\t      return parseFloat(this.$el.find('input').val());\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      var _this2 = this;\n\t\n\t      _get(Object.getPrototypeOf(PropertyMotionBody.prototype), 'render', this).call(this);\n\t      // By default assign the property default value\n\t      var val = this.getCurrentVal();\n\t      var dx = this.getCurrentX();\n\t      var x_time = this.getCurrentXTime();\n\t      var dy = this.getCurrentY();\n\t      var y_time = this.getCurrentYTime();\n\t      var video = this.getCurrentVideo();\n\t      var audio = this.getCurrentAudio();\n\t      var led = this.getCurrentLed();\n\t\n\t      var data = {\n\t        id: this.instance_property.name, // \"circleRadius\" instead of \"circle radius\"\n\t        label: this.instance_property.label || this.instance_property.name,\n\t        val: val,\n\t        x: dx,\n\t        x_time: x_time,\n\t        y: dy,\n\t        y_time: y_time,\n\t        video: video,\n\t        audio: audio,\n\t        led: led\n\t      };\n\t\n\t      var view = tpl_property(data);\n\t      this.$el = $(view);\n\t      this.$el.find('.property__key').click(this.onKeyClick);\n\t\n\t      var $input = this.$el.find('input');\n\t\n\t      var onChangeEnd = function onChangeEnd() {\n\t        _this2.editor.undoManager.addState();\n\t      };\n\t\n\t      var draggableOptions = {\n\t        changeCallback: function changeCallback() {\n\t          return _this2.onInputChange();\n\t        },\n\t        endCallback: function endCallback() {\n\t          return onChangeEnd();\n\t        }\n\t      };\n\t      // Set min & max if they are defined.\n\t      if ('min' in this.instance_property) {\n\t        draggableOptions.min = this.instance_property.min;\n\t      }\n\t      if ('max' in this.instance_property) {\n\t        draggableOptions.max = this.instance_property.max;\n\t      }\n\t\n\t      var draggable = new DraggableNumber($input.get(0), draggableOptions);\n\t      $input.data('draggable', draggable);\n\t      $input.change(this.onInputChange);\n\t    }\n\t  }, {\n\t    key: 'remove',\n\t    value: function remove() {\n\t      _get(Object.getPrototypeOf(PropertyMotionBody.prototype), 'render', this).call(this);\n\t      if (this.$input.data('draggable')) {\n\t        this.$input.data('draggable').destroy();\n\t      }\n\t\n\t      delete this.$input;\n\t      delete this.$el;\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      _get(Object.getPrototypeOf(PropertyMotionBody.prototype), 'render', this).call(this);\n\t      var val = this.getCurrentVal();\n\t      var draggable = this.$input.data('draggable');\n\t\n\t      if (draggable) {\n\t        draggable.set(val.toFixed(3));\n\t      } else {\n\t        this.$input.val(val.toFixed(3));\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return PropertyMotionBody;\n\t}(_PropertyBase3.default);\n\t\n\texports.default = PropertyMotionBody;\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar H = __webpack_require__(24);\n\tmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">\");t.b(t.v(t.f(\"label\",c,p,0)));t.b(\"</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"val\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">Ｘ:</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"x\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"  \");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">Time:</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"x_time\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">Ｙ:</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"y\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">Time:</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"y_time\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">設定Video</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"value\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"video\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">設定audio</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"value\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"audio\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">設定Led</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"value\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"led\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">{{label}}</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{val}}\\\" />\\n</div>\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">Ｘ:</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{x}}\\\" />\\n  \\n</div>\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">Time:</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{x_time}}\\\" />\\n\\n</div>\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">Ｙ:</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{y}}\\\" />\\n\\n</div>\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">Time:</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{y_time}}\\\" />\\n\\n</div>\\n\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">設定Video</label>\\n  <input type=\\\"value\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{video}}\\\" />\\n</div>\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">設定audio</label>\\n  <input type=\\\"value\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{audio}}\\\" />\\n</div>\\n\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">設定Led</label>\\n  <input type=\\\"value\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{led}}\\\" />\\n</div>\", H); return T.render.apply(T, arguments); };\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar H = __webpack_require__(24);\n\tmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"properties-editor\\\">\");t.b(\"\\n\" + i);t.b(\"  <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle-side\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"properties-editor__main test\\\"></div>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"properties-editor\\\">\\n  <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle-side\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\\n  <div class=\\\"properties-editor__main test\\\"></div>\\n</div>\\n\", H); return T.render.apply(T, arguments); };\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"editor/EditorMenu.js\");\n\tvar saveAs = __webpack_require__(36).saveAs || __webpack_require__(36);\n\t\n\tvar EditorMenu = function () {\n\t  function EditorMenu(tweenTime, $timeline, editor) {\n\t    _classCallCheck(this, EditorMenu);\n\t\n\t    this.tweenTime = tweenTime;\n\t    this.$timeline = $timeline;\n\t    this.editor = editor;\n\t    this.timer = this.tweenTime.timer;\n\t    this.initExport();\n\t    this.initToggle();\n\t  }\n\t\n\t  _createClass(EditorMenu, [{\n\t    key: 'initToggle',\n\t    value: function initToggle() {\n\t      var parentElement = this.editor.el;\n\t      var timelineClosed = false;\n\t      var $toggleLink = this.$timeline.find('[data-action=\"toggle\"]');\n\t      $toggleLink.click(function (e) {\n\t        e.preventDefault();\n\t        timelineClosed = !timelineClosed;\n\t        $toggleLink.toggleClass('menu-item--toggle-up', timelineClosed);\n\t        parentElement.toggleClass('timeline-is-closed', timelineClosed);\n\t        return window.dispatchEvent(new Event('resize'));\n\t      });\n\t      var $toggleLinkSide = $('.properties-editor', parentElement).find('[data-action=\"toggle\"]');\n\t      $toggleLinkSide.click(function (e) {\n\t        var propertiesClosed;\n\t        e.preventDefault();\n\t        propertiesClosed = !parentElement.hasClass('properties-is-closed');\n\t        parentElement.toggleClass('properties-is-closed', propertiesClosed);\n\t        return window.dispatchEvent(new Event('resize'));\n\t      });\n\t    }\n\t  }, {\n\t    key: 'initExport',\n\t    value: function initExport() {\n\t      var exporter = this.editor.exporter;\n\t      this.$timeline.find('[data-action=\"export\"]').click(function (e) {\n\t        e.preventDefault();\n\t        var data = exporter.getJSON();\n\t        var blob = new Blob([data], {\n\t          type: 'text/json;charset=utf-8'\n\t        });\n\t        saveAs(blob, 'data.json');\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return EditorMenu;\n\t}();\n\t\n\texports.default = EditorMenu;\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_36__;\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar EditorControls = function () {\n\t  function EditorControls(tweenTime, $timeline) {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, EditorControls);\n\t\n\t    console.log(\"editor/EditorControls.js\");\n\t    this.tweenTime = tweenTime;\n\t    this.$timeline = $timeline;\n\t    this.timer = this.tweenTime.timer;\n\t    this.$time = this.$timeline.find('.control--time');\n\t    this.$time_end = this.$timeline.find('.control--time-end');\n\t    this.initControls();\n\t    this.$time_end.val(this.tweenTime.timer.getDuration());\n\t\n\t    $(document).keypress(function (e) {\n\t      if (e.charCode === 32) {\n\t        // Space\n\t        _this.playPause();\n\t      }\n\t    });\n\t  }\n\t\n\t  _createClass(EditorControls, [{\n\t    key: 'playPause',\n\t    value: function playPause() {\n\t      var $play_pause;\n\t      this.timer.toggle();\n\t      $play_pause = this.$timeline.find('.control--play-pause');\n\t      $play_pause.toggleClass('icon-pause', this.timer.is_playing);\n\t      $play_pause.toggleClass('icon-play', !this.timer.is_playing);\n\t    }\n\t  }, {\n\t    key: 'initControls',\n\t    value: function initControls() {\n\t      var _this2 = this;\n\t\n\t      var $play_pause = this.$timeline.find('.control--play-pause');\n\t      $play_pause.click(function (e) {\n\t        e.preventDefault();\n\t        _this2.playPause();\n\t      });\n\t      var $bt_first = this.$timeline.find('.control--first');\n\t      $bt_first.click(function (e) {\n\t        e.preventDefault();\n\t        _this2.timer.seek([0]);\n\t      });\n\t      var $bt_last = this.$timeline.find('.control--last');\n\t      $bt_last.click(function (e) {\n\t        e.preventDefault();\n\t        var total = _this2.tweenTime.getTotalDuration();\n\t        _this2.timer.seek([total * 1000]);\n\t      });\n\t      this.$time.change(function () {\n\t        var seconds = parseFloat(_this2.$time.val(), 10) * 1000;\n\t        _this2.timer.seek([seconds]);\n\t      });\n\t      this.$time_end.change(function () {\n\t        var seconds = parseFloat(_this2.$time_end.val(), 10);\n\t        _this2.timer.setDuration(seconds);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render(time, time_changed) {\n\t      if (time_changed) {\n\t        var seconds = time / 1000;\n\t        this.$time.val(seconds.toFixed(3));\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return EditorControls;\n\t}();\n\t\n\texports.default = EditorControls;\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"editor/SelectionManager.js\");\n\tvar d3 = __webpack_require__(9);\n\tvar Signals = __webpack_require__(3);\n\tvar _ = __webpack_require__(6);\n\t\n\tvar SelectionManager = function () {\n\t  function SelectionManager(tweenTime) {\n\t    _classCallCheck(this, SelectionManager);\n\t\n\t    this.tweenTime = tweenTime;\n\t    this.selection = [];\n\t    this.onSelect = new Signals.Signal();\n\t  }\n\t\n\t  _createClass(SelectionManager, [{\n\t    key: 'select',\n\t    value: function select(item) {\n\t      var addToSelection = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t      this.addDataRelations();\n\t\n\t      if (!addToSelection) {\n\t        this.selection = [];\n\t      }\n\t      if (item instanceof Array) {\n\t        for (var i = 0; i < item.length; i++) {\n\t          var el = item[i];\n\t          this.selection.push(el);\n\t        }\n\t      } else {\n\t        this.selection.push(item);\n\t      }\n\t\n\t      this.removeDuplicates();\n\t      this.highlightItems();\n\t      this.sortSelection();\n\t      this.onSelect.dispatch(this.selection, addToSelection);\n\t    }\n\t  }, {\n\t    key: 'getSelection',\n\t    value: function getSelection() {\n\t      return this.selection;\n\t    }\n\t  }, {\n\t    key: 'removeDuplicates',\n\t    value: function removeDuplicates() {\n\t      var result = [];\n\t      for (var i = 0; i < this.selection.length; i++) {\n\t        var item = this.selection[i];\n\t        var found = false;\n\t        for (var j = 0; j < result.length; j++) {\n\t          var item2 = result[j];\n\t          if (_.isEqual(item, item2)) {\n\t            found = true;\n\t            break;\n\t          }\n\t        }\n\t        if (found === false) {\n\t          result.push(item);\n\t        }\n\t      }\n\t      this.selection = result;\n\t    }\n\t  }, {\n\t    key: 'removeItem',\n\t    value: function removeItem(item) {\n\t      // If we pass an _id then search for the item and remove it.\n\t      if (typeof item === 'string') {\n\t        var itemObj = _.find(this.selection, function (el) {\n\t          return el._id === item;\n\t        });\n\t        if (itemObj) {\n\t          return this.removeItem(itemObj);\n\t        }\n\t      }\n\t\n\t      // Remove the object if it exists in the selection.\n\t      var index = this.selection.indexOf(item);\n\t      if (index > -1) {\n\t        this.selection.splice(index, 1);\n\t      }\n\t      this.triggerSelect();\n\t    }\n\t  }, {\n\t    key: 'sortSelection',\n\t    value: function sortSelection() {\n\t      var compare = function compare(a, b) {\n\t        if (!a.time || !b.time) {\n\t          return 0;\n\t        }\n\t        if (a.time < b.time) {\n\t          return -1;\n\t        }\n\t        if (a.time > b.time) {\n\t          return 1;\n\t        }\n\t        return 0;\n\t      };\n\t      this.selection = this.selection.sort(compare);\n\t    }\n\t  }, {\n\t    key: 'reset',\n\t    value: function reset() {\n\t      this.selection = [];\n\t      this.highlightItems();\n\t      this.onSelect.dispatch(this.selection, false);\n\t    }\n\t  }, {\n\t    key: 'triggerSelect',\n\t    value: function triggerSelect() {\n\t      this.onSelect.dispatch(this.selection, false);\n\t    }\n\t  }, {\n\t    key: 'addDataRelations',\n\t    value: function addDataRelations() {\n\t      // We need to add some parent references in main data object.\n\t      // Add a _property reference to each keys.\n\t      // Add a _line property for each references.\n\t      var data = this.tweenTime.data;\n\t      for (var lineIndex = 0; lineIndex < data.length; lineIndex++) {\n\t        var line = data[lineIndex];\n\t        for (var propIndex = 0; propIndex < line.properties.length; propIndex++) {\n\t          var property = line.properties[propIndex];\n\t          property._line = line;\n\t          for (var keyIndex = 0; keyIndex < property.keys.length; keyIndex++) {\n\t            var key = property.keys[keyIndex];\n\t            key._property = property;\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'highlightItems',\n\t    value: function highlightItems() {\n\t      d3.selectAll('.bar--selected').classed('bar--selected', false);\n\t      d3.selectAll('.key--selected').classed('key--selected', false);\n\t\n\t      for (var i = 0; i < this.selection.length; i++) {\n\t        var data = this.selection[i];\n\t        if (data._dom) {\n\t          var d3item = d3.select(data._dom);\n\t          if (d3item.classed('bar')) {\n\t            d3item.classed('bar--selected', true);\n\t          } else if (d3item.classed('key')) {\n\t            d3item.classed('key--selected', true);\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return SelectionManager;\n\t}();\n\t\n\texports.default = SelectionManager;\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"editor/Exporter.js\");\n\t\n\tvar Exporter = function () {\n\t  function Exporter(editor) {\n\t    _classCallCheck(this, Exporter);\n\t\n\t    this.editor = editor;\n\t  }\n\t\n\t  _createClass(Exporter, [{\n\t    key: \"getData\",\n\t    value: function getData() {\n\t      var tweenTime = this.editor.tweenTime;\n\t      var domain = this.editor.timeline.x.domain();\n\t      var domain_start = domain[0];\n\t      var domain_end = domain[1];\n\t      return {\n\t        settings: {\n\t          time: tweenTime.timer.getCurrentTime(),\n\t          duration: tweenTime.timer.getDuration(),\n\t          domain: [domain_start.getTime(), domain_end.getTime()]\n\t        },\n\t        data: tweenTime.data\n\t      };\n\t    }\n\t  }, {\n\t    key: \"getJSON\",\n\t    value: function getJSON() {\n\t      var options = this.editor.options;\n\t      var json_replacer = function json_replacer(key, val) {\n\t        // Disable all private properies from TweenMax/TimelineMax\n\t        if (key.indexOf('_') === 0) {\n\t          return undefined;\n\t        }\n\t        if (options.json_replacer !== undefined) {\n\t          return options.json_replacer(key, val);\n\t        }\n\t        return val;\n\t      };\n\t\n\t      var data = this.getData();\n\t      return JSON.stringify(data, json_replacer, 2);\n\t    }\n\t  }]);\n\t\n\t  return Exporter;\n\t}();\n\t\n\texports.default = Exporter;\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(18);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tconsole.log(\"editor/undoManager.js\");\n\t\n\tvar UndoManager = function () {\n\t  function UndoManager(editor) {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, UndoManager);\n\t\n\t    this.editor = editor;\n\t    this.history_max = 100;\n\t    this.history = [];\n\t    this.current_index = 0;\n\t\n\t    // Add the initial state\n\t    this.addState();\n\t\n\t    $(document).keydown(function (e) {\n\t      if (e.keyCode === 90) {\n\t        if (e.metaKey || e.ctrlKey) {\n\t          if (!e.shiftKey) {\n\t            // (command | ctrl) Z\n\t            _this.undo();\n\t          } else {\n\t            // (command | ctrl) shift Z\n\t            _this.redo();\n\t          }\n\t        }\n\t      }\n\t    });\n\t  }\n\t\n\t  _createClass(UndoManager, [{\n\t    key: \"undo\",\n\t    value: function undo() {\n\t      // If there is no more history return\n\t      if (this.current_index <= 0) {\n\t        return false;\n\t      }\n\t      this.current_index -= 1;\n\t      this.setState(this.current_index);\n\t    }\n\t  }, {\n\t    key: \"redo\",\n\t    value: function redo() {\n\t      // Stop if there is no more things.\n\t      if (this.current_index >= this.history.length - 1) {\n\t        return false;\n\t      }\n\t      this.current_index += 1;\n\t      this.setState(this.current_index);\n\t    }\n\t  }, {\n\t    key: \"addState\",\n\t    value: function addState() {\n\t      var data = JSON.parse(this.editor.exporter.getJSON());\n\t\n\t      // if we did some undo before and then edit something,\n\t      // we want to remove all actions past the current index first.\n\t      if (this.current_index + 1 < this.history.length) {\n\t        this.history.splice(this.current_index + 1, this.history.length - 1);\n\t      }\n\t\n\t      this.history.push(data);\n\t\n\t      // Keep history to a max size by removing the first element if needed.\n\t      if (this.history.length > this.history_max) {\n\t        this.history.shift();\n\t      }\n\t\n\t      // Set the current index\n\t      this.current_index = this.history.length - 1;\n\t    }\n\t  }, {\n\t    key: \"setState\",\n\t    value: function setState(index) {\n\t      var state = this.history[index];\n\t      var data = state.data;\n\t      var tweenTime = this.editor.tweenTime;\n\t\n\t      // naively copy keys and values from previous state\n\t      for (var item_key = 0; item_key < data.length; item_key++) {\n\t        var item = data[item_key];\n\t        // if item is not defined copy it\n\t        if (!tweenTime.data[item_key]) {\n\t          tweenTime.data[item_key] = item;\n\t        } else {\n\t          for (var prop_key = 0; prop_key < item.properties.length; prop_key++) {\n\t            var prop = item.properties[prop_key];\n\t            // if property is not defined copy it\n\t            if (!tweenTime.data[item_key].properties[prop_key]) {\n\t              tweenTime.data[item_key].properties[prop_key] = prop;\n\t            } else {\n\t              // set property keys\n\t              var keys = tweenTime.data[item_key].properties[prop_key].keys;\n\t              for (var key_key = 0; key_key < prop.keys.length; key_key++) {\n\t                var key = prop.keys[key_key];\n\t                if (!keys[key_key]) {\n\t                  keys[key_key] = key;\n\t                } else {\n\t                  keys[key_key].time = key.time;\n\t                  keys[key_key].val = key.val;\n\t                  keys[key_key].ease = key.ease;\n\t                }\n\t              }\n\t            }\n\t          }\n\t        }\n\t\n\t        tweenTime.data[item_key]._isDirty = true;\n\t      }\n\t      this.editor.render(false, true);\n\t    }\n\t  }]);\n\t\n\t  return UndoManager;\n\t}();\n\t\n\texports.default = UndoManager;\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar H = __webpack_require__(24);\n\tmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"timeline\\\">\");t.b(\"\\n\" + i);t.b(\"  <nav class=\\\"timeline__menu\\\">\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"menu-item\\\" data-action=\\\"export\\\">Export</a>\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\");t.b(\"\\n\" + i);t.b(\"  </nav>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"timeline__controls controls\\\">\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"control control--first icon-first\\\"></a>\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"control control--play-pause icon-play\\\"></a>\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"control control--last icon-last\\\"></a>\");t.b(\"\\n\" + i);t.b(\"    <input type=\\\"text\\\" class=\\\"control control--input control--time\\\" /> <span class=\\\"control__time-separator\\\">/</span> <input type=\\\"text\\\" class=\\\"control control--input control--time-end\\\" />\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"timeline__header\\\">\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"timeline__main\\\">\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"timeline\\\">\\n  <nav class=\\\"timeline__menu\\\">\\n    <a href=\\\"#\\\" class=\\\"menu-item\\\" data-action=\\\"export\\\">Export</a>\\n    <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\\n  </nav>\\n  <div class=\\\"timeline__controls controls\\\">\\n    <a href=\\\"#\\\" class=\\\"control control--first icon-first\\\"></a>\\n    <a href=\\\"#\\\" class=\\\"control control--play-pause icon-play\\\"></a>\\n    <a href=\\\"#\\\" class=\\\"control control--last icon-last\\\"></a>\\n    <input type=\\\"text\\\" class=\\\"control control--input control--time\\\" /> <span class=\\\"control__time-separator\\\">/</span> <input type=\\\"text\\\" class=\\\"control control--input control--time-end\\\" />\\n  </div>\\n  <div class=\\\"timeline__header\\\">\\n\\n  </div>\\n  <div class=\\\"timeline__main\\\">\\n\\n  </div>\\n</div>\\n\", H); return T.render.apply(T, arguments); };\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** TweenTime.Editor.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 224351058837809bafff\n **/","var tpl_timeline = require('./templates/timeline.tpl.html');\nimport Timeline from './graph/Timeline';\nimport PropertiesEditor from './editor/PropertiesEditor';\nimport EditorMenu from './editor/EditorMenu';\nimport EditorControls from './editor/EditorControls';\nimport SelectionManager from './editor/SelectionManager';\nimport Exporter from './editor/Exporter';\nimport UndoManager from './editor/UndoManager';\nlet Signals = require('js-signals');\n\nclass Editor {\n  constructor(tweenTime, options = {}) {\n    this.tweenTime = tweenTime;\n    this.options = options;\n    this.timer = this.tweenTime.timer;\n    this.lastTime = -1;\n\n    this.onKeyAdded = this.onKeyAdded.bind(this);\n    this.onKeyRemoved = this.onKeyRemoved.bind(this);\n\n    var el = options.el || $('body');\n    this.el = el;\n    this.$timeline = $(tpl_timeline());\n    el.append(this.$timeline);\n    el.addClass('has-editor');\n\n    this.selectionManager = new SelectionManager(this.tweenTime);\n    this.exporter = new Exporter(this);\n    this.timeline = new Timeline(this, options);\n\n    this.propertiesEditor = new PropertiesEditor(this, this.selectionManager);\n    this.propertiesEditor.keyAdded.add(this.onKeyAdded);\n    this.propertiesEditor.keyRemoved.add(this.onKeyRemoved);\n\n    this.menu = new EditorMenu(this.tweenTime, this.$timeline, this);\n    if (this.options.onMenuCreated !== undefined) {\n      this.options.onMenuCreated(this.$timeline.find('.timeline__menu'), this);\n    }\n\n    this.controls = new EditorControls(this.tweenTime, this.$timeline);\n    this.undoManager = new UndoManager(this);\n\n    // Public events.\n    this.onSelect = new Signals.Signal();\n    var self = this;\n    this.selectionManager.onSelect.add(function(selection, addToSelection) {\n      // Propagate the event.\n      self.onSelect.dispatch(selection, addToSelection);\n    });\n\n    // Will help resize the canvas to correct size (minus sidebar and timeline)\n    window.editorEnabled = true;\n    window.dispatchEvent(new Event('resize'));\n    window.requestAnimationFrame(() => this.update());\n  }\n\n  select(item, addToSelection = false) {\n    this.selectionManager.select(item, addToSelection);\n  }\n\n  getSelection() {\n    return this.selectionManager.getSelection();\n  }\n\n  onKeyAdded() {\n    this.undoManager.addState();\n    this.render(false, false, true);\n  }\n\n  onKeyRemoved(item) {\n    this.selectionManager.removeItem(item._id);\n    this.undoManager.addState();\n    if (this.selectionManager.selection.length) {\n      this.selectionManager.triggerSelect();\n    }\n    this.render(false, false, true);\n  }\n\n  render(time = false, time_changed = false, force = false) {\n    let time2 = time;\n    if (time2 === false) {\n      time2 = this.timer.time[0];\n    }\n    if (force) {\n      this.timeline._isDirty = true;\n    }\n    this.timeline.render(time2, time_changed);\n    this.controls.render(time2, time_changed);\n    this.propertiesEditor.render(time2, time_changed);\n  }\n\n  update() {\n    var time = this.timer.time[0];\n    var time_changed = this.lastTime === time ? false : true;\n\n    this.render(time, time_changed);\n    this.lastTime = this.timer.time[0];\n    window.requestAnimationFrame(() => this.update());\n  }\n}\n\nmodule.exports = Editor;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Editor.js\n **/","export default class Utils {\n  static formatMinutes(d) {\n    // convert milliseconds to seconds\n    let seconds = d / 1000;\n    let hours = Math.floor(seconds / 3600);\n    let minutes = Math.floor((seconds - hours * 3600) / 60);\n    seconds = seconds - minutes * 60;\n    let output = seconds + 's';\n    if (minutes) {\n      output = minutes + 'm ' + output;\n    }\n    if (hours) {\n      output = hours + 'h ' + output;\n    }\n    return output;\n  }\n\n  static getClosestTime(data, time, objectId = false, property_name = false, timer = false, tolerance = 0.1) {\n    if (timer) {\n      var timer_time = timer.getCurrentTime() / 1000;\n      if (Math.abs(timer_time - time) <= tolerance) {\n        return timer_time;\n      }\n    }\n\n    if (objectId || property_name) {\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        // Don't match item with itself, but allow property to match item start/end.\n        if (item.id !== objectId || property_name) {\n          // First check start & end.\n          if (Math.abs(item.start - time) <= tolerance) {\n            return item.start;\n          }\n\n          if (Math.abs(item.end - time) <= tolerance) {\n            return item.end;\n          }\n        }\n\n        // Test properties keys\n        for (var j = 0; j < item.properties.length; j++) {\n          var prop = item.properties[j];\n\n          // Don't match property with itself.\n          if (prop.keys && (item.id !== objectId || prop.name !== property_name)) {\n            for (var k = 0; k < prop.keys.length; k++) {\n              var key = prop.keys[k];\n              if (Math.abs(key.time - time) <= tolerance) {\n                return key.time;\n              }\n            }\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  static getPreviousKey(keys, time) {\n    var prevKey = false;\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (key.time < time) {\n        prevKey = key;\n      }\n      else {\n        return prevKey;\n      }\n    }\n    return prevKey;\n  }\n\n  static sortKeys(keys) {\n    var compare = function(a, b) {\n      if (a.time < b.time) {\n        return -1;\n      }\n      if (a.time > b.time) {\n        return 1;\n      }\n      return 0;\n    };\n    return keys.sort(compare);\n  }\n\n  static guid() {\n    var s4 = function() {\n      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    };\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Utils.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"signals\",\"commonjs\":\"signals\",\"commonjs2\":\"signals\",\"amd\":\"signals\"}\n ** module id = 3\n ** module chunks = 0 1\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}\n ** module id = 6\n ** module chunks = 0 1\n **/","console.log(\"graph/Timeline.js\");\nlet d3 = require('d3');\n\nimport Utils from '../core/Utils';\nimport Header from './Header';\nimport TimeIndicator from './TimeIndicator';\nimport Items from './Items';\nimport KeysPreview from './KeysPreview';\nimport Properties from './Properties';\nimport Keys from './Keys';\nimport Errors from './Errors';\nimport Selection from './Selection';\n\nexport default class Timeline {\n  constructor(editor, options) {\n    this.editor = editor;\n    this.tweenTime = this.editor.tweenTime;\n    this.timer = this.tweenTime.timer;\n    this.selectionManager = this.editor.selectionManager;\n\n    this._isDirty = true;\n    this.timer = this.tweenTime.timer;\n    this.currentTime = this.timer.time; // used in timeindicator.\n\n    this.onUpdate = this.onUpdate.bind(this);\n\n    // Make the domain cover 20% of the totalDuation by default.\n    this.initialDomain = [];\n    this.initialDomain[0] = options.domainStart || 0;\n    this.initialDomain[1] = options.domainEnd || this.timer.totalDuration * 0.2;\n\n    // Adapt time to be greater or equal to domainStart.\n    if (this.initialDomain[0] > this.timer.getCurrentTime()) {\n      this.timer.time[0] = this.initialDomain[0];\n    }\n\n    var margin = {top: 6, right: 20, bottom: 0, left: 265};\n    this.margin = margin;\n\n    var width = window.innerWidth - margin.left - margin.right;\n    var height = 270 - margin.top - margin.bottom - 40;\n    this.lineHeight = 20;\n    this.label_position_x = -margin.left + 20;\n\n    this.x = d3.time.scale()\n      .domain(this.initialDomain)\n      .range([0, width]);\n\n    this.xAxis = d3.svg.axis()\n      .scale(this.x)\n      .orient('top')\n      .tickSize(-height, 0)\n      .tickFormat(Utils.formatMinutes);\n\n    this.svg = d3.select(editor.$timeline.get(0)).select('.timeline__main').append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', 600);\n\n    this.svgContainer = this.svg.append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    this.svgContainerTime = this.svg.append('g')\n      .attr('transform', 'translate(' + margin.left + ',0)');\n\n    this.linesContainer = this.svg.append('g')\n      .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    this.header = new Header(editor, this.timer, this.initialDomain, this.tweenTime, width, margin);\n    this.timeIndicator = new TimeIndicator(this, this.svgContainerTime);\n\n    this.selection = new Selection(this, this.svg, margin);\n\n    this.items = new Items(this, this.linesContainer);\n    this.items.onUpdate.add(this.onUpdate);\n    this.keysPreview = new KeysPreview(this, this.linesContainer);\n\n    //Alice--Original\n      //this.properties = new Properties(this);\n      /*this.properties.onKeyAdded.add((newKey, keyContainer) => {\n        this._isDirty = true;\n        // render the timeline directly so that we can directly select\n        // the new key with it's domElement.\n        this.render(0, false);\n        this.keys.selectNewKey(newKey, keyContainer);\n      });*/\n\n      //Alice--Left Label\n        this.properties = new Properties(this);\n        this.properties.onKeyAdded.add((newKey, keyContainer) => {\n          this._isDirty = true;\n          // render the timeline directly so that we can directly select\n          // the new key with it's domElement.\n          this.render(0, false);\n          this.keys.selectNewGroup(newKey, keyContainer);\n        });\n\n      this.errors = new Errors(this);\n      this.keys = new Keys(this);\n      this.keys.onKeyUpdated.add(() => {\n        this.onUpdate();\n      });\n\n    this.xAxisGrid = d3.svg.axis()\n      .scale(this.x)\n      .ticks(100)\n      .tickSize(-this.items.dy, 0)\n      .tickFormat('')\n      .orient('top');\n\n    this.xGrid = this.svgContainer.append('g')\n      .attr('class', 'x axis grid')\n      .attr('transform', 'translate(0,' + margin.top + ')')\n      .call(this.xAxisGrid);\n\n    this.xAxisElement = this.svgContainer.append('g')\n      .attr('class', 'x axis')\n      .attr('transform', 'translate(0,' + margin.top + ')')\n      .call(this.xAxis);\n\n    this.header.onBrush.add((extent) => {\n      this.x.domain(extent);\n      this.xGrid.call(this.xAxisGrid);\n      this.xAxisElement.call(this.xAxis);\n      this._isDirty = true;\n    });\n\n    // First render\n    window.requestAnimationFrame(() => {this.render();});\n\n    window.onresize = () => {\n      var INNER_WIDTH = window.innerWidth;\n      var width2 = INNER_WIDTH - margin.left - margin.right;\n      this.svg.attr('width', width2 + margin.left + margin.right);\n      this.svg.selectAll('.timeline__right-mask')\n        .attr('width', INNER_WIDTH);\n      this.x.range([0, width2]);\n\n      this._isDirty = true;\n      this.header.resize(INNER_WIDTH);\n      this.render();\n    };\n  }\n\n  onUpdate() {\n    this.editor.render(false, false, true);\n  }\n\n  render(time, time_changed) {\n    if (time_changed) {\n      var domainLength;\n      // Update current domain when playing to keep time indicator in view.\n      var margin_ms = 16;\n      if (this.timer.getCurrentTime() > this.initialDomain[1]) {\n        domainLength = this.initialDomain[1] - this.initialDomain[0];\n        this.initialDomain[0] += domainLength - margin_ms;\n        this.initialDomain[1] += domainLength - margin_ms;\n        this.header.setDomain(this.initialDomain);\n      }\n      if (this.timer.getCurrentTime() < this.initialDomain[0]) {\n        domainLength = this.initialDomain[1] - this.initialDomain[0];\n        this.initialDomain[0] = this.timer.getCurrentTime();\n        this.initialDomain[1] = this.initialDomain[0] + domainLength;\n        this.header.setDomain(this.initialDomain);\n      }\n    }\n\n    if (this._isDirty || time_changed) {\n      // Render header and time indicator everytime the time changed.\n      this.header.render();\n      this.timeIndicator.render();\n    }\n\n    if (this._isDirty) {\n      // No need to call this on each frames, but only on brush, key drag, ...\n      var bar = this.items.render();\n      this.keysPreview.render(bar);\n      var properties = this.properties.render(bar);\n      this.errors.render(properties);\n      this.keys.render(properties);\n      this._isDirty = false;\n\n      // Adapt the timeline height.\n      var height = Math.max(this.items.dy + 30, 230);\n      this.xAxis.tickSize(-height, 0);\n      this.xAxisGrid.tickSize(-height, 0);\n      this.xGrid.call(this.xAxisGrid);\n      this.xAxisElement.call(this.xAxis);\n      this.svg.attr('height', height);\n      this.timeIndicator.updateHeight(height);\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./graph/Timeline.js\n **/","console.log(\"graph/Header.js\");\nlet d3 = require('d3');\n\nlet Signals = require('js-signals');\nimport Utils from '../core/Utils';\n\nexport default class Header {\n  constructor(editor, timer, initialDomain, tweenTime, width, margin) {\n    this.timer = timer;\n    this.initialDomain = initialDomain;\n    this.tweenTime = tweenTime;\n\n    this.onBrush = new Signals.Signal();\n    this.margin = {top: 10, right: 20, bottom: 0, left: margin.left};\n    this.height = 50 - this.margin.top - this.margin.bottom + 20;\n\n    this.currentTime = this.timer.time;\n    this.x = d3.time.scale().range([0, width]);\n    this.x.domain([0, this.timer.totalDuration]);\n\n    // Same as this.x from timeline\n    this.xDisplayed = d3.time.scale().range([0, width]);\n    this.xDisplayed.domain(this.initialDomain);\n\n    this.xAxis = d3.svg.axis()\n      .scale(this.x)\n      .orient('top')\n      .tickSize(-5, 0)\n      .tickFormat(Utils.formatMinutes);\n\n    this.svg = d3.select(editor.$timeline.get(0)).select('.timeline__header').append('svg')\n      .attr('width', width + this.margin.left + this.margin.right)\n      .attr('height', 56);\n\n    this.svgContainer = this.svg.append('g')\n      .attr('transform', 'translate(' + this.margin.left + ',' + this.margin.top + ')');\n\n    this.createBrushHandle();\n    this.createTimeHandle();\n    this.timer.durationChanged.add(this.onDurationChanged);\n  }\n\n  adaptDomainToDuration(domain, seconds) {\n    var ms = seconds * 1000;\n    var new_domain = [domain[0], domain[1]];\n    // Make the domain smaller or equal to ms.\n    new_domain[0] = Math.min(new_domain[0], ms);\n    new_domain[1] = Math.min(new_domain[1], ms);\n    // Should not go below 0.\n    new_domain[0] = Math.max(new_domain[0], 0);\n\n    return new_domain;\n  }\n\n  setDomain() {\n    this.brush.x(this.x).extent(this.initialDomain);\n    this.svgContainer.select('.brush').call(this.brush);\n    // Same as onBrush\n    this.onBrush.dispatch(this.initialDomain);\n    this.render();\n    this.xDisplayed.domain(this.initialDomain);\n  }\n\n  onDurationChanged(seconds) {\n    this.x.domain([0, this.timer.totalDuration]);\n    this.xAxisElement.call(this.xAxis);\n    this.initialDomain = this.adaptDomainToDuration(this.initialDomain, seconds);\n    this.setDomain(this.initialDomain);\n  }\n\n  createBrushHandle() {\n    this.xAxisElement = this.svgContainer.append('g')\n      .attr('class', 'x axis')\n      .attr('transform', 'translate(0,' + (this.margin.top + 7) + ')')\n      .call(this.xAxis);\n\n    var onBrush = () => {\n      var extent0 = this.brush.extent();\n      // Get domain as milliseconds and not date.\n      var start = extent0[0].getTime();\n      var end = extent0[1].getTime();\n      // Set the initial domain.\n      this.initialDomain[0] = start;\n      this.initialDomain[1] = end;\n      this.setDomain(this.initialDomain);\n    };\n\n    this.brush = d3.svg.brush()\n      .x(this.x)\n      .extent(this.initialDomain)\n      .on('brush', onBrush);\n\n    this.gBrush = this.svgContainer.append('g')\n      .attr('class', 'brush')\n      .call(this.brush)\n      .selectAll('rect')\n      .attr('height', 20);\n  }\n\n  render() {\n    var timeSelection = this.svgContainer.selectAll('.time-indicator');\n    timeSelection.attr('transform', 'translate(' + this.xDisplayed(this.currentTime[0]) + ', 25)');\n  }\n\n  createTimeHandle() {\n    var self = this;\n\n    var dragTimeMove = function() {\n      var event = d3.event.sourceEvent;\n      event.stopPropagation();\n      var tweenTime = self.tweenTime;\n      var event_x = event.x !== undefined ? event.x : event.clientX;\n      var dx = self.xDisplayed.invert(event_x - self.margin.left);\n      dx = dx.getTime();\n      dx = Math.max(0, dx);\n\n      var timeMatch = false;\n      if (event.shiftKey) {\n        var time = dx / 1000;\n        timeMatch = Utils.getClosestTime(tweenTime.data, time, '---non-existant', false, false, 0.3);\n        if (timeMatch !== false) {\n          timeMatch = timeMatch * 1000;\n        }\n      }\n      if (timeMatch === false) {\n        timeMatch = dx;\n      }\n      self.timer.seek([timeMatch]);\n    };\n\n    var dragTime = d3.behavior.drag()\n      .origin(function(d) {\n        return d;\n      })\n      .on('drag', dragTimeMove);\n\n    var timeSelection = this.svgContainer.selectAll('.time-indicator').data(this.currentTime);\n\n    timeSelection.enter().append('rect')\n      .attr('x', 0)\n      .attr('y', 20)\n      .attr('width', self.xDisplayed(self.timer.totalDuration))\n      .attr('height', 50)\n      .attr('fill-opacity', 0)\n      .on('click', function() {\n        var mouse = d3.mouse(this);\n        var dx = self.xDisplayed.invert(mouse[0]);\n        dx = dx.getTime();\n        dx = Math.max(0, dx);\n        self.timer.seek([dx]);\n      });\n\n    var timeGrp = timeSelection.enter().append('g')\n      .attr('class', 'time-indicator')\n      .attr('transform', 'translate(-0.5,' + 30 + ')')\n      .call(dragTime);\n\n    timeGrp.append('rect')\n      .attr('class', 'time-indicator__line')\n      .attr('x', -0.5)\n      .attr('y', 0)\n      .attr('width', 1)\n      .attr('height', 1000);\n\n    timeGrp.append('path')\n      .attr('class', 'time-indicator__handle')\n      .attr('d', 'M -5 -3 L -5 5 L 0 10 L 5 5 L 5 -3 L -5 -3');\n\n    // Mask time indicator\n    // todo: remove the mask.\n    this.svgContainer.append('rect')\n      .attr('class', 'graph-mask')\n      .attr('x', -self.margin.left)\n      .attr('y', -self.margin.top)\n      .attr('width', self.margin.left - 5)\n      .attr('height', self.height);\n  }\n\n  resize(width) {\n    let width2 = width - this.margin.left - this.margin.right;\n    this.svg.attr('width', width2 + this.margin.left + this.margin.right);\n\n    this.x.range([0, width2]);\n    this.xDisplayed.range([0, width2]);\n    this.xAxisElement.call(this.xAxis);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./graph/Header.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"d3\"\n ** module id = 9\n ** module chunks = 1\n **/","console.log(\"graph/TimeIndicator.js\");\nexport default class TimeIndicator {\n  constructor(timeline, container) {\n    this.timeline = timeline;\n    this.container = container;\n    this.timeSelection = this.container.selectAll('.time-indicator').data(this.timeline.currentTime);\n    this.timeGrp = this.timeSelection.enter().append('svg')\n      .attr('class', 'time-indicator timeline__right-mask')\n      .attr('width', window.innerWidth - this.timeline.label_position_x)\n      .attr('height', 442);\n\n    this.timeSelection = this.timeGrp.append('rect')\n      .attr('class', 'time-indicator__line')\n      .attr('x', 0)\n      .attr('y', -this.timeline.margin.top - 5)\n      .attr('width', 1)\n      .attr('height', 1000);\n\n    this.timeSelection = this.container.selectAll('.time-indicator rect');\n  }\n\n  updateHeight(height) {\n    this.timeGrp.attr('height', height);\n    this.timeSelection.attr('height', height + this.timeline.margin.top + 5);\n  }\n\n  render() {\n    this.timeSelection.attr('transform', 'translate(' + (this.timeline.x(this.timeline.currentTime[0]) - 0.5) + ',0)');\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./graph/TimeIndicator.js\n **/","console.log(\"graph/Items.js\");\nlet d3 = require('d3');\nlet Signals = require('js-signals');\nlet _ = require('lodash');\nimport Utils from '../core/Utils';\n\nexport default class Items {\n  constructor(timeline, container) {\n    this.timeline = timeline;\n    this.container = container;\n    this.dy = 10 + this.timeline.margin.top;\n    this.onUpdate = new Signals.Signal();\n  }\n\n  render() {\n    var self = this;\n    var tweenTime = self.timeline.tweenTime;\n\n    var selectBar = function() {\n      var data = d3.select(this).datum();\n      self.timeline.selectionManager.select(data);\n    };\n\n    var dragmove = function(d) {\n      var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n      var diff = dx - d.start;\n      d.start += diff;\n      d.end += diff;\n      if (d.properties) {\n        for (var prop_key = 0; prop_key < d.properties.length; prop_key++) {\n          var prop = d.properties[prop_key];\n          for (var i = 0; i < prop.keys.length; i++) {\n            var key = prop.keys[i];\n            key.time += diff;\n          }\n        }\n      }\n      d._isDirty = true;\n      self.onUpdate.dispatch();\n    };\n\n    var dragmoveLeft = function(d) {\n      d3.event.sourceEvent.stopPropagation();\n      var sourceEvent = d3.event.sourceEvent;\n      var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n      var timeMatch = false;\n      if (sourceEvent.shiftKey) {\n        timeMatch = Utils.getClosestTime(tweenTime.data, dx, d.id, false, tweenTime.timer);\n      }\n      if (!timeMatch) {\n        var diff = dx - d.start;\n        timeMatch = d.start + diff;\n      }\n      d.start = timeMatch;\n      d._isDirty = true;\n      self.onUpdate.dispatch();\n    };\n\n    var dragmoveRight = function(d) {\n      d3.event.sourceEvent.stopPropagation();\n      var sourceEvent = d3.event.sourceEvent;\n      var dx = self.timeline.x.invert(d3.event.x).getTime() / 1000;\n      var timeMatch = false;\n      if (sourceEvent.shiftKey) {\n        timeMatch = Utils.getClosestTime(tweenTime.data, dx, false, false, tweenTime.timer);\n      }\n      if (!timeMatch) {\n        var diff = dx - d.end;\n        timeMatch = d.end + diff;\n      }\n      d.end = timeMatch;\n      d._isDirty = true;\n      self.onUpdate.dispatch();\n    };\n\n    var dragLeft = d3.behavior.drag()\n      .origin(function() {\n        var t = d3.select(this);\n        return {x: t.attr('x'), y: t.attr('y')};\n      })\n      .on('drag', dragmoveLeft);\n\n    var dragRight = d3.behavior.drag()\n      .origin(function() {\n        var t = d3.select(this);\n        return {x: t.attr('x'), y: t.attr('y')};\n      })\n      .on('drag', dragmoveRight);\n\n    var drag = d3.behavior.drag()\n      .origin(function() {\n        var t = d3.select(this);\n        return {x: t.attr('x'), y: t.attr('y')};\n      })\n      .on('drag', dragmove);\n\n    var bar_border = 1;\n    var bar = this.container.selectAll('.line-grp')\n      .data(this.timeline.tweenTime.data, (d) => {return d.id;});\n\n    var barEnter = bar.enter()\n      .append('g').attr('class', 'line-grp');\n\n    var barContainerRight = barEnter.append('svg')\n      .attr('class', 'timeline__right-mask')\n      .attr('width', window.innerWidth - self.timeline.label_position_x)\n      .attr('height', self.timeline.lineHeight);\n\n    barContainerRight.append('rect')\n      .attr('class', 'bar')\n      // Add a unique id for SelectionManager.removeDuplicates\n      .attr('id', () => {return Utils.guid();})\n      .attr('y', 3)\n      .attr('height', 14);\n\n    barContainerRight.append('rect')\n      .attr('class', 'bar-anchor bar-anchor--left')\n      .attr('y', 2)\n      .attr('height', 16)\n      .attr('width', 6)\n      .call(dragLeft);\n\n    barContainerRight.append('rect')\n      .attr('class', 'bar-anchor bar-anchor--right')\n      .attr('y', 2)\n      .attr('height', 16)\n      .attr('width', 6)\n      .call(dragRight);\n\n    self.dy = 10 + this.timeline.margin.top;\n    bar.attr('transform', function(d) {\n      var y = self.dy;\n      self.dy += self.timeline.lineHeight;\n      if (!d.collapsed) {\n        var numProperties = 0;\n        if (d.properties) {\n          var visibleProperties = _.filter(d.properties, function(prop) {\n            //Alice---Setting Container hight\n            return prop.keys.length;\n          });\n          numProperties = visibleProperties.length;\n        }\n        self.dy += numProperties * self.timeline.lineHeight;\n      }\n      return 'translate(0,' + y + ')';\n    });\n\n    var barWithStartAndEnd = function(d) {\n      if (d.start !== undefined && d.end !== undefined) {\n        return true;\n      }\n      return false;\n    };\n\n    bar.selectAll('.bar-anchor--left')\n      .filter(barWithStartAndEnd)\n      .attr('x', (d) => {return self.timeline.x(d.start * 1000) - 1;})\n      .on('mousedown', function() {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n    bar.selectAll('.bar-anchor--right')\n      .filter(barWithStartAndEnd)\n      .attr('x', (d) => {return self.timeline.x(d.end * 1000) - 1;})\n      .on('mousedown', function() {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n    bar.selectAll('.bar')\n      .filter(barWithStartAndEnd)\n      .attr('x', (d) => {return self.timeline.x(d.start * 1000) + bar_border;})\n      .attr('width', function(d) {\n        return Math.max(0, (self.timeline.x(d.end) - self.timeline.x(d.start)) * 1000 - bar_border);\n      })\n      .call(drag)\n      .on('click', selectBar)\n      .on('mousedown', function() {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n    barEnter.append('text')\n      .attr('class', 'line-label')\n      .attr('x', self.timeline.label_position_x + 10)\n      .attr('y', 16)\n      .text((d) => {return d.label;})\n      .on('click', selectBar)\n      .on('mousedown', function() {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      });\n\n    barEnter.append('text')\n      .attr('class', 'line__toggle')\n      .attr('x', self.timeline.label_position_x - 10)\n      .attr('y', 16)\n      .on('click', function(d) {\n        d.collapsed = !d.collapsed;\n        self.onUpdate.dispatch();\n      });\n\n    bar.selectAll('.line__toggle').text(function(d) {\n      if (d.collapsed) {\n        return '▸';\n      }\n      return '▾';\n    });\n\n    barEnter.append('line')\n      .attr('class', 'line-separator')\n      .attr('x1', -self.timeline.margin.left)\n      .attr('x2', self.timeline.x(self.timeline.timer.totalDuration + 100))\n      .attr('y1', self.timeline.lineHeight)\n      .attr('y2', self.timeline.lineHeight);\n\n    bar.exit().remove();\n\n    return bar;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./graph/Items.js\n **/","console.log(\"graph/KeyPreview.js\");\nlet d3 = require('d3');\n\nexport default class KeysPreview {\n  constructor(timeline, container) {\n    this.timeline = timeline;\n    this.container = container;\n  }\n\n  render(bar) {\n    var self = this;\n\n    var propVal = function(d) {\n      if (d.properties) {\n        return d.properties;\n      }\n\n      return [];\n    };\n    var propKey = function(d) {\n      return d.name;\n    };\n\n    var properties = bar.selectAll('.keys-preview').data(propVal, propKey);\n\n    properties.enter()\n      .append('svg')\n      .attr('class', 'keys-preview timeline__right-mask')\n      .attr('width', window.innerWidth - self.timeline.label_position_x)\n      .attr('height', self.timeline.lineHeight);\n\n    var setItemStyle = function() {\n      var item = d3.select(this.parentNode.parentNode);\n      var bar_data = item.datum();\n      if (bar_data.collapsed === true) {\n        return '';\n      }\n      // Show only when item is collapsed\n      return 'display: none;';\n    };\n\n    properties.selectAll('.key--preview')\n      .attr('style', setItemStyle);\n\n    var keyValue = function(d) {\n      return d.keys;\n    };\n    var keyKey = function(d) {\n      return d.time;\n    };\n    var keys = properties.selectAll('.key--preview').data(keyValue, keyKey);\n\n    keys.enter()\n      .append('path')\n      .attr('class', 'key--preview')\n      .attr('style', setItemStyle)\n      .attr('d', 'M 0 -4 L 4 0 L 0 4 L -4 0');\n\n    keys.attr('transform', function(d) {\n      let dx = self.timeline.x(d.time * 1000);\n      dx = parseInt(dx, 10);\n      let dy = 11;\n      return 'translate(' + dx + ',' + dy + ')';\n    });\n\n    keys.exit().remove();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./graph/KeysPreview.js\n **/","\nlet d3 = require('d3');\nlet Signals = require('js-signals');\nimport Utils from '../core/Utils';\n\n//Alice--Edit Left_Bottom Setting Parameter\nexport default class Properties {\n    constructor(timeline) {\n        console.log(\"graph/Properties.js\");\n        this.timeline = timeline;\n        this.onKeyAdded = new Signals.Signal();\n        this.subGrp = false;\n\n\n\n    }\n\n    render(bar) {\n        var self = this;\n        var editor = this.timeline.editor;\n        var core = editor.tweenTime;\n\n        var propVal = function (d) {\n            if (d.properties) {\n                return d.properties.filter((prop) => {return prop.keys.length;\n            });\n            }\n            return [];\n        };\n\n        //Alice--render left label number\n        var propKey = function (d) {\n            //return d.name;\n            return d.group;\n        };\n\n        var properties = bar.selectAll('.line-item').data(propVal, propKey);\n        var subGrp = properties.enter()\n            .append('g')\n            .attr('class', 'line-item');\n\n        // Save subGrp in a variable for use in Errors.coffee\n        self.subGrp = subGrp;\n\n        properties.attr('transform', function (d, i) {\n            let sub_height = (i + 1) * self.timeline.lineHeight;\n            return 'translate(0,' + sub_height + ')';\n        });\n\n        subGrp.append('rect')\n            .attr('class', 'click-handler click-handler--property')\n            .attr('x', 0)\n            .attr('y', 0)\n            .attr('width', self.timeline.x(self.timeline.timer.totalDuration + 100))\n            .attr('height', self.timeline.lineHeight)\n            .on('dblclick', function (d) {\n                var lineObject = this.parentNode.parentNode;\n                var lineValue = d3.select(lineObject).datum();\n                var def = d.default ? d.default : 0;\n                var mouse = d3.mouse(this);\n                var dx = self.timeline.x.invert(mouse[0]);\n                dx = dx.getTime() / 1000;\n                var prevKey = Utils.getPreviousKey(d.keys, dx);\n                // set the value to match the previous key if we found one\n                if (prevKey) {\n                    def = prevKey.val;\n                }\n                d._line = lineValue;\n                var newKey = {\n                    time: dx,\n                    val: def,\n\n                    _property: d\n                };\n\n\n                if (core.options.defaultEase) {\n                    newKey.ease = core.options.defaultEase;\n                }\n\n                //Alice_Test\n                d.keys.push(newKey);\n                // Sort the keys for tweens creation\n                d.keys = Utils.sortKeys(d.keys);\n                lineValue._isDirty = true;\n\n                lineValue._isDirty = true;\n                var keyContainer = this.parentNode;\n                self.onKeyAdded.dispatch(newKey, keyContainer);\n            });\n\n        // Mask\n        subGrp.append('svg')\n            .attr('class', 'line-item__keys timeline__right-mask')\n            .attr('width', window.innerWidth - self.timeline.label_position_x)\n            .attr('height', self.timeline.lineHeight)\n            .attr('fill', '#f00');\n\n        //Alice--Original Code\n        /*ubGrp.append('text')\n         .attr('class', 'line-label line-label--small')\n         .attr('x', self.timeline.label_position_x + 10)\n         .attr('y', 15)\n         .text(function(d) {\n         return d.name;\n         })*/\n\n        //Alice--Setting Left Line Label\n        subGrp.append('text')\n            .attr('class', 'line-label line-label--small')\n            .attr('x', self.timeline.label_position_x + 10)\n            .attr('y', 15)\n            .text(function (d) {\n                return d.group;\n            });\n\n\n        subGrp.append('line')\n            .attr('class', 'line-separator--secondary')\n            .attr('x1', -self.timeline.margin.left)\n            .attr('x2', self.timeline.x(self.timeline.timer.totalDuration + 100))\n            .attr('y1', self.timeline.lineHeight)\n            .attr('y2', self.timeline.lineHeight);\n\n        bar.selectAll('.line-item').attr('display', function () {\n            var lineObject = this.parentNode;\n            var lineValue = d3.select(lineObject).datum();\n            if (!lineValue.collapsed) {\n                return 'block';\n            }\n            return 'none';\n        });\n\n        properties.exit().remove();\n\n        return properties;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./graph/Properties.js\n **/","\nlet d3 = require('d3');\nlet Signals = require('js-signals');\nimport Utils from '../core/Utils';\nlet _ = require('lodash');\n\nexport default class Keys {\n  constructor(timeline) {\n    console.log(\"graph/Keys.js\");\n    this.timeline = timeline;\n    this.onKeyUpdated = new Signals.Signal();\n  }\n\n  selectNewKey(data, container) {\n    var self = this;\n    var key = d3.select(container).selectAll('.key').filter(function(item) {\n      return item.time === data.time;\n    });\n    if (key.length) {\n      d3.selectAll('.key--selected').classed('key--selected', false);\n      key.classed('key--selected', true);\n      key = key[0][0];\n      data._dom = key;\n      self.timeline.selectionManager.select(data);\n    }\n  }\n\n  render(properties) {\n    var self = this;\n    var tweenTime = self.timeline.tweenTime;\n\n    var dragmove = function(d) {\n      var sourceEvent = d3.event.sourceEvent;\n      var propertyObject = this.parentNode;\n      var lineObject = propertyObject.parentNode.parentNode;\n      var propertyData = d3.select(propertyObject).datum();\n      var lineData = d3.select(lineObject).datum();\n      var key_data = d;\n\n      var currentDomainStart = self.timeline.x.domain()[0];\n      var mouse = d3.mouse(this);\n      var old_time = d.time;\n      var dx = self.timeline.x.invert(mouse[0]);\n      dx = dx.getTime();\n      dx = dx / 1000 - currentDomainStart / 1000;\n      dx = d.time + dx;\n\n      var selection = self.timeline.selectionManager.getSelection();\n      var selection_first_time = false;\n      var selection_last_time = false;\n      if (selection.length) {\n        selection_first_time = selection[0].time;\n        selection_last_time = selection[selection.length - 1].time;\n      }\n\n      selection = _.filter(selection, (item) => {return _.isEqual(item, key_data) === false;});\n\n      var timeMatch = false;\n      if (sourceEvent.shiftKey) {\n        timeMatch = Utils.getClosestTime(tweenTime.data, dx, lineData.id, propertyData.name, tweenTime.timer);\n      }\n      if (timeMatch === false) {\n        timeMatch = dx;\n      }\n\n      d.time = timeMatch;\n      // Sort the keys of the current selected item.\n      propertyData.keys = Utils.sortKeys(propertyData.keys);\n      var time_offset = d.time - old_time;\n\n      var updateKeyItem = function(item) {\n        var property = item._property;\n        property._line._isDirty = true;\n        property.keys = Utils.sortKeys(property.keys);\n      };\n\n      var key_scale = false;\n      var is_first = false;\n      if (selection.length) {\n        if (sourceEvent.altKey && selection_first_time !== false && selection_last_time !== false) {\n          is_first = selection_first_time === old_time;\n          if (is_first) {\n            key_scale = (selection_last_time - d.time) / (selection_last_time - old_time);\n          }\n          else {\n            key_scale = (d.time - selection_first_time) / (old_time - selection_first_time);\n          }\n        }\n\n        for (var i = 0; i < selection.length; i++) {\n          var data = selection[i];\n          if (key_scale === false) {\n            data.time += time_offset;\n          }\n          else {\n            if (is_first) {\n              data.time = selection_last_time - (selection_last_time - data.time) * key_scale;\n            }\n            else {\n              data.time = selection_first_time + (data.time - selection_first_time) * key_scale;\n            }\n          }\n          updateKeyItem(data);\n        }\n      }\n\n      lineData._isDirty = true;\n      self.onKeyUpdated.dispatch();\n    };\n\n    var propValue = function(d) {\n      return d.keys;\n    };\n    var propKey = function(d) {\n      if (!d._id) {\n        d._id = Utils.guid();\n      }\n      return d._id;\n    };\n    var keys = properties.select('.line-item__keys').selectAll('.key').data(propValue, propKey);\n\n    // selectKey is triggered by dragstart event\n    var selectKey = function() {\n      var event = d3.event;\n      // with dragstart event the mousevent is is inside the event.sourcEvent\n      if (event.sourceEvent) {\n        event = event.sourceEvent;\n      }\n\n      var addToSelection = event.shiftKey;\n      // if element is already selectionned and we are on\n      // the dragstart event, we stop there since it is already selected.\n      if (d3.event.type && d3.event.type === 'dragstart') {\n        if (d3.select(this).classed('key--selected')) {\n          return;\n        }\n      }\n      var key_data = d3.select(this).datum();\n\n      // Also keep a reference to the key dom element.\n      key_data._dom = this;\n\n      self.timeline.selectionManager.select(key_data, addToSelection);\n    };\n\n    var dragend = function() {\n      self.timeline.editor.undoManager.addState();\n    };\n\n    var drag = d3.behavior.drag()\n      .origin((d) => {return d;})\n      .on('drag', dragmove)\n      .on('dragstart', selectKey)\n      .on('dragend', dragend);\n\n    var key_grp = keys.enter()\n      .append('g')\n      .attr('class', 'key')\n      // Use the unique id added in propKey above for the dom element id.\n      .attr('id', (d) => {return d._id;})\n      .on('mousedown', function() {\n        // Don't trigger mousedown on linescontainer else\n        // it create the selection rectangle\n        d3.event.stopPropagation();\n      })\n      .call(drag);\n\n    properties.selectAll('.key')\n      .attr('class', function(d) {\n        var cls = 'key';\n        // keep selected class\n        if (d3.select(this).classed('key--selected')) {\n          cls += ' key--selected';\n        }\n        if (d.ease) {\n          var ease = d.ease.split('.');\n          if (ease.length === 2) {\n            cls += ' ' + ease[1];\n          }\n        }\n        else {\n          // If no easing specified, the it's the default Quad.easeOut\n          cls += ' easeOut';\n        }\n        return cls;\n      });\n\n    var grp_linear = key_grp.append('g')\n      .attr('class', 'ease-linear');\n    grp_linear.append('path')\n      .attr('class', 'key__shape-arrow')\n      .attr('d', 'M 0 -6 L 6 0 L 0 6');\n    grp_linear.append('path')\n      .attr('class', 'key__shape-arrow')\n      .attr('d', 'M 0 -6 L -6 0 L 0 6');\n\n    var grp_in = key_grp.append('g')\n      .attr('class', 'ease-in');\n    grp_in.append('path')\n      .attr('class', 'key__shape-rect')\n      .attr('d', 'M 0 -6 L 0 6 L 4 5 L 1 0 L 4 -5');\n    grp_in.append('path')\n      .attr('class', 'key__shape-arrow')\n      .attr('d', 'M 0 -6 L -6 0 L 0 6');\n\n    var grp_out = key_grp.append('g')\n      .attr('class', 'ease-out');\n    grp_out.append('path')\n      .attr('class', 'key__shape-rect')\n      .attr('d', 'M 0 -6 L 0 6 L -4 5 L -1 0 L -4 -5');\n    grp_out.append('path')\n      .attr('class', 'key__shape-arrow')\n      .attr('d', 'M 0 -6 L 6 0 L 0 6');\n\n    var grp_inout = key_grp.append('g')\n      .attr('class', 'ease-inout');\n    grp_inout.append('circle')\n      .attr('cx', 0)\n      .attr('cy', 0)\n      .attr('r', 5);\n\n    keys.attr('transform', function(d) {\n      var dx = self.timeline.x(d.time * 1000);\n      dx = parseInt(dx, 10);\n      var dy = 10;\n      return 'translate(' + dx + ',' + dy + ')';\n    });\n\n    keys.exit().remove();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./graph/Keys.js\n **/","console.log(\"graph/Errors.js\");\nexport default class Errors {\n  constructor(timeline) {\n    this.timeline = timeline;\n  }\n\n  render(properties) {\n    var self = this;\n    var subGrp = self.timeline.properties.subGrp;\n    var propertiesWithError = function(d) {\n      return d.errors !== undefined;\n    };\n    // use insert with :first-child to prepend.\n    subGrp.insert('svg', ':first-child')\n      .attr('class', 'line-item__errors')\n      .attr('width', window.innerWidth - self.timeline.label_position_x)\n      .attr('height', self.timeline.lineHeight);\n\n    var errorsValue = function(d) {\n      return d.errors;\n    };\n    var errorTime = function(d) {\n      return d.time;\n    };\n\n    var errors = properties.filter(propertiesWithError)\n      .select('.line-item__errors').selectAll('.error')\n      .data(errorsValue, errorTime);\n\n    errors.enter().append('rect')\n      .attr('class', 'error')\n      .attr('width', 4)\n      .attr('height', self.timeline.lineHeight - 1)\n      .attr('y', '1');\n\n    properties.selectAll('.error').attr('x', function(d) {\n      var dx;\n      dx = self.timeline.x(d.time * 1000);\n      return dx;\n    });\n\n    errors.exit().remove();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./graph/Errors.js\n **/","console.log(\"graph/Selections.js\");\nlet d3 = require('d3');\n\nexport default class Selection {\n  constructor(timeline, svg, margin) {\n    this.timeline = timeline;\n    this.svg = svg;\n    this.margin = margin;\n\n    this.onMouseUp = this.onMouseUp.bind(this);\n    this.init();\n  }\n\n  onMouseUp() {\n    this.svg.selectAll('.selection').remove();\n    // Enable again the default browser text selection.\n    $('body').css({\n      'user-select': 'all'\n    });\n  }\n\n  init() {\n    var self = this;\n    this.svg.on('mousedown', function() {\n      var p = d3.mouse(this);\n      // Only init selection if we click on the timeline and not on the labels.\n      if (p[0] < self.timeline.margin.left) {\n        return;\n      }\n      self.svg.append('rect')\n        .attr({\n          class: 'selection',\n          x: p[0],\n          y: p[1],\n          width: 0,\n          height: 0\n        });\n      // Unselect items.\n      self.timeline.selectionManager.reset();\n      // Prevent default browser text selection.\n      $('body').css({\n        'user-select': 'none'\n      });\n    }).on('mousemove', function() {\n      var s = self.svg.select('.selection');\n      if (s.empty()) {\n        return;\n      }\n      var p = d3.mouse(this);\n      var d = {\n        x: parseInt(s.attr('x'), 10),\n        y: parseInt(s.attr('y'), 10),\n        width: parseInt(s.attr('width'), 10),\n        height: parseInt(s.attr('height'), 10)\n      };\n      // Apply margin to mouse selection.\n      p[0] = Math.max(self.margin.left, p[0]);\n\n      var move = {\n        x: p[0] - d.x,\n        y: p[1] - d.y\n      };\n      if (move.x < 1 || move.x * 2 < d.width) {\n        d.x = p[0];\n        d.width -= move.x;\n      }\n      else {\n        d.width = move.x;\n      }\n\n      if (move.y < 1 || move.y * 2 < d.height) {\n        d.y = p[1];\n        d.height -= move.y;\n      }\n      else {\n        d.height = move.y;\n      }\n\n      s.attr(d);\n\n      // remove margins from selection\n      d.x -= self.margin.left;\n      var key_width = 6;\n\n      d.timeStart = self.timeline.x.invert(d.x - key_width).getTime() / 1000;\n      d.timeEnd = self.timeline.x.invert(d.x + d.width + key_width).getTime() / 1000;\n      var containerBounding = self.svg[0][0].getBoundingClientRect();\n\n      // deselect all previously selected items\n      d3.selectAll('.key--selected').classed('key--selected', false);\n      self.timeline.selectionManager.reset();\n      var selection = [];\n      d3.selectAll('.key').each( function(state_data) {\n        var item_data = d3.select(this.parentNode.parentNode.parentNode).datum();\n        var key_data = d3.select(this).datum();\n\n        // Also keep a reference to the key dom element.\n        key_data._dom = this;\n\n        if (item_data.collapsed !== true) {\n          var itemBounding = d3.select(this)[0][0].getBoundingClientRect();\n          var y = itemBounding.top - containerBounding.top;\n          if (state_data.time >= d.timeStart && state_data.time <= d.timeEnd) {\n            // use or condition for top and bottom\n            if (y >= d.y && y <= d.y + d.height || y + 10 >= d.y && y + 10 <= d.y + d.height) {\n              d3.select(this).classed('key--selected', true);\n\n              selection.push(key_data);\n            }\n          }\n        }\n      });\n      self.timeline.selectionManager.select(selection);\n    });\n    // Attach the mouseup event to window so that it catch it event if\n    // mouseup happen outside of the browser window.\n    $(window).on('mouseup', this.onMouseUp);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./graph/Selection.js\n **/","\nimport 'jquery';\nlet Signals = require('js-signals');\nimport Property from '../editor/Property';\n\nlet tpl_propertiesEditor = require('./../templates/propertiesEditor.tpl.html');\n\nexport default class PropertiesEditor {\n  constructor(editor) {\n    console.log(\"editor/PropertiesEditor.js\");\n    this.editor = editor;\n\n    this.render = this.render.bind(this);\n    this.addProperty = this.addProperty.bind(this);\n    this.onSelect = this.onSelect.bind(this);\n    this.onKeyAdded = this.onKeyAdded.bind(this);\n\n    this.timeline = this.editor.timeline;\n    this.timer = this.editor.timer;\n    this.selectionManager = editor.selectionManager;\n\n    this.$el = $(tpl_propertiesEditor());\n    this.$container = this.$el.find('.properties-editor__main');\n    // todo: rename keyAdded to updated\n    this.keyAdded = new Signals.Signal();\n    this.keyRemoved = new Signals.Signal();\n    this.items = [];\n\n    this.parentElement = editor.el;\n    // Close properties by default.\n    this.parentElement.addClass('properties-is-closed');\n    // Add the properties editor to the document.\n    this.parentElement.append(this.$el);\n\n    this.selectionManager.onSelect.add(this.onSelect);\n\n    // Stop event propagation to no play by accident.\n    this.$el.keypress(function(e) {\n      return e.stopPropagation();\n    });\n  }\n\n  onKeyAdded() {\n    this.keyAdded.dispatch();\n  }\n\n  onSelect(data = false) {\n    this.items.forEach((item) => {item.remove();});\n    this.items = [];\n    this.$container.empty();\n    if (data instanceof Array) {\n      for (var i = 0; i < data.length; i++) {\n        this.addProperty(data[i]);\n      }\n    }\n    else {\n      this.addProperty(data);\n    }\n\n    // When selecting anything, automatically display the properties editor.\n    if (this.items.length) {\n      this.parentElement.removeClass('properties-is-closed');\n    }\n  }\n\n  addProperty(data) {\n    var prop = new Property(this.editor, this.$container, data);\n    prop.keyAdded.add(this.onKeyAdded);\n    this.items.push(prop);\n  }\n\n  render(time, time_changed) {\n    if (!time_changed) {\n      return;\n    }\n    this.items.forEach((prop) => {prop.update();});\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/PropertiesEditor.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_18__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"$\",\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\"}\n ** module id = 18\n ** module chunks = 1\n **/","\nlet Signals = require('js-signals');\nimport PropertyNumber from './PropertyNumber';\nimport PropertyColor from './PropertyColor';\nimport PropertyTween from './PropertyTween';\nimport PropertyMotionBody from './PropertyMotionBody';\n\n\n\n//Alice--Edit Right Setting Parameter\nexport default class Property {\n  constructor(editor, $el, data) {\n    console.log(\"editor/property.js\");\n    this.editor = editor;\n    this.$el = $el;\n\n    this.onKeyAdded = this.onKeyAdded.bind(this);\n\n    this.timeline = editor.timeline;\n    this.timer = editor.timer;\n    this.selectionManager = editor.selectionManager;\n    this.keyAdded = new Signals.Signal();\n    this.items = [];\n    this.numberProp = false;\n    this.tweenProp = false;\n\n    var key_val = false;\n    // var propertyObject = false;\n    var propertyData = false;\n    // var lineObject = false;\n    var lineData = false;\n\n    // For keys the _property data should be defined.\n    if (data._property) {\n      propertyData = data._property;\n      lineData = propertyData._line;\n      key_val = data;\n    }\n\n\n    console.log(\"editor/Property.js\");\n\n\n    // Check if we selected a main item.\n    if (data.id) {\n      lineData = data;\n    }\n\n    // data and propertyData are defined on key select.\n    var property_name = false;\n    var property_group = false;\n\n    //Alice---get click key's data\n    if (propertyData) {\n      property_name = propertyData.name;\n      property_group = propertyData.group;\n    }\n    //Get the property container.\n    var $container = this.getContainer(lineData);\n    var $tween_container = $container;\n\n    //Basic data, loop through properties.\n    var numberProp = null;\n    for (var key in lineData.properties) {\n      if (lineData.properties.hasOwnProperty(key)) {\n        var instance_prop = lineData.properties[key];\n        //Alice--click a key and show Right Properties\n        //if (!property_name || instance_prop.name === property_name)\n        if (property_group == instance_prop.group)\n        {\n            var $grp_container = this.getGroupContainer(instance_prop, $container);\n            //var numberProp = this.addNumberProperty(instance_prop, lineData, key_val, $grp_container);\n            if (numberProp == null)\n            {\n              var tweenProp = this.addTweenProperty(instance_prop, lineData, key_val, $grp_container, propertyData);\n              this.items.push(tweenProp);\n            }\n            numberProp = this.addNumberProperty(instance_prop, lineData, key_val, $grp_container);\n            this.items.push(numberProp);\n            if (instance_prop.name === property_name) {\n              $tween_container = $grp_container;\n            }\n                  }\n                }\n              }//for\n            }\n\n            onKeyAdded() {\n              // propagate the event.\n              this.keyAdded.dispatch();\n            }\n\n            getGroupContainer(instance_prop, $container) {\n              var $existing;\n              var $grp;\n              var grp_class;\n              if (!instance_prop.group) {\n                grp_class = 'property-grp--general';\n                $existing = $container.find('.' + grp_class);\n                if ($existing.length) {\n                  return $existing;\n                }\n\n                $grp = this.createGroupContainer(grp_class);\n                $container.append($grp);\n                return $grp;\n              }\n              // Replace all spaces to dash and make class lowercase\n              var group_name = instance_prop.group.replace(/\\s+/g, '-').toLowerCase();\n              grp_class = 'property-grp--' + group_name;\n              $existing = $container.find('.' + grp_class);\n              if ($existing.length) {\n                return $existing;\n              }\n              $grp = this.createGroupContainer(grp_class, instance_prop.group);\n              $container.append($grp);\n              return $grp;\n            }\n\n            //Alice--click a key and render Right container\n            createGroupContainer(grp_class, label = false) {\n              var $grp = $('<div class=\"property-grp ' + grp_class + '\"></div>');\n              if (label) {\n                $grp.append('<h3 class=\"property-grp__title\">' + label + '</h3>');\n              }\n              return $grp;\n            }\n\n            getContainer(lineData) {\n              var $container = false;\n              //Alice---Click a key and render the same name right properties\n              if (lineData.id) {\n                $container = $('#property--' + lineData.id);\n                if (!$container.length) {\n                  $container = $container = $('<div class=\"properties__wrapper\" id=\"property--' + lineData.id + '\"></div>');\n                  this.$el.append($container);\n                  //Alice---Right Title Setting\n                  //if (lineData.name) {\n                    //$container.append('<h2 class=\"properties-editor__title\">' + lineData.label + '</h2>');\n                  //}\n                  if (lineData.title) {\n                    $container.append('<h2 class=\"properties-editor__title\">' + lineData.title + '</h2>');\n                  }\n                }\n              }\n\n              if ($container === false) {\n                $container = $('<div class=\"properties__wrapper\" id=\"no-item\"></div>');\n                this.$el.append($container);\n              }\n              return $container;\n            }\n\n            remove() {\n              this.items.forEach((item) => {item.remove();});\n              if (this.keyAdded) {\n                this.keyAdded.dispose();\n              }\n\n              delete this.editor;\n              delete this.$el;\n\n              delete this.timeline;\n              delete this.timer;\n              delete this.selectionManager;\n              delete this.keyAdded;\n              delete this.items;\n              delete this.numberProp;\n              delete this.tweenProp;\n            }\n\n\n\n            addNumberProperty(instance_prop, lineData, key_val, $container) {\n              var PropClass = PropertyNumber;\n              if (instance_prop.type && instance_prop.type === 'color') {\n                PropClass = PropertyColor;\n              }else if(instance_prop.type && instance_prop.type === 'motion_body'){\n                PropClass = PropertyMotionBody;\n              }\n\n\n              var prop = new PropClass(instance_prop, lineData, this.editor, key_val);\n              prop.keyAdded.add(this.onKeyAdded);\n              $container.append(prop.$el);\n              return prop;\n            }\n\n            /*addTweenProperty(instance_prop, lineData, key_val, $container, propertyData) {\n              var tween = new PropertyTween(instance_prop, lineData, this.editor, key_val, this.timeline);\n              $container.append(tween.$el);\n\n              // Add a remove key button\n              tween.$el.find('[data-action-remove]').click((e) => {\n                e.preventDefault();\n                var index = propertyData.keys.indexOf(key_val);\n                if (index > -1) {\n                  propertyData.keys.splice(index, 1);\n                  if (key_val._dom) {\n                    this.editor.propertiesEditor.keyRemoved.dispatch(key_val);\n                  }\n                  lineData._isDirty = true;\n                }\n              });\n              return tween;\n            }*/\n\n            //Alice---Setting right Parameters Key at time\n            addTweenProperty(instance_prop, lineData, key_val, $container, propertyData) {\n              var tween = new PropertyTween(instance_prop, lineData, this.editor, key_val, this.timeline);\n              $container.append(tween.$el);\n              // Add a remove key button\n              tween.$el.find('[data-action-remove]').click((e) => {\n                e.preventDefault();\n                var index = propertyData.keys.indexOf(key_val);\n                if (index > -1) {\n                  propertyData.keys.splice(index, 1);\n                  if (key_val._dom) {\n                    this.editor.propertiesEditor.keyRemoved.dispatch(key_val);\n                  }\n                  lineData._isDirty = true;\n                }\n              });\n              return tween;\n            }\n\n            update() {\n              for (var i = 0; i < this.items.length; i++) {\n                var item = this.items[i];\n                item.update();\n              }\n            }\n          }\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/Property.js\n **/","console.log(\"editor/PropertyNumber.js\");\nimport 'jquery';\nimport PropertyBase from './PropertyBase';\nlet DraggableNumber = require('draggable-number.js');\n\nlet tpl_property = require('../templates/propertyNumber.tpl.html');\n\nexport default class PropertyNumber extends PropertyBase {\n  // instance_property: The current property on the data object.\n  // lineData: The line data object.\n  constructor(instance_property, lineData, editor, key_val = false) {\n    super(instance_property, lineData, editor, key_val);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.$input = this.$el.find('input');\n  }\n\n  getInputVal() {\n    return parseFloat(this.$el.find('input').val());\n  }\n\n  render() {\n    super.render();\n    // By default assign the property default value\n    var val = this.getCurrentVal();\n    var dx = this.getCurrentX();\n    var dy = this.getCurrentY();\n    var video = this.getCurrentVideo();\n    var audio = this.getCurrentAudio();\n    var led = this.getCurrentLed();\n\n    var data = {\n      id: this.instance_property.name, // \"circleRadius\" instead of \"circle radius\"\n      label: this.instance_property.label || this.instance_property.name,\n      val: val,\n      x: dx,\n      y: dy,\n      video : video,\n      audio : audio,\n      led :led\n    };\n\n    var view = tpl_property(data);\n    this.$el = $(view);\n    this.$el.find('.property__key').click(this.onKeyClick);\n\n    var $input = this.$el.find('input');\n\n    var onChangeEnd = () => {\n      this.editor.undoManager.addState();\n    };\n\n    var draggableOptions = {\n      changeCallback: () => this.onInputChange(),\n      endCallback: () => onChangeEnd()\n    };\n    // Set min & max if they are defined.\n    if ('min' in this.instance_property) {\n      draggableOptions.min = this.instance_property.min;\n    }\n    if ('max' in this.instance_property) {\n      draggableOptions.max = this.instance_property.max;\n    }\n\n    var draggable = new DraggableNumber($input.get(0), draggableOptions);\n    $input.data('draggable', draggable);\n    $input.change(this.onInputChange);\n  }\n\n  remove() {\n    super.render();\n    if (this.$input.data('draggable')) {\n      this.$input.data('draggable').destroy();\n    }\n\n    delete this.$input;\n    delete this.$el;\n  }\n\n  update() {\n    super.render();\n    var val = this.getCurrentVal();\n    var draggable = this.$input.data('draggable');\n\n    if (draggable) {\n      draggable.set(val.toFixed(3));\n    }\n    else {\n      this.$input.val(val.toFixed(3));\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/PropertyNumber.js\n **/","console.log(\"editor/PropertyBase.js\");\nlet Signals = require('js-signals');\nlet _ = require('lodash');\nimport Utils from '../core/Utils';\n\nexport default class PropertyBase {\n  // @instance_property: The current property on the data object.\n  // @lineData: The line data object.\n  constructor(instance_property, lineData, editor, key_val = false) {\n    this.instance_property = instance_property;\n    this.lineData = lineData;\n    this.editor = editor;\n    this.key_val = key_val;\n\n    // this.update = this.update.bind(this);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.onKeyClick = this.onKeyClick.bind(this);\n\n    this.timer = editor.timer;\n    this.keyAdded = new Signals.Signal();\n    this.render();\n\n    this.$key = this.$el.find('.property__key');\n  }\n\n  onKeyClick(e) {\n    e.preventDefault();\n    var currentValue = this.getCurrentVal();\n    this.addKey(currentValue);\n  }\n\n  getInputVal() {\n    return this.$el.find('input').val();\n  }\n\n//Alice--get click key's value\n  getCurrentVal() {\n    var val = this.instance_property.val;\n    var prop_name = this.instance_property.name;\n\n    // if we selected a key simply return it's value\n    if (this.key_val) {\n      return this.key_val.val;\n    }\n    if (this.lineData.values !== undefined && this.lineData.values[prop_name]) {\n      return this.lineData.values[prop_name];\n    }\n    return val;\n  }\n\n  getCurrentX() {\n    var x = this.instance_property.x;\n    if (this.key_val) {\n      return this.key_val.x;\n    }\n    return x;\n  }\n\n  getCurrentXTime() {\n    var x_time = this.instance_property.x_time;\n    if (this.key_val) {\n      return this.key_val.x_time;\n    }\n    return x_time;\n  }\n\n  getCurrentY() {\n    var y = this.instance_property.y;\n    if (this.key_val) {\n      return this.key_val.y;\n    }\n    return y;\n  }\n\n  getCurrentYTime() {\n    var y_time = this.instance_property.y_time;\n    if (this.key_val) {\n      return this.key_val.y_time;\n    }\n    return y_time;\n  }\n\n\n  getCurrentVideo() {\n    var video = this.instance_property.video;\n    if (this.key_val) {\n      return this.key_val.video;\n    }\n    return video;\n  }\n  getCurrentAudio() {\n    var audio = this.instance_property.audio;\n    if (this.key_val) {\n      return this.key_val.audio;\n    }\n\n    return audio;\n  }\n\n  getCurrentLed() {\n    var led = this.instance_property.led;\n    if (this.key_val) {\n      return this.key_val.led;\n    }\n\n    return led;\n  }\n\n\n\n  onInputChange() {\n    var current_value = this.getInputVal();\n    var currentTime = this.timer.getCurrentTime() / 1000;\n\n    // if we selected a key simply get the time from it.\n    if (this.key_val) {\n      currentTime = this.key_val.time;\n    }\n\n    if (this.instance_property.keys && this.instance_property.keys.length) {\n      // Add a new key if there is no other key at same time\n      var current_key = _.find(this.instance_property.keys, (key) => key.time === currentTime);\n\n      if (current_key) {\n        // if there is a key update it\n        current_key.val = current_value;\n      }\n      else {\n        // add a new key\n        this.addKey(current_value);\n      }\n    }\n    else {\n      // There is no keys, simply update the property value (for data saving)\n      this.instance_property.val = current_value;\n      // Also directly set the lineData value.\n      this.lineData.values[this.instance_property.name] = current_value;\n      // Simply update the custom object with new values.\n      if (this.lineData.object) {\n        currentTime = this.timer.getCurrentTime() / 1000;\n        // Set the property on the instance object.\n        this.lineData.object.update(currentTime - this.lineData.start);\n      }\n    }\n\n    // Something changed, make the lineData dirty to rebuild things. d\n    this.lineData._isDirty = true;\n  }\n\n  getCurrentKey() {\n    var time = this.timer.getCurrentTime() / 1000;\n    if (!this.instance_property || !this.instance_property.keys) {\n      return false;\n    }\n    if (this.instance_property.keys.length === 0) {\n      return false;\n    }\n    for (var i = 0; i < this.instance_property.keys.length; i++) {\n      var key = this.instance_property.keys[i];\n      if (key.time === time) {\n        return key;\n      }\n    }\n    return false;\n  }\n\n  addKey(val) {\n    var core = this.editor.tweenTime;\n    var currentTime = this.timer.getCurrentTime() / 1000;\n    var key = {\n      time: currentTime,\n      val: val\n    };\n    if (core.options.defaultEase) {\n      key.ease = core.options.defaultEase;\n    }\n    this.instance_property.keys.push(key);\n    this.instance_property.keys = Utils.sortKeys(this.instance_property.keys);\n    this.lineData._isDirty = true;\n    this.keyAdded.dispatch();\n  }\n\n  render() {\n    // current values are defined in @lineData.values\n    this.values = this.lineData.values !== undefined ? this.lineData.values : {};\n  }\n\n  update() {\n    var key = this.getCurrentKey();\n    this.$key.toggleClass('property__key--active', key);\n  }\n\n  remove() {\n    if (this.keyAdded) {\n      this.keyAdded.dispose();\n    }\n    delete this.instance_property;\n    delete this.lineData;\n    delete this.editor;\n    delete this.key_val;\n\n    delete this.timer;\n    delete this.keyAdded;\n    delete this.$key;\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/PropertyBase.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_22__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"DraggableNumber\",\"commonjs\":\"draggable-number.js\",\"commonjs2\":\"draggable-number.js\",\"amd\":\"DraggableNumber\"}\n ** module id = 22\n ** module chunks = 1\n **/","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">\");t.b(t.v(t.f(\"label\",c,p,0)));t.b(\"</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"val\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">{{label}}</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{val}}\\\" />\\n</div>\\n\", H); return T.render.apply(T, arguments); };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/propertyNumber.tpl.html\n ** module id = 23\n ** module chunks = 1\n **/","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n// This file is for use with Node.js. See dist/ for browser files.\n\nvar Hogan = require('./compiler');\nHogan.Template = require('./template').Template;\nHogan.template = Hogan.Template;\nmodule.exports = Hogan;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/jackalkao/Bear080808/~/hogan.js/lib/hogan.js\n ** module id = 24\n ** module chunks = 1\n **/","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n(function (Hogan) {\n  // Setup regex  assignments\n  // remove whitespace according to Mustache spec\n  var rIsWhitespace = /\\S/,\n      rQuot = /\\\"/g,\n      rNewline =  /\\n/g,\n      rCr = /\\r/g,\n      rSlash = /\\\\/g,\n      rLineSep = /\\u2028/,\n      rParagraphSep = /\\u2029/;\n\n  Hogan.tags = {\n    '#': 1, '^': 2, '<': 3, '$': 4,\n    '/': 5, '!': 6, '>': 7, '=': 8, '_v': 9,\n    '{': 10, '&': 11, '_t': 12\n  };\n\n  Hogan.scan = function scan(text, delimiters) {\n    var len = text.length,\n        IN_TEXT = 0,\n        IN_TAG_TYPE = 1,\n        IN_TAG = 2,\n        state = IN_TEXT,\n        tagType = null,\n        tag = null,\n        buf = '',\n        tokens = [],\n        seenTag = false,\n        i = 0,\n        lineStart = 0,\n        otag = '{{',\n        ctag = '}}';\n\n    function addBuf() {\n      if (buf.length > 0) {\n        tokens.push({tag: '_t', text: new String(buf)});\n        buf = '';\n      }\n    }\n\n    function lineIsWhitespace() {\n      var isAllWhitespace = true;\n      for (var j = lineStart; j < tokens.length; j++) {\n        isAllWhitespace =\n          (Hogan.tags[tokens[j].tag] < Hogan.tags['_v']) ||\n          (tokens[j].tag == '_t' && tokens[j].text.match(rIsWhitespace) === null);\n        if (!isAllWhitespace) {\n          return false;\n        }\n      }\n\n      return isAllWhitespace;\n    }\n\n    function filterLine(haveSeenTag, noNewLine) {\n      addBuf();\n\n      if (haveSeenTag && lineIsWhitespace()) {\n        for (var j = lineStart, next; j < tokens.length; j++) {\n          if (tokens[j].text) {\n            if ((next = tokens[j+1]) && next.tag == '>') {\n              // set indent to token value\n              next.indent = tokens[j].text.toString()\n            }\n            tokens.splice(j, 1);\n          }\n        }\n      } else if (!noNewLine) {\n        tokens.push({tag:'\\n'});\n      }\n\n      seenTag = false;\n      lineStart = tokens.length;\n    }\n\n    function changeDelimiters(text, index) {\n      var close = '=' + ctag,\n          closeIndex = text.indexOf(close, index),\n          delimiters = trim(\n            text.substring(text.indexOf('=', index) + 1, closeIndex)\n          ).split(' ');\n\n      otag = delimiters[0];\n      ctag = delimiters[delimiters.length - 1];\n\n      return closeIndex + close.length - 1;\n    }\n\n    if (delimiters) {\n      delimiters = delimiters.split(' ');\n      otag = delimiters[0];\n      ctag = delimiters[1];\n    }\n\n    for (i = 0; i < len; i++) {\n      if (state == IN_TEXT) {\n        if (tagChange(otag, text, i)) {\n          --i;\n          addBuf();\n          state = IN_TAG_TYPE;\n        } else {\n          if (text.charAt(i) == '\\n') {\n            filterLine(seenTag);\n          } else {\n            buf += text.charAt(i);\n          }\n        }\n      } else if (state == IN_TAG_TYPE) {\n        i += otag.length - 1;\n        tag = Hogan.tags[text.charAt(i + 1)];\n        tagType = tag ? text.charAt(i + 1) : '_v';\n        if (tagType == '=') {\n          i = changeDelimiters(text, i);\n          state = IN_TEXT;\n        } else {\n          if (tag) {\n            i++;\n          }\n          state = IN_TAG;\n        }\n        seenTag = i;\n      } else {\n        if (tagChange(ctag, text, i)) {\n          tokens.push({tag: tagType, n: trim(buf), otag: otag, ctag: ctag,\n                       i: (tagType == '/') ? seenTag - otag.length : i + ctag.length});\n          buf = '';\n          i += ctag.length - 1;\n          state = IN_TEXT;\n          if (tagType == '{') {\n            if (ctag == '}}') {\n              i++;\n            } else {\n              cleanTripleStache(tokens[tokens.length - 1]);\n            }\n          }\n        } else {\n          buf += text.charAt(i);\n        }\n      }\n    }\n\n    filterLine(seenTag, true);\n\n    return tokens;\n  }\n\n  function cleanTripleStache(token) {\n    if (token.n.substr(token.n.length - 1) === '}') {\n      token.n = token.n.substring(0, token.n.length - 1);\n    }\n  }\n\n  function trim(s) {\n    if (s.trim) {\n      return s.trim();\n    }\n\n    return s.replace(/^\\s*|\\s*$/g, '');\n  }\n\n  function tagChange(tag, text, index) {\n    if (text.charAt(index) != tag.charAt(0)) {\n      return false;\n    }\n\n    for (var i = 1, l = tag.length; i < l; i++) {\n      if (text.charAt(index + i) != tag.charAt(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // the tags allowed inside super templates\n  var allowedInSuper = {'_t': true, '\\n': true, '$': true, '/': true};\n\n  function buildTree(tokens, kind, stack, customTags) {\n    var instructions = [],\n        opener = null,\n        tail = null,\n        token = null;\n\n    tail = stack[stack.length - 1];\n\n    while (tokens.length > 0) {\n      token = tokens.shift();\n\n      if (tail && tail.tag == '<' && !(token.tag in allowedInSuper)) {\n        throw new Error('Illegal content in < super tag.');\n      }\n\n      if (Hogan.tags[token.tag] <= Hogan.tags['$'] || isOpener(token, customTags)) {\n        stack.push(token);\n        token.nodes = buildTree(tokens, token.tag, stack, customTags);\n      } else if (token.tag == '/') {\n        if (stack.length === 0) {\n          throw new Error('Closing tag without opener: /' + token.n);\n        }\n        opener = stack.pop();\n        if (token.n != opener.n && !isCloser(token.n, opener.n, customTags)) {\n          throw new Error('Nesting error: ' + opener.n + ' vs. ' + token.n);\n        }\n        opener.end = token.i;\n        return instructions;\n      } else if (token.tag == '\\n') {\n        token.last = (tokens.length == 0) || (tokens[0].tag == '\\n');\n      }\n\n      instructions.push(token);\n    }\n\n    if (stack.length > 0) {\n      throw new Error('missing closing tag: ' + stack.pop().n);\n    }\n\n    return instructions;\n  }\n\n  function isOpener(token, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].o == token.n) {\n        token.tag = '#';\n        return true;\n      }\n    }\n  }\n\n  function isCloser(close, open, tags) {\n    for (var i = 0, l = tags.length; i < l; i++) {\n      if (tags[i].c == close && tags[i].o == open) {\n        return true;\n      }\n    }\n  }\n\n  function stringifySubstitutions(obj) {\n    var items = [];\n    for (var key in obj) {\n      items.push('\"' + esc(key) + '\": function(c,p,t,i) {' + obj[key] + '}');\n    }\n    return \"{ \" + items.join(\",\") + \" }\";\n  }\n\n  function stringifyPartials(codeObj) {\n    var partials = [];\n    for (var key in codeObj.partials) {\n      partials.push('\"' + esc(key) + '\":{name:\"' + esc(codeObj.partials[key].name) + '\", ' + stringifyPartials(codeObj.partials[key]) + \"}\");\n    }\n    return \"partials: {\" + partials.join(\",\") + \"}, subs: \" + stringifySubstitutions(codeObj.subs);\n  }\n\n  Hogan.stringify = function(codeObj, text, options) {\n    return \"{code: function (c,p,i) { \" + Hogan.wrapMain(codeObj.code) + \" },\" + stringifyPartials(codeObj) +  \"}\";\n  }\n\n  var serialNo = 0;\n  Hogan.generate = function(tree, text, options) {\n    serialNo = 0;\n    var context = { code: '', subs: {}, partials: {} };\n    Hogan.walk(tree, context);\n\n    if (options.asString) {\n      return this.stringify(context, text, options);\n    }\n\n    return this.makeTemplate(context, text, options);\n  }\n\n  Hogan.wrapMain = function(code) {\n    return 'var t=this;t.b(i=i||\"\");' + code + 'return t.fl();';\n  }\n\n  Hogan.template = Hogan.Template;\n\n  Hogan.makeTemplate = function(codeObj, text, options) {\n    var template = this.makePartials(codeObj);\n    template.code = new Function('c', 'p', 'i', this.wrapMain(codeObj.code));\n    return new this.template(template, text, this, options);\n  }\n\n  Hogan.makePartials = function(codeObj) {\n    var key, template = {subs: {}, partials: codeObj.partials, name: codeObj.name};\n    for (key in template.partials) {\n      template.partials[key] = this.makePartials(template.partials[key]);\n    }\n    for (key in codeObj.subs) {\n      template.subs[key] = new Function('c', 'p', 't', 'i', codeObj.subs[key]);\n    }\n    return template;\n  }\n\n  function esc(s) {\n    return s.replace(rSlash, '\\\\\\\\')\n            .replace(rQuot, '\\\\\\\"')\n            .replace(rNewline, '\\\\n')\n            .replace(rCr, '\\\\r')\n            .replace(rLineSep, '\\\\u2028')\n            .replace(rParagraphSep, '\\\\u2029');\n  }\n\n  function chooseMethod(s) {\n    return (~s.indexOf('.')) ? 'd' : 'f';\n  }\n\n  function createPartial(node, context) {\n    var prefix = \"<\" + (context.prefix || \"\");\n    var sym = prefix + node.n + serialNo++;\n    context.partials[sym] = {name: node.n, partials: {}};\n    context.code += 't.b(t.rp(\"' +  esc(sym) + '\",c,p,\"' + (node.indent || '') + '\"));';\n    return sym;\n  }\n\n  Hogan.codegen = {\n    '#': function(node, context) {\n      context.code += 'if(t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),' +\n                      'c,p,0,' + node.i + ',' + node.end + ',\"' + node.otag + \" \" + node.ctag + '\")){' +\n                      't.rs(c,p,' + 'function(c,p,t){';\n      Hogan.walk(node.nodes, context);\n      context.code += '});c.pop();}';\n    },\n\n    '^': function(node, context) {\n      context.code += 'if(!t.s(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,1),c,p,1,0,0,\"\")){';\n      Hogan.walk(node.nodes, context);\n      context.code += '};';\n    },\n\n    '>': createPartial,\n    '<': function(node, context) {\n      var ctx = {partials: {}, code: '', subs: {}, inPartial: true};\n      Hogan.walk(node.nodes, ctx);\n      var template = context.partials[createPartial(node, context)];\n      template.subs = ctx.subs;\n      template.partials = ctx.partials;\n    },\n\n    '$': function(node, context) {\n      var ctx = {subs: {}, code: '', partials: context.partials, prefix: node.n};\n      Hogan.walk(node.nodes, ctx);\n      context.subs[node.n] = ctx.code;\n      if (!context.inPartial) {\n        context.code += 't.sub(\"' + esc(node.n) + '\",c,p,i);';\n      }\n    },\n\n    '\\n': function(node, context) {\n      context.code += write('\"\\\\n\"' + (node.last ? '' : ' + i'));\n    },\n\n    '_v': function(node, context) {\n      context.code += 't.b(t.v(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n    },\n\n    '_t': function(node, context) {\n      context.code += write('\"' + esc(node.text) + '\"');\n    },\n\n    '{': tripleStache,\n\n    '&': tripleStache\n  }\n\n  function tripleStache(node, context) {\n    context.code += 't.b(t.t(t.' + chooseMethod(node.n) + '(\"' + esc(node.n) + '\",c,p,0)));';\n  }\n\n  function write(s) {\n    return 't.b(' + s + ');';\n  }\n\n  Hogan.walk = function(nodelist, context) {\n    var func;\n    for (var i = 0, l = nodelist.length; i < l; i++) {\n      func = Hogan.codegen[nodelist[i].tag];\n      func && func(nodelist[i], context);\n    }\n    return context;\n  }\n\n  Hogan.parse = function(tokens, text, options) {\n    options = options || {};\n    return buildTree(tokens, '', [], options.sectionTags || []);\n  }\n\n  Hogan.cache = {};\n\n  Hogan.cacheKey = function(text, options) {\n    return [text, !!options.asString, !!options.disableLambda, options.delimiters, !!options.modelGet].join('||');\n  }\n\n  Hogan.compile = function(text, options) {\n    options = options || {};\n    var key = Hogan.cacheKey(text, options);\n    var template = this.cache[key];\n\n    if (template) {\n      var partials = template.partials;\n      for (var name in partials) {\n        delete partials[name].instance;\n      }\n      return template;\n    }\n\n    template = this.generate(this.parse(this.scan(text, options.delimiters), text, options), text, options);\n    return this.cache[key] = template;\n  }\n})(typeof exports !== 'undefined' ? exports : Hogan);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/jackalkao/Bear080808/~/hogan.js/lib/compiler.js\n ** module id = 25\n ** module chunks = 1\n **/","/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/jackalkao/Bear080808/~/hogan.js/lib/template.js\n ** module id = 26\n ** module chunks = 1\n **/","console.log(\"editor/PropertyColor.js\");\nimport 'jquery';\nrequire('spectrum');\nimport PropertyBase from './PropertyBase';\n\nlet tpl_property = require('../templates/propertyColor.tpl.html');\n\nexport default class PropertyColor extends PropertyBase {\n  constructor(instance_property, lineData, editor, key_val = false) {\n    super(instance_property, lineData, editor, key_val);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.$input = this.$el.find('input');\n  }\n\n  render() {\n    super.render();\n    // By default assign the property default value\n    var val = this.getCurrentVal();\n\n    var data = {\n      id: this.instance_property.name, // \"circleRadius\" instead of \"circle radius\"\n      label: this.instance_property.label || this.instance_property.name,\n      val: val\n    };\n\n    var view = tpl_property(data);\n    this.$el = $(view);\n    this.$el.find('.property__key').click(this.onKeyClick);\n\n    var $input = this.$el.find('input');\n\n    $input.spectrum({\n      allowEmpty: false,\n      showAlpha: true,\n      clickoutFiresChange: false,\n      preferredFormat: 'rgb',\n      change: () => {\n        this.editor.undoManager.addState();\n      },\n      move: (color) => {\n        if (color._a === 1) {\n          $input.val(color.toHexString());\n        }\n        else {\n          $input.val(color.toRgbString());\n        }\n\n        this.onInputChange();\n      }\n    });\n\n    $input.change(this.onInputChange);\n  }\n\n  remove() {\n    super.remove();\n    this.$el.find('input').spectrum('destroy');\n    delete this.$el;\n    delete this.$input;\n  }\n\n  update() {\n    super.update();\n    var val = this.getCurrentVal();\n    this.$input.val(val);\n    this.$input.spectrum('set', val);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/PropertyColor.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_28__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"spectrum\",\"commonjs\":\"spectrum-colorpicker\",\"commonjs2\":\"spectrum-colorpicker\",\"amd\":\"spectrum\"}\n ** module id = 28\n ** module chunks = 1\n **/","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">\");t.b(t.v(t.f(\"label\",c,p,0)));t.b(\"</label>\");t.b(\"\\n\" + i);t.b(\"  <input id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"val\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">{{label}}</label>\\n  <input id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{val}}\\\" />\\n</div>\\n\", H); return T.render.apply(T, arguments); };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/propertyColor.tpl.html\n ** module id = 29\n ** module chunks = 1\n **/","console.log(\"editor/PropertyTween.js\");\nimport 'jquery';\n\nlet tpl_property = require('../templates/propertyTween.tpl.html');\n\nexport default class PropertyTween {\n  // instance_property: The current property on the data object.\n  // lineData: The line data object.\n  constructor(instance_property, lineData, editor, key_val = false, timeline = false) {\n    this.instance_property = instance_property;\n    this.lineData = lineData;\n    this.editor = editor;\n    this.key_val = key_val;\n    this.timeline = timeline;\n\n    this.onChange = this.onChange.bind(this);\n\n    this.timer = this.editor.timer;\n    this.$time = false;\n    this.$el = false;\n    this.render();\n  }\n\n  remove() {\n    delete this.$el;\n    delete this.instance_property;\n    delete this.lineData;\n    delete this.editor;\n    delete this.key_val;\n    delete this.timeline;\n\n    delete this.timer;\n    delete this.$time;\n  }\n\n  render() {\n    var self = this;\n    if (!this.key_val.ease) {\n      this.key_val.ease = 'Quad.easeOut';\n    }\n    var data = {\n      id: this.instance_property.name + '_tween',\n      val: this.key_val.ease,\n      time: this.key_val.time.toFixed(3),\n      options: ['Linear.easeNone'],\n      selected: function() {\n        if (this.toString() === self.key_val.ease) {\n          return 'selected';\n        }\n        return '';\n      }\n    };\n\n    var tweens = ['Quad', 'Cubic', 'Quart', 'Quint'];\n    for (var i = 0; i < tweens.length; i++) {\n      var tween = tweens[i];\n      data.options.push(tween + '.easeOut');\n      data.options.push(tween + '.easeIn');\n      data.options.push(tween + '.easeInOut');\n    }\n\n    this.$el = $(tpl_property(data));\n    this.$time = this.$el.find('.property__key-time strong');\n    this.$time.keypress((e) => {\n      if (e.charCode === 13) {\n        // Enter\n        e.preventDefault();\n        this.$time.blur();\n        this.updateKeyTime(this.$time.text());\n      }\n    });\n\n    this.$time.on('click', () => document.execCommand('selectAll', false, null));\n    this.$el.find('select').change(this.onChange);\n  }\n\n  updateKeyTime(time) {\n    let time2 = parseFloat(time);\n    if (isNaN(time2)) {\n      time2 = this.key_val.time;\n    }\n    this.$time.text(time2);\n    this.key_val.time = time2;\n    this.onChange();\n  }\n\n  onChange() {\n    var ease = this.$el.find('select').val();\n    this.key_val.ease = ease;\n    this.editor.undoManager.addState();\n    this.lineData._isDirty = true;\n    this.timeline._isDirty = true;\n  }\n\n  update() {\n    // todo: use mustache instead...\n    this.$time.html(this.key_val.time.toFixed(3));\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/PropertyTween.js\n **/","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--tween\\\">\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">easing</label>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"property__select\\\">\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"custom-select\\\">\");t.b(\"\\n\" + i);t.b(\"      <select id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\">\");t.b(\"\\n\" + i);if(t.s(t.f(\"options\",c,p,1),c,p,0,212,279,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"        <option value=\\\"\");t.b(t.v(t.d(\".\",c,p,0)));t.b(\"\\\" \");t.b(t.v(t.f(\"selected\",c,p,0)));t.b(\">\");t.b(t.v(t.d(\".\",c,p,0)));t.b(\"</option>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"      </select>\");t.b(\"\\n\" + i);t.b(\"    </div>\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"properties-editor__actions actions\\\">\");t.b(\"\\n\" + i);t.b(\"  <span class=\\\"property__key-time\\\">key at <strong class=\\\"property__key-input\\\" contenteditable=\\\"true\\\">\");t.b(t.v(t.f(\"time\",c,p,0)));t.b(\"</strong> seconds</span>\");t.b(\"\\n\" + i);t.b(\"  <a href=\\\"#\\\" class=\\\"actions__item\\\" data-action-remove>Remove key</a>\");t.b(\"\\n\" + i);t.b(\"</div>\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--tween\\\">\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">easing</label>\\n  <div class=\\\"property__select\\\">\\n    <div class=\\\"custom-select\\\">\\n      <select id=\\\"{{id}}\\\">\\n        {{#options}}\\n        <option value=\\\"{{.}}\\\" {{selected}}>{{.}}</option>\\n        {{/options}}\\n      </select>\\n    </div>\\n  </div>\\n</div>\\n<div class=\\\"properties-editor__actions actions\\\">\\n  <span class=\\\"property__key-time\\\">key at <strong class=\\\"property__key-input\\\" contenteditable=\\\"true\\\">{{time}}</strong> seconds</span>\\n  <a href=\\\"#\\\" class=\\\"actions__item\\\" data-action-remove>Remove key</a>\\n</div>\", H); return T.render.apply(T, arguments); };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/propertyTween.tpl.html\n ** module id = 31\n ** module chunks = 1\n **/","console.log(\"editor/PropertyMotionBody.js\");\nimport 'jquery';\nimport PropertyBase from './PropertyBase';\nlet DraggableNumber = require('draggable-number.js');\n\nlet tpl_property = require('../templates/propertyMotionBody.tpl.html');\n\nexport default class PropertyMotionBody extends PropertyBase {\n  // instance_property: The current property on the data object.\n  // lineData: The line data object.\n  constructor(instance_property, lineData, editor, key_val = false) {\n    super(instance_property, lineData, editor, key_val);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.$input = this.$el.find('input');\n  }\n\n  getInputVal() {\n    return parseFloat(this.$el.find('input').val());\n  }\n\n  render() {\n    super.render();\n    // By default assign the property default value\n    var val = this.getCurrentVal();\n    var dx = this.getCurrentX();\n    var x_time = this.getCurrentXTime();\n    var dy = this.getCurrentY();\n    var y_time = this.getCurrentYTime();\n    var video = this.getCurrentVideo();\n    var audio = this.getCurrentAudio();\n    var led = this.getCurrentLed();\n\n    var data = {\n      id: this.instance_property.name, // \"circleRadius\" instead of \"circle radius\"\n      label: this.instance_property.label || this.instance_property.name,\n      val: val,\n      x: dx,\n      x_time:x_time,\n      y: dy,\n      y_time:y_time,\n      video : video,\n      audio : audio,\n      led :led\n    };\n\n    var view = tpl_property(data);\n    this.$el = $(view);\n    this.$el.find('.property__key').click(this.onKeyClick);\n\n    var $input = this.$el.find('input');\n\n    var onChangeEnd = () => {\n      this.editor.undoManager.addState();\n    };\n\n    var draggableOptions = {\n      changeCallback: () => this.onInputChange(),\n      endCallback: () => onChangeEnd()\n    };\n    // Set min & max if they are defined.\n    if ('min' in this.instance_property) {\n      draggableOptions.min = this.instance_property.min;\n    }\n    if ('max' in this.instance_property) {\n      draggableOptions.max = this.instance_property.max;\n    }\n\n    var draggable = new DraggableNumber($input.get(0), draggableOptions);\n    $input.data('draggable', draggable);\n    $input.change(this.onInputChange);\n  }\n\n  remove() {\n    super.render();\n    if (this.$input.data('draggable')) {\n      this.$input.data('draggable').destroy();\n    }\n\n    delete this.$input;\n    delete this.$el;\n  }\n\n  update() {\n    super.render();\n    var val = this.getCurrentVal();\n    var draggable = this.$input.data('draggable');\n\n    if (draggable) {\n      draggable.set(val.toFixed(3));\n    }\n    else {\n      this.$input.val(val.toFixed(3));\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/PropertyMotionBody.js\n **/","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">\");t.b(t.v(t.f(\"label\",c,p,0)));t.b(\"</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"val\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">Ｘ:</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"x\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"  \");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">Time:</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"x_time\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">Ｙ:</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"y\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">Time:</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"number\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"y_time\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">設定Video</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"value\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"video\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">設定audio</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"value\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"audio\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div class=\\\"property property--number\\\">\");t.b(\"\\n\" + i);t.b(\"  <button class=\\\"property__key\\\"></button>\");t.b(\"\\n\" + i);t.b(\"  <label for=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__label\\\">設定Led</label>\");t.b(\"\\n\" + i);t.b(\"  <input type=\\\"value\\\" id=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" class=\\\"property__input\\\" value=\\\"\");t.b(t.v(t.f(\"led\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"</div>\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">{{label}}</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{val}}\\\" />\\n</div>\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">Ｘ:</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{x}}\\\" />\\n  \\n</div>\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">Time:</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{x_time}}\\\" />\\n\\n</div>\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">Ｙ:</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{y}}\\\" />\\n\\n</div>\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">Time:</label>\\n  <input type=\\\"number\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{y_time}}\\\" />\\n\\n</div>\\n\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">設定Video</label>\\n  <input type=\\\"value\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{video}}\\\" />\\n</div>\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">設定audio</label>\\n  <input type=\\\"value\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{audio}}\\\" />\\n</div>\\n\\n\\n<div class=\\\"property property--number\\\">\\n  <button class=\\\"property__key\\\"></button>\\n  <label for=\\\"{{id}}\\\" class=\\\"property__label\\\">設定Led</label>\\n  <input type=\\\"value\\\" id=\\\"{{id}}\\\" class=\\\"property__input\\\" value=\\\"{{led}}\\\" />\\n</div>\", H); return T.render.apply(T, arguments); };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/propertyMotionBody.tpl.html\n ** module id = 33\n ** module chunks = 1\n **/","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"properties-editor\\\">\");t.b(\"\\n\" + i);t.b(\"  <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle-side\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"properties-editor__main test\\\"></div>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"properties-editor\\\">\\n  <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle-side\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\\n  <div class=\\\"properties-editor__main test\\\"></div>\\n</div>\\n\", H); return T.render.apply(T, arguments); };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/propertiesEditor.tpl.html\n ** module id = 34\n ** module chunks = 1\n **/","console.log(\"editor/EditorMenu.js\");\nlet saveAs = require('file-saver').saveAs || require('file-saver');\n\nexport default class EditorMenu {\n  constructor(tweenTime, $timeline, editor) {\n    this.tweenTime = tweenTime;\n    this.$timeline = $timeline;\n    this.editor = editor;\n    this.timer = this.tweenTime.timer;\n    this.initExport();\n    this.initToggle();\n  }\n\n  initToggle() {\n    var parentElement = this.editor.el;\n    var timelineClosed = false;\n    var $toggleLink = this.$timeline.find('[data-action=\"toggle\"]');\n    $toggleLink.click((e) => {\n      e.preventDefault();\n      timelineClosed = !timelineClosed;\n      $toggleLink.toggleClass('menu-item--toggle-up', timelineClosed);\n      parentElement.toggleClass('timeline-is-closed', timelineClosed);\n      return window.dispatchEvent(new Event('resize'));\n    });\n    var $toggleLinkSide = $('.properties-editor', parentElement).find('[data-action=\"toggle\"]');\n    $toggleLinkSide.click((e) => {\n      var propertiesClosed;\n      e.preventDefault();\n      propertiesClosed = !parentElement.hasClass('properties-is-closed');\n      parentElement.toggleClass('properties-is-closed', propertiesClosed);\n      return window.dispatchEvent(new Event('resize'));\n    });\n  }\n\n  initExport() {\n    var exporter = this.editor.exporter;\n    this.$timeline.find('[data-action=\"export\"]').click(function(e) {\n      e.preventDefault();\n      var data = exporter.getJSON();\n      var blob = new Blob([data], {\n        type: 'text/json;charset=utf-8'\n      });\n      saveAs(blob, 'data.json');\n    });\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/EditorMenu.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_36__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"saveAs\",\"commonjs\":\"file-saver\",\"commonjs2\":\"file-saver\",\"amd\":\"file-saver\"}\n ** module id = 36\n ** module chunks = 1\n **/","\nexport default class EditorControls {\n  constructor(tweenTime, $timeline) {\n    console.log(\"editor/EditorControls.js\");\n    this.tweenTime = tweenTime;\n    this.$timeline = $timeline;\n    this.timer = this.tweenTime.timer;\n    this.$time = this.$timeline.find('.control--time');\n    this.$time_end = this.$timeline.find('.control--time-end');\n    this.initControls();\n    this.$time_end.val(this.tweenTime.timer.getDuration());\n\n    $(document).keypress((e) => {\n      if (e.charCode === 32) {\n        // Space\n        this.playPause();\n      }\n    });\n  }\n\n  playPause() {\n    var $play_pause;\n    this.timer.toggle();\n    $play_pause = this.$timeline.find('.control--play-pause');\n    $play_pause.toggleClass('icon-pause', this.timer.is_playing);\n    $play_pause.toggleClass('icon-play', !this.timer.is_playing);\n  }\n\n  initControls() {\n    var $play_pause = this.$timeline.find('.control--play-pause');\n    $play_pause.click((e) => {\n      e.preventDefault();\n      this.playPause();\n    });\n    var $bt_first = this.$timeline.find('.control--first');\n    $bt_first.click((e) => {\n      e.preventDefault();\n      this.timer.seek([0]);\n    });\n    var $bt_last = this.$timeline.find('.control--last');\n    $bt_last.click((e) => {\n      e.preventDefault();\n      var total = this.tweenTime.getTotalDuration();\n      this.timer.seek([total * 1000]);\n    });\n    this.$time.change(() => {\n      var seconds = parseFloat(this.$time.val(), 10) * 1000;\n      this.timer.seek([seconds]);\n    });\n    this.$time_end.change(() => {\n      var seconds = parseFloat(this.$time_end.val(), 10);\n      this.timer.setDuration(seconds);\n    });\n  }\n\n  render(time, time_changed) {\n    if (time_changed) {\n      var seconds = time / 1000;\n      this.$time.val(seconds.toFixed(3));\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/EditorControls.js\n **/","console.log(\"editor/SelectionManager.js\");\nlet d3 = require('d3');\nlet Signals = require('js-signals');\nlet _ = require('lodash');\n\nexport default class SelectionManager {\n  constructor(tweenTime) {\n    this.tweenTime = tweenTime;\n    this.selection = [];\n    this.onSelect = new Signals.Signal();\n  }\n\n  select(item, addToSelection = false) {\n    this.addDataRelations();\n\n    if (!addToSelection) {\n      this.selection = [];\n    }\n    if (item instanceof Array) {\n      for (var i = 0; i < item.length; i++) {\n        var el = item[i];\n        this.selection.push(el);\n      }\n    }\n    else {\n      this.selection.push(item);\n    }\n\n    this.removeDuplicates();\n    this.highlightItems();\n    this.sortSelection();\n    this.onSelect.dispatch(this.selection, addToSelection);\n  }\n\n  getSelection() {\n    return this.selection;\n  }\n\n  removeDuplicates() {\n    var result = [];\n    for (var i = 0; i < this.selection.length; i++) {\n      var item = this.selection[i];\n      var found = false;\n      for (var j = 0; j < result.length; j++) {\n        var item2 = result[j];\n        if (_.isEqual(item, item2)) {\n          found = true;\n          break;\n        }\n      }\n      if (found === false) {\n        result.push(item);\n      }\n    }\n    this.selection = result;\n  }\n\n  removeItem(item) {\n    // If we pass an _id then search for the item and remove it.\n    if (typeof item === 'string') {\n      let itemObj = _.find(this.selection, function(el) {\n        return el._id === item;\n      });\n      if (itemObj) {\n        return this.removeItem(itemObj);\n      }\n    }\n\n    // Remove the object if it exists in the selection.\n    var index = this.selection.indexOf(item);\n    if (index > -1) {\n      this.selection.splice(index, 1);\n    }\n    this.triggerSelect();\n  }\n\n  sortSelection() {\n    var compare = function(a, b) {\n      if (!a.time || !b.time) {\n        return 0;\n      }\n      if (a.time < b.time) {\n        return -1;\n      }\n      if (a.time > b.time) {\n        return 1;\n      }\n      return 0;\n    };\n    this.selection = this.selection.sort(compare);\n  }\n\n  reset() {\n    this.selection = [];\n    this.highlightItems();\n    this.onSelect.dispatch(this.selection, false);\n  }\n\n  triggerSelect() {\n    this.onSelect.dispatch(this.selection, false);\n  }\n\n  addDataRelations() {\n    // We need to add some parent references in main data object.\n    // Add a _property reference to each keys.\n    // Add a _line property for each references.\n    var data = this.tweenTime.data;\n    for (var lineIndex = 0; lineIndex < data.length; lineIndex++) {\n      var line = data[lineIndex];\n      for (var propIndex = 0; propIndex < line.properties.length; propIndex++) {\n        var property = line.properties[propIndex];\n        property._line = line;\n        for (var keyIndex = 0; keyIndex < property.keys.length; keyIndex++) {\n          var key = property.keys[keyIndex];\n          key._property = property;\n        }\n      }\n    }\n  }\n\n  highlightItems() {\n    d3.selectAll('.bar--selected').classed('bar--selected', false);\n    d3.selectAll('.key--selected').classed('key--selected', false);\n\n    for (var i = 0; i < this.selection.length; i++) {\n      var data = this.selection[i];\n      if (data._dom) {\n        var d3item = d3.select(data._dom);\n        if (d3item.classed('bar')) {\n          d3item.classed('bar--selected', true);\n        }\n        else if (d3item.classed('key')) {\n          d3item.classed('key--selected', true);\n        }\n      }\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/SelectionManager.js\n **/","console.log(\"editor/Exporter.js\");\nexport default class Exporter {\n  constructor(editor) {\n    this.editor = editor;\n  }\n\n  getData() {\n    var tweenTime = this.editor.tweenTime;\n    var domain = this.editor.timeline.x.domain();\n    var domain_start = domain[0];\n    var domain_end = domain[1];\n    return {\n      settings: {\n        time: tweenTime.timer.getCurrentTime(),\n        duration: tweenTime.timer.getDuration(),\n        domain: [domain_start.getTime(), domain_end.getTime()]\n      },\n      data: tweenTime.data\n    };\n  }\n\n  getJSON() {\n    var options = this.editor.options;\n    var json_replacer = function(key, val) {\n      // Disable all private properies from TweenMax/TimelineMax\n      if (key.indexOf('_') === 0) {\n        return undefined;\n      }\n      if (options.json_replacer !== undefined) {\n        return options.json_replacer(key, val);\n      }\n      return val;\n    };\n\n    var data = this.getData();\n    return JSON.stringify(data, json_replacer, 2);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/Exporter.js\n **/","console.log(\"editor/undoManager.js\");\nimport 'jquery';\n\nexport default class UndoManager {\n  constructor(editor) {\n    this.editor = editor;\n    this.history_max = 100;\n    this.history = [];\n    this.current_index = 0;\n\n    // Add the initial state\n    this.addState();\n\n    $(document).keydown((e) => {\n      if (e.keyCode === 90) {\n        if (e.metaKey || e.ctrlKey) {\n          if (!e.shiftKey) {\n            // (command | ctrl) Z\n            this.undo();\n          }\n          else {\n            // (command | ctrl) shift Z\n            this.redo();\n          }\n        }\n      }\n    });\n  }\n\n  undo() {\n    // If there is no more history return\n    if (this.current_index <= 0) {\n      return false;\n    }\n    this.current_index -= 1;\n    this.setState(this.current_index);\n  }\n\n  redo() {\n    // Stop if there is no more things.\n    if (this.current_index >= this.history.length - 1) {\n      return false;\n    }\n    this.current_index += 1;\n    this.setState(this.current_index);\n  }\n\n  addState() {\n    var data = JSON.parse(this.editor.exporter.getJSON());\n\n    // if we did some undo before and then edit something,\n    // we want to remove all actions past the current index first.\n    if (this.current_index + 1 < this.history.length) {\n      this.history.splice(this.current_index + 1, this.history.length - 1);\n    }\n\n    this.history.push(data);\n\n    // Keep history to a max size by removing the first element if needed.\n    if (this.history.length > this.history_max) {\n      this.history.shift();\n    }\n\n    // Set the current index\n    this.current_index = this.history.length - 1;\n  }\n\n  setState(index) {\n    var state = this.history[index];\n    var data = state.data;\n    var tweenTime = this.editor.tweenTime;\n\n    // naively copy keys and values from previous state\n    for (var item_key = 0; item_key < data.length; item_key++) {\n      var item = data[item_key];\n      // if item is not defined copy it\n      if (!tweenTime.data[item_key]) {\n        tweenTime.data[item_key] = item;\n      }\n      else {\n        for (var prop_key = 0; prop_key < item.properties.length; prop_key++) {\n          var prop = item.properties[prop_key];\n          // if property is not defined copy it\n          if (!tweenTime.data[item_key].properties[prop_key]) {\n            tweenTime.data[item_key].properties[prop_key] = prop;\n          }\n          else {\n            // set property keys\n            var keys = tweenTime.data[item_key].properties[prop_key].keys;\n            for (var key_key = 0; key_key < prop.keys.length; key_key++) {\n              var key = prop.keys[key_key];\n              if (!keys[key_key]) {\n                keys[key_key] = key;\n              }\n              else {\n                keys[key_key].time = key.time;\n                keys[key_key].val = key.val;\n                keys[key_key].ease = key.ease;\n              }\n            }\n          }\n        }\n      }\n\n      tweenTime.data[item_key]._isDirty = true;\n    }\n    this.editor.render(false, true);\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./editor/UndoManager.js\n **/","var H = require(\"hogan.js\");\nmodule.exports = function() { var T = new H.Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"timeline\\\">\");t.b(\"\\n\" + i);t.b(\"  <nav class=\\\"timeline__menu\\\">\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"menu-item\\\" data-action=\\\"export\\\">Export</a>\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\");t.b(\"\\n\" + i);t.b(\"  </nav>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"timeline__controls controls\\\">\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"control control--first icon-first\\\"></a>\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"control control--play-pause icon-play\\\"></a>\");t.b(\"\\n\" + i);t.b(\"    <a href=\\\"#\\\" class=\\\"control control--last icon-last\\\"></a>\");t.b(\"\\n\" + i);t.b(\"    <input type=\\\"text\\\" class=\\\"control control--input control--time\\\" /> <span class=\\\"control__time-separator\\\">/</span> <input type=\\\"text\\\" class=\\\"control control--input control--time-end\\\" />\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"timeline__header\\\">\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"timeline__main\\\">\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");return t.fl(); },partials: {}, subs: {  }}, \"<div class=\\\"timeline\\\">\\n  <nav class=\\\"timeline__menu\\\">\\n    <a href=\\\"#\\\" class=\\\"menu-item\\\" data-action=\\\"export\\\">Export</a>\\n    <a href=\\\"#\\\" class=\\\"menu-item menu-item--toggle\\\" data-action=\\\"toggle\\\"><i class=\\\"icon-toggle\\\"></i></a>\\n  </nav>\\n  <div class=\\\"timeline__controls controls\\\">\\n    <a href=\\\"#\\\" class=\\\"control control--first icon-first\\\"></a>\\n    <a href=\\\"#\\\" class=\\\"control control--play-pause icon-play\\\"></a>\\n    <a href=\\\"#\\\" class=\\\"control control--last icon-last\\\"></a>\\n    <input type=\\\"text\\\" class=\\\"control control--input control--time\\\" /> <span class=\\\"control__time-separator\\\">/</span> <input type=\\\"text\\\" class=\\\"control control--input control--time-end\\\" />\\n  </div>\\n  <div class=\\\"timeline__header\\\">\\n\\n  </div>\\n  <div class=\\\"timeline__main\\\">\\n\\n  </div>\\n</div>\\n\", H); return T.render.apply(T, arguments); };\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./templates/timeline.tpl.html\n ** module id = 41\n ** module chunks = 1\n **/"],"sourceRoot":""}